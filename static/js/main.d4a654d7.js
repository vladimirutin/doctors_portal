/*! For license information please see main.d4a654d7.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return D(e(t))}catch(Zn){}}return null}var R=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],F=-1;function V(e){return{current:e}}function U(e){0>F||(e.current=M[F],M[F]=null,F--)}function z(e,t){F++,M[F]=e.current,e.current=t}var B,q,H=V(null),W=V(null),K=V(null),G=V(null);function Q(e,t){switch(z(K,t),z(W,e),z(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(H),z(H,e)}function X(){U(H),U(W),U(K)}function Y(e){null!==e.memoizedState&&z(G,e);var t=H.current,n=bd(t,e.type);t!==n&&(z(W,e),z(H,n))}function J(e){W.current===e&&(U(H),U(W)),G.current===e&&(U(G),dh._currentValue=L)}function $(e){if(void 0===B)try{throw Error()}catch(Zn){var t=Zn.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",q=-1<Zn.stack.indexOf("\n    at")?" (<anonymous>)":-1<Zn.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Zn){var r=Zn}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?$(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return $(e.type);case 16:return $("Lazy");case 13:return e.child!==t&&null!==t?$("Suspense Fallback"):$("Suspense");case 19:return $("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return $("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(Zn){return"\nError generating stack: "+Zn.message+"\n"+Zn.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ae=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(xe(e)/ke|0)|0},xe=Math.log,ke=Math.LN2;var Se=256,_e=262144,Ee=4194304;function Ne(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=Ne(r):0!==(a&=o)?i=Ne(a):n||0!==(n=o&~e)&&(i=Ne(n)):0!==(o=r&~s)?i=Ne(o):0!==a?i=Ne(a):n||0!==(n=r&~e)&&(i=Ne(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=Ee;return 0===(62914560&(Ee<<=1))&&(Ee=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function De(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function je(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=j.p;return 0!==e?e:void 0===(e=window.event)?32:Th(e.type)}function Ve(e,t){var n=j.p;try{return j.p=e,t()}finally{j.p=n}}var Ue=Math.random().toString(36).slice(2),ze="__reactFiber$"+Ue,Be="__reactProps$"+Ue,qe="__reactContainer$"+Ue,He="__reactEvents$"+Ue,We="__reactListeners$"+Ue,Ke="__reactHandles$"+Ue,Ge="__reactResources$"+Ue,Qe="__reactMarker$"+Ue;function Xe(e){delete e[ze],delete e[Be],delete e[He],delete e[We],delete e[Ke]}function Ye(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Md(e);null!==e;){if(n=e[ze])return n;e=Md(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[ze]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},ot={};function lt(e,t,n){if(i=t,re.call(ot,i)||!re.call(at,i)&&(st.test(i)?ot[i]=!0:(at[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?wt(e,a,dt(t)):null!=n?wt(e,a,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(R(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Nt(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Nt(e,s,t[s])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dt(){}var Rt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var jt=null,Lt=null;function Mt(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Be]||null;if(!i)throw Error(a(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Vt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==jt||null!==Lt)&&(eu(),jt&&(t=jt,e=Lt,Lt=jt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Be]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(zt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch($h){Bt=!1}var Ht=null,Wt=null,Kt=null;function Gt(){if(Kt)return Kt;var e,t,n=Wt,r=n.length,i="value"in Ht?Ht.value:Ht.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Xt(){return!0}function Yt(){return!1}function Jt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Xt:Yt,this.isPropagationStopped=Yt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xt)},persist:function(){},isPersistent:Xt}),t}var $t,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Jt(tn),rn=f({},tn,{view:0,detail:0}),sn=Jt(rn),an=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?($t=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=$t=0,en=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=Jt(an),ln=Jt(f({},an,{dataTransfer:0})),cn=Jt(f({},rn,{relatedTarget:0})),un=Jt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Jt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Jt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function vn(){return gn}var yn=Jt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Jt(f({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Jt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),xn=Jt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Jt(f({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Jt(f({},tn,{newState:0,oldState:0})),_n=[9,13,27,32],En=zt&&"CompositionEvent"in window,Nn=null;zt&&"documentMode"in document&&(Nn=document.documentMode);var Tn=zt&&"TextEvent"in window&&!Nn,Cn=zt&&(!En||Nn&&8<Nn&&11>=Nn),In=String.fromCharCode(32),An=!1;function Pn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Ln(e,t,n,r){jt?Lt?Lt.push(r):Lt=[r]:jt=r,0<(t=id(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Fn=null;function Vn(e){Yu(e,0)}function Un(e){if(pt($e(e)))return e}function zn(e,t){if("change"===e)return t}var Bn=!1;if(zt){var qn;if(zt){var Hn="oninput"in document;if(!Hn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Hn="function"===typeof Wn.oninput}qn=Hn}else qn=!1;Bn=qn&&(!document.documentMode||9<document.documentMode)}function Kn(){Mn&&(Mn.detachEvent("onpropertychange",Gn),Fn=Mn=null)}function Gn(e){if("value"===e.propertyName&&Un(Fn)){var t=[];Ln(t,Fn,e,Ot(e)),Vt(Vn,t)}}function Qn(e,t,n){"focusin"===e?(Kn(),Fn=n,(Mn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Kn()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(Fn)}function Yn(e,t){if("click"===e)return Un(t)}function Jn(e,t){if("input"===e||"change"===e)return Un(t)}var $n="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function er(e,t){if($n(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!$n(e[i],t[i]))return!1}return!0}function tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nr(e,t){var n,r=tr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tr(r)}}function rr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?rr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ir(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=zt&&"documentMode"in document&&11>=document.documentMode,or=null,lr=null,cr=null,ur=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==or||or!==mt(r)||("selectionStart"in(r=or)&&sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&er(cr,r)||(cr=r,0<(r=id(lr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},pr={},mr={};function gr(e){if(pr[e])return pr[e];if(!fr[e])return e;var t,n=fr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return pr[e]=n[t];return e}zt&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);var vr=gr("animationend"),yr=gr("animationiteration"),br=gr("animationstart"),wr=gr("transitionrun"),xr=gr("transitionstart"),kr=gr("transitioncancel"),Sr=gr("transitionend"),_r=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){_r.set(e,t),rt(t,[e])}Er.push("scrollEnd");var Tr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cr=[],Ir=0,Ar=0;function Pr(){for(var e=Ir,t=Ar=Ir=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var s=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&jr(n,i,s)}}function Dr(e,t,n,r){Cr[Ir++]=e,Cr[Ir++]=t,Cr[Ir++]=n,Cr[Ir++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Dr(e,t,n,r),Lr(e)}function Or(e,t){return Dr(e,null,null,t),Lr(e)}function jr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Lr(e){if(50<Wc)throw Wc=0,Kc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,n,r){return new Fr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Vr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Ur(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Vr(31,n,t,i)).elementType=T,e.lanes=s,e;case v:return Hr(n.children,i,s,t);case y:o=8,i|=24;break;case b:return(e=Vr(12,n,t,2|i)).elementType=b,e.lanes=s,e;case S:return(e=Vr(13,n,t,i)).elementType=S,e.lanes=s,e;case _:return(e=Vr(19,n,t,i)).elementType=_,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case w:o=9;break e;case k:o=11;break e;case E:o=14;break e;case N:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Vr(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Hr(e,t,n,r){return(e=Vr(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=Vr(6,e,null,t)).lanes=n,e}function Kr(e){var t=Vr(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=Vr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qr=new WeakMap;function Xr(e,t){if("object"===typeof e&&null!==e){var n=Qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Qr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Jr=0,$r=null,Zr=0,ei=[],ti=0,ni=null,ri=1,ii="";function si(e,t){Yr[Jr++]=Zr,Yr[Jr++]=$r,$r=e,Zr=t}function ai(e,t,n){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ni=e;var r=ri;e=ii;var i=32-we(r)-1;r&=~(1<<i),n+=1;var s=32-we(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ri=1<<32-we(t)+i|n<<i|r,ii=s+e}else ri=1<<s|n<<i|r,ii=e}function oi(e){null!==e.return&&(si(e,1),ai(e,1,0))}function li(e){for(;e===$r;)$r=Yr[--Jr],Yr[Jr]=null,Zr=Yr[--Jr],Yr[Jr]=null;for(;e===ni;)ni=ei[--ti],ei[ti]=null,ii=ei[--ti],ei[ti]=null,ri=ei[--ti],ei[ti]=null}function ci(e,t){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ri=t.id,ii=t.overflow,ni=e}var ui=null,di=null,hi=!1,fi=null,pi=!1,mi=Error(a(519));function gi(e){throw ki(Xr(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mi}function vi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[Be]=r,n){case"dialog":Ju("cancel",t),Ju("close",t);break;case"iframe":case"object":case"embed":Ju("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)Ju(Qu[n],t);break;case"source":Ju("error",t);break;case"img":case"image":case"link":Ju("error",t),Ju("load",t);break;case"details":Ju("toggle",t);break;case"input":Ju("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ju("invalid",t);break;case"textarea":Ju("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Ju("beforetoggle",t),Ju("toggle",t)),null!=r.onScroll&&Ju("scroll",t),null!=r.onScrollEnd&&Ju("scrollend",t),null!=r.onClick&&(t.onclick=Dt),t=!0):t=!1,t||gi(e,!0)}function yi(e){for(ui=e.return;ui;)switch(ui.tag){case 5:case 31:case 13:return void(pi=!1);case 27:case 3:return void(pi=!0);default:ui=ui.return}}function bi(e){if(e!==ui)return!1;if(!hi)return yi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wd(e.type,e.memoizedProps)),t=!t),t&&di&&gi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));di=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));di=Ld(e)}else 27===n?(n=di,Td(e.type)?(e=jd,jd=null,di=e):di=n):di=ui?Od(e.stateNode.nextSibling):null;return!0}function wi(){di=ui=null,hi=!1}function xi(){var e=fi;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),fi=null),e}function ki(e){null===fi?fi=[e]:fi.push(e)}var Si=V(null),_i=null,Ei=null;function Ni(e,t,n){z(Si,t._currentValue),t._currentValue=n}function Ti(e){e._currentValue=Si.current,U(Si)}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ci(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ci(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ai(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;$n(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}i=i.return}null!==e&&Ii(t,e,n,r),t.flags|=262144}function Pi(e){for(e=e.firstContext;null!==e;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Di(e){_i=e,Ei=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ri(e){return ji(_i,e)}function Oi(e,t){return null===_i&&Di(e),ji(e,t)}function ji(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ei){if(null===e)throw Error(a(308));Ei=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ei=Ei.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Mi=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,Vi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Li,data:new Map,refCount:0}}function zi(e){e.refCount--,0===e.refCount&&Mi(Fi,function(){e.controller.abort()})}var Bi=null,qi=0,Hi=0,Wi=null;function Ki(){if(0===--qi&&null!==Bi){null!==Wi&&(Wi.status="fulfilled");var e=Bi;Bi=null,Hi=0,Wi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=O.S;O.S=function(e,t){Oc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];qi=0,Hi=qu(),Wi={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Ki,Ki)}(0,t),null!==Gi&&Gi(e,t)};var Qi=V(null);function Xi(){var e=Qi.current;return null!==e?e:mc.pooledCache}function Yi(e,t){z(Qi,null===t?Qi.current:t.pool)}function Ji(){var e=Xi();return null===e?null:{parent:Vi._currentValue,pool:e}}var $i=Error(a(460)),Zi=Error(a(474)),es=Error(a(542)),ts={then:function(){}};function ns(e){return"fulfilled"===(e=e.status)||"rejected"===e}function rs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Dt,Dt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e;default:if("string"===typeof t.status)t.then(Dt,Dt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e}throw ss=t,$i}}function is(e){try{return(0,e._init)(e._payload)}catch(Zn){if(null!==Zn&&"object"===typeof Zn&&"function"===typeof Zn.then)throw ss=Zn,$i;throw Zn}}var ss=null;function as(){if(null===ss)throw Error(a(459));var e=ss;return ss=null,e}function os(e){if(e===$i||e===es)throw Error(a(483))}var ls=null,cs=0;function us(e){var t=cs;return cs+=1,null===ls&&(ls=[]),rs(ls,e,t)}function ds(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hs(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&is(s)===t.type)?(ds(t=i(t,n.props),n),t.return=e,t):(ds(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return ds(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Gr(t,e.mode,n)).return=e,t;case N:return h(e,t=is(t),n)}if(R(t)||A(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,us(t),n);if(t.$$typeof===x)return h(e,Oi(e,t),n);hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,n=is(n),r)}if(R(n)||A(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,us(n),r);if(n.$$typeof===x)return f(e,t,Oi(e,n),r);hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,r=is(r),i)}if(R(r)||A(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,us(r),i);if(r.$$typeof===x)return p(e,t,n,Oi(t,r),i);hs(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===v){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===N&&is(b)===c.type){n(l,c.sibling),ds(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(ds(d=qr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Gr(u,l.mode,d)).return=l,l=d}return o(l);case N:return y(l,c,u=is(u),d)}if(R(u))return function(i,a,o,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=s(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),hi&&si(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(a=s(d,a,m),null===u?c=d:u.sibling=d,u=d);return hi&&si(i,m),c}for(d=r(d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=s(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),hi&&si(i,m),c}(l,c,u,d);if(A(u)){if("function"!==typeof(b=A(u)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=s(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),hi&&si(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return hi&&si(i,g),u}for(m=r(m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),hi&&si(i,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,us(u),d);if(u.$$typeof===x)return y(l,c,Oi(l,u),d);hs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Wr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{cs=0;var i=y(e,t,n,r);return ls=null,i}catch(Zn){if(Zn===$i||Zn===es)throw Zn;var s=Vr(29,Zn,null,e.mode);return s.lanes=r,s.return=e,s}}}var ps=fs(!0),ms=fs(!1),gs=!1;function vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ys(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),jr(e,null,n),t}return Dr(e,r,t,n),Lr(e)}function xs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function ks(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ss=!1;function _s(){if(Ss){if(null!==Wi)throw Wi}}function Es(e,t,n,r){Ss=!1;var i=e.updateQueue;gs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(vc&h)===h:(r&h)===h){0!==h&&h===Hi&&(Ss=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:gs=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),Ec|=a,e.lanes=a,e.memoizedState=d}}function Ns(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Ts(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ns(n[e],t)}var Cs=V(null),Is=V(0);function As(e,t){z(Is,e=Sc),z(Cs,t),Sc=e|t.baseLanes}function Ps(){z(Is,Sc),z(Cs,Cs.current)}function Ds(){Sc=Is.current,U(Cs),U(Is)}var Rs=V(null),Os=null;function js(e){var t=e.alternate;z(Us,1&Us.current),z(Rs,e),null===Os&&(null===t||null!==Cs.current||null!==t.memoizedState)&&(Os=e)}function Ls(e){z(Us,Us.current),z(Rs,e),null===Os&&(Os=e)}function Ms(e){22===e.tag?(z(Us,Us.current),z(Rs,e),null===Os&&(Os=e)):Fs()}function Fs(){z(Us,Us.current),z(Rs,Rs.current)}function Vs(e){U(Rs),Os===e&&(Os=null),U(Us)}var Us=V(0);function zs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Dd(n)||Rd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bs=0,qs=null,Hs=null,Ws=null,Ks=!1,Gs=!1,Qs=!1,Xs=0,Ys=0,Js=null,$s=0;function Zs(){throw Error(a(321))}function ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function ta(e,t,n,r,i,s){return Bs=s,qs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?vo:yo,Qs=!1,s=n(r,i),Qs=!1,Gs&&(s=ra(t,n,r,i)),na(e),s}function na(e){O.H=go;var t=null!==Hs&&null!==Hs.next;if(Bs=0,Ws=Hs=qs=null,Ks=!1,Ys=0,Js=null,t)throw Error(a(300));null===e||Oo||null!==(e=e.dependencies)&&Pi(e)&&(Oo=!0)}function ra(e,t,n,r){qs=e;var i=0;do{if(Gs&&(Js=null),Ys=0,Gs=!1,25<=i)throw Error(a(301));if(i+=1,Ws=Hs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}O.H=bo,s=t(n,r)}while(Gs);return s}function ia(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?ua(t):t,e=e.useState()[0],(null!==Hs?Hs.memoizedState:null)!==e&&(qs.flags|=1024),t}function sa(){var e=0!==Xs;return Xs=0,e}function aa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oa(e){if(Ks){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ks=!1}Bs=0,Ws=Hs=qs=null,Gs=!1,Ys=Xs=0,Js=null}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ws?qs.memoizedState=Ws=e:Ws=Ws.next=e,Ws}function ca(){if(null===Hs){var e=qs.alternate;e=null!==e?e.memoizedState:null}else e=Hs.next;var t=null===Ws?qs.memoizedState:Ws.next;if(null!==t)Ws=t,Hs=e;else{if(null===e){if(null===qs.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Hs=e).memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},null===Ws?qs.memoizedState=Ws=e:Ws=Ws.next=e}return Ws}function ua(e){var t=Ys;return Ys+=1,null===Js&&(Js=[]),e=rs(Js,e,t),t=qs,null===(null===Ws?t.memoizedState:Ws.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?vo:yo),e}function da(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ua(e);if(e.$$typeof===x)return Ri(e)}throw Error(a(438,String(e)))}function ha(e){var t=null,n=qs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function fa(e,t){return"function"===typeof t?t(e):t}function pa(e){return ma(ca(),Hs,e)}function ma(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(vc&h)===h:(Bs&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hi&&(d=!0);else{if((Bs&f)===f){u=u.next,f===Hi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,qs.lanes|=f,Ec|=f}h=u.action,Qs&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,qs.lanes|=h,Ec|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!$n(s,e.memoizedState)&&(Oo=!0,d&&null!==(n=Wi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ga(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);$n(s,t.memoizedState)||(Oo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function va(e,t,n){var r=qs,i=ca(),s=hi;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!$n((Hs||i).memoizedState,n);if(o&&(i.memoizedState=n,Oo=!0),i=i.queue,Ba(wa.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Ws&&1&Ws.memoizedState.tag){if(r.flags|=2048,Ma(9,{destroy:void 0},ba.bind(null,r,i,n,t),null),null===mc)throw Error(a(349));s||0!==(127&Bs)||ya(r,t,n)}return n}function ya(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ba(e,t,n,r){t.value=n,t.getSnapshot=r,xa(t)&&ka(e)}function wa(e,t,n){return n(function(){xa(t)&&ka(e)})}function xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch(r){return!0}}function ka(e){var t=Or(e,2);null!==t&&Xc(t,e,2)}function Sa(e){var t=la();if("function"===typeof e){var n=e;if(e=n(),Qs){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t}function _a(e,t,n,r){return e.baseState=n,ma(e,Hs,"function"===typeof r?r:fa)}function Ea(e,t,n,r,i){if(fo(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==O.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Na(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Na(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=O.T,a={};O.T=a;try{var o=n(i,r),l=O.S;null!==l&&l(a,o),Ta(e,t,o)}catch(c){Ia(e,t,c)}finally{null!==s&&null!==a.types&&(s.types=a.types),O.T=s}}else try{Ta(e,t,s=n(i,r))}catch(u){Ia(e,t,u)}}function Ta(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ca(e,t,n)},function(n){return Ia(e,t,n)}):Ca(e,t,n)}function Ca(e,t,n){t.status="fulfilled",t.value=n,Aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Na(e,n)))}function Ia(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Aa(t),t=t.next}while(t!==r)}e.action=null}function Aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pa(e,t){return t}function Da(e,t){if(hi){var n=mc.formState;if(null!==n){e:{var r=qs;if(hi){if(di){t:{for(var i=di,s=pi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=Od(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){di=Od(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=la()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:t},n.queue=r,n=co.bind(null,qs,r),r.dispatch=n,r=Sa(!1),s=ho.bind(null,qs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=la()).queue=i,n=Ea.bind(null,qs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ra(e){return Oa(ca(),Hs,e)}function Oa(e,t,n){if(t=ma(e,t,Pa)[0],e=pa(fa)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ua(t)}catch(Zn){if(Zn===$i)throw es;throw Zn}else r=t;var i=(t=ca()).queue,s=i.dispatch;return n!==t.memoizedState&&(qs.flags|=2048,Ma(9,{destroy:void 0},ja.bind(null,i,n),null)),[r,s,e]}function ja(e,t){e.action=t}function La(e){var t=ca(),n=Hs;if(null!==n)return Oa(t,n,e);ca(),t=t.memoizedState;var r=(n=ca()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ma(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return ca().memoizedState}function Va(e,t,n,r){var i=la();qs.flags|=e,i.memoizedState=Ma(1|t,{destroy:void 0},n,void 0===r?null:r)}function Ua(e,t,n,r){var i=ca();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==Hs&&null!==r&&ea(r,Hs.memoizedState.deps)?i.memoizedState=Ma(t,s,n,r):(qs.flags|=e,i.memoizedState=Ma(1|t,s,n,r))}function za(e,t){Va(8390656,8,e,t)}function Ba(e,t){Ua(2048,8,e,t)}function qa(e){var t=ca().memoizedState;return function(e){qs.flags|=4;var t=qs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Ha(e,t){return Ua(4,2,e,t)}function Wa(e,t){return Ua(4,4,e,t)}function Ka(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ga(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4,4,Ka.bind(null,t,e),n)}function Qa(){}function Xa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ea(t,r[1]))return r[0];if(r=e(),Qs){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Ja(e,t,n){return void 0===n||0!==(1073741824&Bs)&&0===(261930&vc)?e.memoizedState=t:(e.memoizedState=n,e=Qc(),qs.lanes|=e,Ec|=e,n)}function $a(e,t,n,r){return $n(n,t)?n:null!==Cs.current?(e=Ja(e,n,r),$n(e,t)||(Oo=!0),e):0===(42&Bs)||0!==(1073741824&Bs)&&0===(261930&vc)?(Oo=!0,e.memoizedState=n):(e=Qc(),qs.lanes|=e,Ec|=e,t)}function Za(e,t,n,r,i){var s=j.p;j.p=0!==s&&8>s?s:8;var a=O.T,o={};O.T=o,ho(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Gc());else uo(e,t,r,Gc())}catch(u){uo(e,t,{then:function(){},status:"rejected",reason:u},Gc())}finally{j.p=s,null!==a&&null!==o.types&&(a.types=o.types),O.T=a}}function eo(){}function to(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=no(e).queue;Za(e,i,t,L,null===n?eo:function(){return ro(e),n(r)})}function no(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=no(e);null===t.next&&(t=e.alternate.memoizedState),uo(e,t.next.queue,{},Gc())}function io(){return Ri(dh)}function so(){return ca().memoizedState}function ao(){return ca().memoizedState}function oo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),r=ws(t,e=bs(n),n);return null!==r&&(Xc(r,t,n),xs(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function lo(e,t,n){var r=Gc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fo(e)?po(t,n):null!==(n=Rr(e,t,n,r))&&(Xc(n,e,r),mo(n,t,r))}function co(e,t,n){uo(e,t,n,Gc())}function uo(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fo(e))po(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,$n(o,a))return Dr(e,t,i,0),null===mc&&Pr(),!1}catch(l){}if(null!==(n=Rr(e,t,i,r)))return Xc(n,e,r),mo(n,t,r),!0}return!1}function ho(e,t,n,r){if(r={lane:2,revertLane:qu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fo(e)){if(t)throw Error(a(479))}else null!==(t=Rr(e,n,r,2))&&Xc(t,e,2)}function fo(e){var t=e.alternate;return e===qs||null!==t&&t===qs}function po(e,t){Gs=Ks=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var go={readContext:Ri,use:da,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useLayoutEffect:Zs,useInsertionEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useSyncExternalStore:Zs,useId:Zs,useHostTransitionStatus:Zs,useFormState:Zs,useActionState:Zs,useOptimistic:Zs,useMemoCache:Zs,useCacheRefresh:Zs};go.useEffectEvent=Zs;var vo={readContext:Ri,use:da,useCallback:function(e,t){return la().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:za,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){Va(4,2,e,t)},useMemo:function(e,t){var n=la();t=void 0===t?null:t;var r=e();if(Qs){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=la();if(void 0!==n){var i=n(t);if(Qs){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=lo.bind(null,qs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},la().memoizedState=e},useState:function(e){var t=(e=Sa(e)).queue,n=co.bind(null,qs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qa,useDeferredValue:function(e,t){return Ja(la(),e,t)},useTransition:function(){var e=Sa(!1);return e=Za.bind(null,qs,e.queue,!0,!1),la().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=qs,i=la();if(hi){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===mc)throw Error(a(349));0!==(127&vc)||ya(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,za(wa.bind(null,r,s,e),[e]),r.flags|=2048,Ma(9,{destroy:void 0},ba.bind(null,r,s,n,t),null),n},useId:function(){var e=la(),t=mc.identifierPrefix;if(hi){var n=ii;t="_"+t+"R_"+(n=(ri&~(1<<32-we(ri)-1)).toString(32)+n),0<(n=Xs++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=$s++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:io,useFormState:Da,useActionState:Da,useOptimistic:function(e){var t=la();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ho.bind(null,qs,!0,n),n.dispatch=t,[e,t]},useMemoCache:ha,useCacheRefresh:function(){return la().memoizedState=oo.bind(null,qs)},useEffectEvent:function(e){var t=la(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(a(440));return n.impl.apply(void 0,arguments)}}},yo={readContext:Ri,use:da,useCallback:Xa,useContext:Ri,useEffect:Ba,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Ya,useReducer:pa,useRef:Fa,useState:function(){return pa(fa)},useDebugValue:Qa,useDeferredValue:function(e,t){return $a(ca(),Hs.memoizedState,e,t)},useTransition:function(){var e=pa(fa)[0],t=ca().memoizedState;return["boolean"===typeof e?e:ua(e),t]},useSyncExternalStore:va,useId:so,useHostTransitionStatus:io,useFormState:Ra,useActionState:Ra,useOptimistic:function(e,t){return _a(ca(),0,e,t)},useMemoCache:ha,useCacheRefresh:ao};yo.useEffectEvent=qa;var bo={readContext:Ri,use:da,useCallback:Xa,useContext:Ri,useEffect:Ba,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Ya,useReducer:ga,useRef:Fa,useState:function(){return ga(fa)},useDebugValue:Qa,useDeferredValue:function(e,t){var n=ca();return null===Hs?Ja(n,e,t):$a(n,Hs.memoizedState,e,t)},useTransition:function(){var e=ga(fa)[0],t=ca().memoizedState;return["boolean"===typeof e?e:ua(e),t]},useSyncExternalStore:va,useId:so,useHostTransitionStatus:io,useFormState:La,useActionState:La,useOptimistic:function(e,t){var n=ca();return null!==Hs?_a(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ha,useCacheRefresh:ao};function wo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bo.useEffectEvent=qa;var xo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=bs(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ws(e,i,r))&&(Xc(t,e,r),xs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=bs(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ws(e,i,r))&&(Xc(t,e,r),xs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),r=bs(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ws(e,r,n))&&(Xc(t,e,n),xs(t,e,n))}};function ko(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!er(n,r)||!er(i,s))}function So(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function _o(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Eo(e){Tr(e)}function No(e){console.error(e)}function To(e){Tr(e)}function Co(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Io(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ao(e,t,n){return(n=bs(n)).tag=3,n.payload={element:null},n.callback=function(){Co(e,t)},n}function Po(e){return(e=bs(e)).tag=3,e}function Do(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Io(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Io(t,n,r),"function"!==typeof i&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ro=Error(a(461)),Oo=!1;function jo(e,t,n,r){t.child=null===e?ms(t,null,n,r):ps(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Di(t),r=ta(e,t,n,a,s,i),o=sa(),null===e||Oo?(hi&&o&&oi(t),t.flags|=1,jo(e,t,r,i),t.child):(aa(e,t,i),sl(e,t,i))}function Mo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ur(s)||void 0!==s.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Fo(e,t,s,r,i))}if(s=e.child,!al(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:er)(a,r)&&e.ref===t.ref)return sl(e,t,i)}return t.flags|=1,(e=zr(s,r)).ref=t.ref,e.return=t,t.child=e}function Fo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(er(s,r)&&e.ref===t.ref){if(Oo=!1,t.pendingProps=r=s,!al(e,i))return t.lanes=e.lanes,sl(e,t,i);0!==(131072&e.flags)&&(Oo=!0)}}return Wo(e,t,n,r,i)}function Vo(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return zo(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,zo(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==s?s.cachePool:null),null!==s?As(t,s):Ps(),Ms(t)}else null!==s?(Yi(0,s.cachePool),As(t,s),Fs(),t.memoizedState=null):(null!==e&&Yi(0,null),Ps(),Fs());return jo(e,t,i,n),t.child}function Uo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zo(e,t,n,r,i){var s=Xi();return s=null===s?null:{parent:Vi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Yi(0,null),Ps(),Ms(t),null!==e&&Ai(e,t,r,!0),t.childLanes=i,null}function Bo(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qo(e,t,n){return ps(t,e.child,null,n),(e=Bo(t,t.pendingProps)).flags|=2,Vs(t),t.memoizedState=null,e}function Ho(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Wo(e,t,n,r,i){return Di(t),n=ta(e,t,n,r,void 0,i),r=sa(),null===e||Oo?(hi&&r&&oi(t),t.flags|=1,jo(e,t,n,i),t.child):(aa(e,t,i),sl(e,t,i))}function Ko(e,t,n,r,i,s){return Di(t),t.updateQueue=null,n=ra(t,r,n,i),na(e),r=sa(),null===e||Oo?(hi&&r&&oi(t),t.flags|=1,jo(e,t,n,s),t.child):(aa(e,t,s),sl(e,t,s))}function Go(e,t,n,r,i){if(Di(t),null===t.stateNode){var s=Mr,a=n.contextType;"object"===typeof a&&null!==a&&(s=Ri(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=xo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},vs(t),a=n.contextType,s.context="object"===typeof a&&null!==a?Ri(a):Mr,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(wo(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&xo.enqueueReplaceState(s,s.state,null),Es(t,r,s,i),_s(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=_o(n,o);s.props=l;var c=s.context,u=n.contextType;a=Mr,"object"===typeof u&&null!==u&&(a=Ri(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&So(t,s,r,a),gs=!1;var h=t.memoizedState;s.state=h,Es(t,r,s,i),_s(),c=t.memoizedState,o||h!==c||gs?("function"===typeof d&&(wo(t,n,d,r),c=t.memoizedState),(l=gs||ko(t,n,l,r,h,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ys(e,t),u=_o(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=Ri(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&So(t,s,r,l),gs=!1,h=t.memoizedState,s.state=h,Es(t,r,s,i),_s();var f=t.memoizedState;a!==d||h!==f||gs||null!==e&&null!==e.dependencies&&Pi(e.dependencies)?("function"===typeof o&&(wo(t,n,o,r),f=t.memoizedState),(u=gs||ko(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Pi(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ho(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ps(t,e.child,null,i),t.child=ps(t,null,n,i)):jo(e,t,n,i),t.memoizedState=s.state,e=t.child):e=sl(e,t,i),e}function Qo(e,t,n,r){return wi(),t.flags|=256,jo(e,t,n,r),t.child}var Xo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:Ji()}}function Jo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Cc),e}function $o(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Us.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(s?js(t):Fs(),(e=di)?null!==(e=null!==(e=Pd(e,pi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,ui=t,di=null):e=null,null===e)throw gi(t);return Rd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Fs(),l=el({mode:"hidden",children:l},s=t.mode),i=Hr(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Yo(n),i.childLanes=Jo(e,r,n),t.memoizedState=Xo,Uo(null,i)):(js(t),Zo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(js(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(Fs(),t.child=e.child,t.flags|=128,t=null):(Fs(),l=i.fallback,s=t.mode,i=el({mode:"visible",children:i.children},s),(l=Hr(l,s,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,ps(t,e.child,null,n),(i=t.child).memoizedState=Yo(n),i.childLanes=Jo(e,r,n),t.memoizedState=Xo,t=Uo(null,i));else if(js(t),Rd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,ki({value:i,source:null,stack:null}),t=tl(e,t,n)}else if(Oo||Ai(e,t,n,!1),r=0!==(n&e.childLanes),Oo||r){if(null!==(r=mc)&&(0!==(i=je(r,n))&&i!==c.retryLane))throw c.retryLane=i,Or(e,i),Xc(r,e,i),Ro;Dd(l)||ou(),t=tl(e,t,n)}else Dd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,di=Od(l.nextSibling),ui=t,hi=!0,fi=null,pi=!1,null!==e&&ci(t,e),(t=Zo(t,i.children)).flags|=4096);return t}return s?(Fs(),l=i.fallback,s=t.mode,u=(c=e.child).sibling,(i=zr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=zr(u,l):(l=Hr(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Uo(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Yo(n):(null!==(s=l.cachePool)?(c=Vi._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Ji(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=Jo(e,r,n),t.memoizedState=Xo,Uo(e.child,i)):(js(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zo(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=Vr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return ps(t,e.child,null,n),(e=Zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function rl(e,t,n,r,i,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=s)}function il(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var a=Us.current,o=0!==(2&a);if(o?(a=1&a|2,t.flags|=128):a&=1,z(Us,a),jo(e,t,r,n),r=hi?Zr:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===zs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===zs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,s,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ec|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ai(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function al(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pi(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Oo=!0;else{if(!al(e,n)&&0===(128&t.flags))return Oo=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Ni(0,Vi,e.memoizedState.cache),wi();break;case 27:case 5:Y(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Ni(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ls(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(js(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$o(e,t,n):(js(t),null!==(e=sl(e,t,n))?e.sibling:null);js(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ai(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return il(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(Us,Us.current),r)break;return null;case 22:return t.lanes=0,Vo(e,t,n,t.pendingProps);case 24:Ni(0,Vi,e.memoizedState.cache)}return sl(e,t,n)}(e,t,n);Oo=0!==(131072&e.flags)}else Oo=!1,hi&&0!==(1048576&t.flags)&&ai(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=is(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===k){t.tag=11,t=Lo(null,t,e,r,n);break e}if(i===E){t.tag=14,t=Mo(null,t,e,r,n);break e}}throw t=D(e)||e,Error(a(306,t,""))}Ur(e)?(r=_o(e,r),t.tag=1,t=Go(null,t,e,r,n)):(t.tag=0,t=Wo(null,t,e,r,n))}return t;case 0:return Wo(e,t,t.type,t.pendingProps,n);case 1:return Go(e,t,r=t.type,i=_o(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,ys(e,t),Es(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Ni(0,Vi,r),r!==s.cache&&Ii(t,[Vi],n,!0),_s(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Qo(e,t,r,n);break e}if(r!==i){ki(i=Xr(Error(a(424)),t)),t=Qo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(di=Od(e.firstChild),ui=t,hi=!0,fi=null,pi=!0,n=ms(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wi(),r===i){t=sl(e,t,n);break e}jo(e,t,r,n)}t=t.child}return t;case 26:return Ho(e,t),null===e?(n=Kd(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=vd(K.current).createElement(n))[ze]=t,r[Be]=e,fd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&hi&&(r=t.stateNode=Fd(t.type,t.pendingProps,K.current),ui=t,pi=!0,i=di,Td(t.type)?(jd=i,di=Od(r.firstChild)):di=i),jo(e,t,t.pendingProps.children,n),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=di)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=Od(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,pi))?(t.stateNode=r,ui=t,di=Od(r.firstChild),pi=!1,i=!0):i=!1),i||gi(t)),Y(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,wd(i,s)?r=null:null!==o&&wd(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ta(e,t,ia,null,null,n),dh._currentValue=i),Ho(e,t),jo(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=di)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Od(e.nextSibling)))return null}return e}(n,t.pendingProps,pi))?(t.stateNode=n,ui=t,di=null,e=!0):e=!1),e||gi(t)),null;case 13:return $o(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ps(t,null,r,n):jo(e,t,r,n),t.child;case 11:return Lo(e,t,t.type,t.pendingProps,n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ni(0,t.type,r.value),jo(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Di(t),r=r(i=Ri(i)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,n);case 15:return Fo(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=Bo(t,r),t.lanes=536870912,Uo(null,e);if(Ls(t),(e=di)?null!==(e=null!==(e=Pd(e,pi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,ui=t,di=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Bo(t,r)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Ls(t),i)if(256&t.flags)t.flags&=-257,t=qo(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Oo||Ai(e,t,n,!1),i=0!==(n&e.childLanes),Oo||i){if(null!==(r=mc)&&0!==(o=je(r,n))&&o!==s.retryLane)throw s.retryLane=o,Or(e,o),Xc(r,e,o),Ro;ou(),t=qo(e,t,n)}else e=s.treeContext,di=Od(o.nextSibling),ui=t,hi=!0,fi=null,pi=!1,null!==e&&ci(t,e),(t=Bo(t,r)).flags|=4096;return t}return(e=zr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Vo(e,t,n,t.pendingProps);case 24:return Di(t),r=Ri(Vi),null===e?(null===(i=Xi())&&(i=mc,s=Ui(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},vs(t),Ni(0,Vi,i)):(0!==(e.lanes&n)&&(ys(e,t),Es(t,null,null,n),_s()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ni(0,Vi,r)):(r=s.cache,Ni(0,Vi,r),r!==i.cache&&Ii(t,[Vi],n,!0))),jo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw ss=ts,Zi;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!sh(t)){if(!iu())throw ss=ts,Zi;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,Ic|=t)}function hl(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(li(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ti(Vi),X(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xi())),fl(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(ll(t),null!==s?(fl(t),ul(t,s)):(fl(t),cl(t,i,0,0,n))):s?s!==e.memoizedState?(ll(t),fl(t),ul(t,s)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),cl(t,i,0,0,n)),null;case 27:if(J(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return fl(t),null}e=H.current,bi(t)?vi(t):(e=Fd(i,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if(J(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return fl(t),null}if(s=H.current,bi(t))vi(t);else{var o=vd(K.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?o.createElement(i,{is:r.is}):o.createElement(i)}}s[ze]=t,s[Be]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(fd(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=K.current,bi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ui))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||gi(t,!0)}else(e=vd(e).createTextNode(r))[ze]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bi(t),null!==n){if(null===e){if(!r)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[ze]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Vs(t),t):(Vs(t),null);if(0!==(128&t.flags))throw Error(a(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=bi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[ze]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Vs(t),t):(Vs(t),null)}return Vs(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),fl(t),null);case 4:return X(),null===e&&ed(t.stateNode.containerInfo),fl(t),null;case 10:return Ti(t.type),fl(t),null;case 19:if(U(Us),null===(r=t.memoizedState))return fl(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)hl(r,!1);else{if(0!==_c||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=zs(e))){for(t.flags|=128,hl(r,!1),e=s.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return z(Us,1&Us.current|2),hi&&si(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>jc&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=zs(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!hi)return fl(t),null}else 2*le()-r.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Us.current,z(Us,i?1&n|2:1&n),hi&&si(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return Vs(t),Ds(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ti(Vi),fl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ml(e,t){switch(li(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ti(Vi),X(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(Vs(t),null===t.alternate)throw Error(a(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Vs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Us),null;case 4:return X(),null;case 10:return Ti(t.type),null;case 22:case 23:return Vs(t),Ds(),null!==e&&U(Qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ti(Vi),null;default:return null}}function gl(e,t){switch(li(t),t.tag){case 3:Ti(Vi),X();break;case 26:case 27:case 5:J(t);break;case 4:X();break;case 31:null!==t.memoizedState&&Vs(t);break;case 13:Vs(t);break;case 19:U(Us);break;case 10:Ti(t.type);break;case 22:case 23:Vs(t),Ds(),null!==e&&U(Qi);break;case 24:Ti(Vi)}}function vl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){_u(t,t.return,o)}}function yl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){_u(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){_u(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ts(t,n)}catch(r){_u(e,e.return,r)}}}function wl(e,t,n){n.props=_o(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){_u(e,t,r)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){_u(e,t,i)}}function kl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){_u(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){_u(e,t,s)}else n.current=null}function Sl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){_u(e,e.return,i)}}function _l(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||dd(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&dd(e,t,f,p,r,h)}}return void yt(e,o,l,c,u,d,s,i);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||dd(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&dd(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=f?xt(e,!!n,f,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&dd(e,t,o,i,r,s)}return void kt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dd(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else dd(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&dd(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:dd(e,t,u,f,r,p)}return;default:if(Ct(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&hd(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||hd(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&dd(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||dd(e,t,h,f,r,p)}(r,e.type,n,t),r[Be]=t}catch(i){_u(e,e.return,i)}}function El(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Td(e.type)||4===e.tag}function Nl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||El(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Td(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Dt));else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Il(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fd(t,r,n),t[ze]=e,t[Be]=n}catch(s){_u(e,e.return,s)}}var Al=!1,Pl=!1,Dl=!1,Rl="function"===typeof WeakSet?WeakSet:Set,Ol=null;function jl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Xl(e,n),4&r&&vl(5,n);break;case 1:if(Xl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){_u(n,n.return,a)}else{var i=_o(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){_u(n,n.return,o)}}64&r&&bl(n),512&r&&xl(n,n.return);break;case 3:if(Xl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ts(e,t)}catch(a){_u(n,n.return,a)}}break;case 27:null===t&&4&r&&Il(n);case 26:case 5:Xl(e,n),null===t&&4&r&&Sl(n),512&r&&xl(n,n.return);break;case 12:Xl(e,n);break;case 31:Xl(e,n),4&r&&zl(e,n);break;case 13:Xl(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Cu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Al)){t=null!==t&&null!==t.memoizedState||Pl,i=Al;var s=Pl;Al=r,(Pl=t)&&!s?Jl(e,n,0!==(8772&n.subtreeFlags)):Xl(e,n),Al=i,Pl=s}break;case 30:break;default:Xl(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Xe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Fl=!1;function Vl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(s){}switch(n.tag){case 26:Pl||kl(n,t),Vl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||kl(n,t);var r=Ml,i=Fl;Td(n.type)&&(Ml=n.stateNode,Fl=!1),Vl(e,t,n),Vd(n.stateNode),Ml=r,Fl=i;break;case 5:Pl||kl(n,t);case 6:if(r=Ml,i=Fl,Ml=null,Vl(e,t,n),Fl=i,null!==(Ml=r))if(Fl)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(a){_u(n,t,a)}else try{Ml.removeChild(n.stateNode)}catch(a){_u(n,t,a)}break;case 18:null!==Ml&&(Fl?(Cd(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wh(e)):Cd(Ml,n.stateNode));break;case 4:r=Ml,i=Fl,Ml=n.stateNode.containerInfo,Fl=!0,Vl(e,t,n),Ml=r,Fl=i;break;case 0:case 11:case 14:case 15:yl(2,n,t),Pl||yl(4,n,t),Vl(e,t,n);break;case 1:Pl||(kl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),Vl(e,t,n);break;case 21:Vl(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,Vl(e,t,n),Pl=r;break;default:Vl(e,t,n)}}function zl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wh(e)}catch(n){_u(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wh(e)}catch(n){_u(t,t.return,n)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Iu.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Td(l.type)){Ml=l.stateNode,Fl=!1;break e}break;case 5:Ml=l.stateNode,Fl=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===Ml)throw Error(a(160));Ul(s,o,i),Ml=null,Fl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Kl(t,e),t=t.sibling}var Wl=null;function Kl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Gl(e),4&r&&(yl(3,e,e.return),vl(3,e),yl(5,e,e.return));break;case 1:Hl(t,e),Gl(e),512&r&&(Pl||null===n||kl(n,n.return)),64&r&&Al&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Wl;if(Hl(t,e),Gl(e),512&r&&(Pl||null===n||kl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Qe]||s[ze]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),fd(s,r,n),s[ze]=e,et(s),r=s;break e;case"link":var o=rh("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}fd(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=rh("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}fd(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[ze]=e,et(s),r=s}e.stateNode=r}else ih(i,e.type,e.stateNode);else e.stateNode=$d(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?ih(i,e.type,e.stateNode):$d(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&_l(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Gl(e),512&r&&(Pl||null===n||kl(n,n.return)),null!==n&&4&r&&_l(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Gl(e),512&r&&(Pl||null===n||kl(n,n.return)),32&e.flags){i=e.stateNode;try{_t(i,"")}catch(m){_u(e,e.return,m)}}4&r&&null!=e.stateNode&&_l(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Dl=!0);break;case 6:if(Hl(t,e),Gl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){_u(e,e.return,m)}}break;case 3:if(nh=null,i=Wl,Wl=Bd(t.containerInfo),Hl(t,e),Wl=i,Gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(m){_u(e,e.return,m)}Dl&&(Dl=!1,Ql(e));break;case 4:r=Wl,Wl=Bd(e.stateNode.containerInfo),Hl(t,e),Gl(e),Wl=r;break;case 12:default:Hl(t,e),Gl(e);break;case 31:case 19:Hl(t,e),Gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 13:Hl(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Rc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Al,d=Pl;if(Al=u||i,Pl=d||c,Hl(t,e),Pl=d,Al=u,Gl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Al||Pl||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){_u(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){_u(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Id(p,!0):Id(c.stateNode,!1)}catch(m){_u(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ql(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(El(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;Cl(e,Nl(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(_t(s,""),n.flags&=-33),Cl(e,Nl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;Tl(e,Nl(e),o);break;default:throw Error(a(161))}}catch(l){_u(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Xl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)jl(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),Yl(t);break;case 1:kl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),Yl(t);break;case 27:Vd(t.stateNode);case 26:case 5:kl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Jl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Jl(i,s,n),vl(4,s);break;case 1:if(Jl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){_u(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ns(l[i],o)}catch(c){_u(r,r.return,c)}}n&&64&a&&bl(s),xl(s,s.return);break;case 27:Il(s);case 26:case 5:Jl(i,s,n),n&&null===r&&4&a&&Sl(s),xl(s,s.return);break;case 12:Jl(i,s,n);break;case 31:Jl(i,s,n),n&&4&a&&zl(i,s);break;case 13:Jl(i,s,n),n&&4&a&&Bl(i,s);break;case 22:null===s.memoizedState&&Jl(i,s,n),xl(s,s.return);break;case 30:break;default:Jl(i,s,n)}t=t.sibling}}function $l(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zi(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&i&&vl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e)));break;case 12:if(2048&i){ec(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){_u(t,t.return,l)}}else ec(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?ec(e,t,n,r):rc(e,t):2&s._visibility?ec(e,t,n,r):(s._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&$l(a,t);break;case 24:ec(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function nc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:nc(s,a,o,l,i),vl(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?nc(s,a,o,l,i):rc(s,a):(u._visibility|=2,nc(s,a,o,l,i)),i&&2048&c&&$l(a.alternate,a);break;case 24:nc(s,a,o,l,i),i&&2048&c&&Zl(a.alternate,a);break;default:nc(s,a,o,l,i)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:rc(n,r),2048&i&&$l(r.alternate,r);break;case 24:rc(n,r),2048&i&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ic=8192;function sc(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)ac(e,t,n),e=e.sibling}function ac(e,t,n){switch(e.tag){case 26:sc(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Gd(r.href),s=t.querySelector(Qd(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=Xd(r),(i=Ud.get(i))&&eh(r,i),et(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),fd(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=oh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:sc(e,t,n);break;case 3:case 4:var r=Wl;Wl=Bd(e.stateNode.containerInfo),sc(e,t,n),Wl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,sc(e,t,n),ic=r):sc(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ol=r,dc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ol=r,dc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Ol;){var n=Ol;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ol=r;else e:for(n=e;null!==Ol;){var i=(r=Ol).sibling,s=r.return;if(Ll(r),r===n){Ol=null;break e}if(null!==i){i.return=s,Ol=i;break e}Ol=s}}}var hc={getCacheForType:function(e){var t=Ri(Vi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ri(Vi).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,mc=null,gc=null,vc=0,yc=0,bc=null,wc=!1,xc=!1,kc=!1,Sc=0,_c=0,Ec=0,Nc=0,Tc=0,Cc=0,Ic=0,Ac=null,Pc=null,Dc=!1,Rc=0,Oc=0,jc=1/0,Lc=null,Mc=null,Fc=0,Vc=null,Uc=null,zc=0,Bc=0,qc=null,Hc=null,Wc=0,Kc=null;function Gc(){return 0!==(2&pc)&&0!==vc?vc&-vc:null!==O.T?qu():Fe()}function Qc(){if(0===Cc)if(0===(536870912&vc)||hi){var e=_e;0===(3932160&(_e<<=1))&&(_e=262144),Cc=e}else Cc=536870912;return null!==(e=Rs.current)&&(e.flags|=32),Cc}function Xc(e,t,n){(e!==mc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,vc,Cc,!1)),De(e,n),0!==(2&pc)&&e===mc||(e===mc&&(0===(2&pc)&&(Nc|=n),4===_c&&Zc(e,vc,Cc,!1)),Lu(e))}function Yc(e,t,n){if(0!==(6&pc))throw Error(a(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ce(e,t),i=r?function(e,t){var n=pc;pc|=2;var r=su(),i=au();mc!==e||vc!==t?(Lc=null,jc=le()+500,nu(e,t)):xc=Ce(e,t);e:for(;;)try{if(0!==yc&&null!==gc){t=gc;var s=bc;t:switch(yc){case 1:yc=0,bc=null,fu(e,t,s,1);break;case 2:case 9:if(ns(s)){yc=0,bc=null,hu(t);break}t=function(){2!==yc&&9!==yc||mc!==e||(yc=7),Lu(e)},s.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:ns(s)?(yc=0,bc=null,hu(t)):(yc=0,bc=null,fu(e,t,s,7));break;case 5:var o=null;switch(gc.tag){case 26:o=gc.memoizedState;case 5:case 27:var l=gc;if(o?sh(o):l.stateNode.complete){yc=0,bc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,pu(u)):gc=null}break t}}yc=0,bc=null,fu(e,t,s,5);break;case 6:yc=0,bc=null,fu(e,t,s,6);break;case 8:tu(),_c=6;break e;default:throw Error(a(462))}}uu();break}catch(d){ru(e,d)}return Ei=_i=null,O.H=r,O.A=i,pc=n,null!==gc?0:(mc=null,vc=0,Pr(),_c)}(e,t):lu(e,t,!0),s=r;;){if(0===i){xc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!s||$c(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=Ac;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,o).flags|=256),2!==(o=lu(l,o,!1))){if(kc&&!c){l.errorRecoveryDisabledLanes|=s,Nc|=s,i=4;break e}s=Pc,Pc=i,null!==s&&(null===Pc?Pc=s:Pc.push.apply(Pc,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Cc,!wc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=Rc+300-le())){if(Zc(r,t,Cc,!wc),0!==Te(r,0,!0))break e;zc=t,r.timeoutHandle=kd(Jc.bind(null,r,n,Pc,Lc,Dc,t,Cc,Nc,Ic,wc,s,"Throttled",-0,0),i)}else Jc(r,n,Pc,Lc,Dc,t,Cc,Nc,Ic,wc,s,null,-0,0)}break}i=lu(e,t,!1),s=!1}Lu(e)}function Jc(e,t,n,r,i,s,a,o,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ac(t,s,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dt});var p=(62914560&s)===s?Rc-le():(4194048&s)===s?Oc-le():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ah&&(ah=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,a=i.initiatorType,o=i.duration;if(s&&o&&pd(a)){for(a=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(a+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(s+a)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ah?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p),null!==p)return zc=s,e.cancelPendingCommit=p(gu.bind(null,e,t,s,n,r,i,a,o,l,u,d,null,h,f)),void Zc(e,s,a,!c)}gu(e,t,s,n,r,i,a,o,l)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$n(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Tc,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-we(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Re(e,n,t)}function eu(){return 0!==(6&pc)||(Mu(0,!1),!1)}function tu(){if(null!==gc){if(0===yc)var e=gc.return;else Ei=_i=null,oa(e=gc),ls=null,cs=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Sd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc=0,tu(),mc=e,gc=n=zr(e.current,null),vc=t,yc=0,bc=null,wc=!1,xc=Ce(e,t),kc=!1,Ic=Cc=Tc=Nc=Ec=_c=0,Pc=Ac=null,Dc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),s=1<<i;t|=e[i],r&=~s}return Sc=t,Pr(),n}function ru(e,t){qs=null,O.H=go,t===$i||t===es?(t=as(),yc=3):t===Zi?(t=as(),yc=4):yc=t===Ro?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===gc&&(_c=1,Co(e,Xr(t,e.current)))}function iu(){var e=Rs.current;return null===e||((4194048&vc)===vc?null===Os:((62914560&vc)===vc||0!==(536870912&vc))&&e===Os)}function su(){var e=O.H;return O.H=go,null===e?go:e}function au(){var e=O.A;return O.A=hc,e}function ou(){_c=4,wc||(4194048&vc)!==vc&&null!==Rs.current||(xc=!0),0===(134217727&Ec)&&0===(134217727&Nc)||null===mc||Zc(mc,vc,Cc,!1)}function lu(e,t,n){var r=pc;pc|=2;var i=su(),s=au();mc===e&&vc===t||(Lc=null,nu(e,t)),t=!1;var a=_c;e:for(;;)try{if(0!==yc&&null!==gc){var o=gc,l=bc;switch(yc){case 8:tu(),a=6;break e;case 3:case 2:case 9:case 6:null===Rs.current&&(t=!0);var c=yc;if(yc=0,bc=null,fu(e,o,l,c),n&&xc){a=0;break e}break;default:c=yc,yc=0,bc=null,fu(e,o,l,c)}}cu(),a=_c;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Ei=_i=null,pc=r,O.H=i,O.A=s,null===gc&&(mc=null,vc=0,Pr()),a}function cu(){for(;null!==gc;)du(gc)}function uu(){for(;null!==gc&&!ae();)du(gc)}function du(e){var t=ol(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ko(n,t,t.pendingProps,t.type,void 0,vc);break;case 11:t=Ko(n,t,t.pendingProps,t.type.render,t.ref,vc);break;case 5:oa(t);default:gl(n,t),t=ol(n,t=gc=Br(t,Sc),Sc)}e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function fu(e,t,n,r){Ei=_i=null,oa(t),ls=null,cs=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ai(t,n,i,!0),null!==(n=Rs.current)){switch(n.tag){case 31:case 13:return null===Os?ou():null===n.alternate&&0===_c&&(_c=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ts?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Eu(e,r,i)),!1;case 22:return n.flags|=65536,r===ts?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Eu(e,r,i)),!1}throw Error(a(435,n.tag))}return Eu(e,r,i),ou(),!1}if(hi)return null!==(t=Rs.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==mi&&ki(Xr(e=Error(a(422),{cause:r}),n))):(r!==mi&&ki(Xr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Xr(r,n),ks(e,i=Ao(e.stateNode,r,i)),4!==_c&&(_c=2)),!1;var s=Error(a(520),{cause:r});if(s=Xr(s,n),null===Ac?Ac=[s]:Ac.push(s),4!==_c&&(_c=2),null===t)return!0;r=Xr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ks(n,e=Ao(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Mc||!Mc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Do(i=Po(i),e,n,r),ks(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,vc))return _c=1,Co(e,Xr(n,e.current)),void(gc=null)}catch(s){if(null!==i)throw gc=i,s;return _c=1,Co(e,Xr(n,e.current)),void(gc=null)}32768&t.flags?(hi||1===r?e=!0:xc||0!==(536870912&vc)?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Rs.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,wc);e=t.return;var n=pl(t.alternate,t,Sc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===_c&&(_c=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);_c=6,gc=null}function gu(e,t,n,r,i,s,o,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==Fc);if(0!==(6&pc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-we(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Re(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s|=Ar,o,l,c),e===mc&&(gc=mc=null,vc=0),Uc=t,Vc=e,zc=n,Bc=s,qc=i,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return ku(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=j.p,j.p=2,o=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,md=wh,sr(e=ir(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},wh=!1,Ol=t;null!==Ol;)if(e=(t=Ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ol=e;else for(;null!==Ol;){switch(s=(t=Ol).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=_o(n.type,i);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){_u(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Ol=e;break}Ol=t.return}}(e,t)}finally{pc=o,j.p=i,O.T=r}}Fc=1,vu(),yu(),bu()}}function vu(){if(1===Fc){Fc=0;var e=Vc,t=Uc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=j.p;j.p=2;var i=pc;pc|=4;try{Kl(t,e);var s=gd,a=ir(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&rr(o.ownerDocument.documentElement,o)){if(null!==l&&sr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var v=nr(o,m),y=nr(o,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wh=!!md,gd=md=null}finally{pc=i,j.p=r,O.T=n}}e.current=t,Fc=2}}function yu(){if(2===Fc){Fc=0;var e=Vc,t=Uc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=j.p;j.p=2;var i=pc;pc|=4;try{jl(e,t.alternate,t)}finally{pc=i,j.p=r,O.T=n}}Fc=3}}function bu(){if(4===Fc||3===Fc){Fc=0,oe();var e=Vc,t=Uc,n=zc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,Uc=Vc=null,wu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Mc=null),Me(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=j.p,j.p=2,O.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{O.T=t,j.p=i}}0!==(3&zc)&&xu(),Lu(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Kc?Wc++:(Wc=0,Kc=e):Wc=0,Mu(0,!1)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zi(t)))}function xu(){return vu(),yu(),bu(),ku()}function ku(){if(5!==Fc)return!1;var e=Vc,t=Bc;Bc=0;var n=Me(zc),r=O.T,i=j.p;try{j.p=32>n?32:n,O.T=null,n=qc,qc=null;var s=Vc,o=zc;if(Fc=0,Uc=Vc=null,zc=0,0!==(6&pc))throw Error(a(331));var l=pc;if(pc|=4,cc(s.current),tc(s,s.current,o,n),pc=l,Mu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,s)}catch(c){}return!0}finally{j.p=i,O.T=r,wu(e,t)}}function Su(e,t,n){t=Xr(n,t),null!==(e=ws(e,t=Ao(e.stateNode,t,2),2))&&(De(e,2),Lu(e))}function _u(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Xr(n,e),null!==(r=ws(t,n=Po(2),2))&&(Do(n,r,t,e),De(r,2),Lu(r));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(kc=!0,i.add(n),e=Nu.bind(null,e,t,n),t.then(e,e))}function Nu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(vc&n)===n&&(4===_c||3===_c&&(62914560&vc)===vc&&300>le()-Rc?0===(2&pc)&&nu(e,0):Tc|=n,Ic===vc&&(Ic=0)),Lu(e)}function Tu(e,t){0===t&&(t=Ae()),null!==(e=Or(e,t))&&(De(e,t),Lu(e))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tu(e,n)}var Au=null,Pu=null,Du=!1,Ru=!1,Ou=!1,ju=0;function Lu(e){e!==Pu&&null===e.next&&(null===Pu?Au=Pu=e:Pu=Pu.next=e),Ru=!0,Du||(Du=!0,Ed(function(){0!==(6&pc)?ie(ue,Fu):Vu()}))}function Mu(e,t){if(!Ou&&Ru){Ou=!0;do{for(var n=!1,r=Au;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Bu(r,s))}else s=vc,0===(3&(s=Te(r,r===mc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ce(r,s)||(n=!0,Bu(r,s));r=r.next}}while(n);Ou=!1}}function Fu(){Vu()}function Vu(){Ru=Du=!1;var e=0;0!==ju&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=ju);for(var t=le(),n=null,r=Au;null!==r;){var i=r.next,s=Uu(r,t);0===s?(r.next=null,null===n?Au=i:n.next=i,null===i&&(Pu=n)):(n=r,(0!==e||0!==(3&s))&&(Ru=!0)),r=i}0!==Fc&&5!==Fc||Mu(e,!1),0!==ju&&(ju=0)}function Uu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-we(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=Ie(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=vc,n=Te(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Me(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=zu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function zu(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=vc;return 0===(r=Te(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),Uu(e,le()),null!=e.callbackNode&&e.callbackNode===n?zu.bind(null,e):null)}function Bu(e,t){if(xu())return null;Yc(e,t,!0)}function qu(){if(0===ju){var e=Hi;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),ju=e}return ju}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Wu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ku=0;Ku<Er.length;Ku++){var Gu=Er[Ku];Nr(Gu.toLowerCase(),"on"+(Gu[0].toUpperCase()+Gu.slice(1)))}Nr(vr,"onAnimationEnd"),Nr(yr,"onAnimationIteration"),Nr(br,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(wr,"onTransitionRun"),Nr(xr,"onTransitionStart"),Nr(kr,"onTransitionCancel"),Nr(Sr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Yu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Tr(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Tr(u)}i.currentTarget=null,s=l}}}}function Ju(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function $u(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Xu.has(t)||$u(t,!1,e),$u(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,$u("selectionchange",!1,t))}}function td(e,t,n,r){switch(Th(t)){case 2:var i=xh;break;case 8:i=kh;break;default:i=Sh}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==o;){if(null===(a=Ye(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Vt(function(){var r=s,i=Ot(n),a=[];e:{var o=_r.get(e);if(void 0!==o){var c=nn,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case vr:case yr:case br:c=un;break;case Sr:c=xn;break;case"scroll":case"scrollend":c=sn;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=Sn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ut(m,f))&&d.push(rd(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[qe])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=on,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:$e(c),p=null==u?o:$e(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=p,g=null,Ye(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=sd,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var v=m;v;v=d(v))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&ad(a,o,c,d,!1),null!==u&&null!==h&&ad(a,h,u,d,!0)}if("select"===(c=(o=r?$e(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=zn;else if(jn(o))if(Bn)y=Jn;else{y=Xn;var b=Qn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Ct(r.elementType)&&(y=zn):y=Yn;switch(y&&(y=y(e,r))?Ln(a,y,n,i):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&wt(o,"number",o.value)),b=r?$e(r):window,e){case"focusin":(jn(b)||"true"===b.contentEditable)&&(or=b,lr=r,cr=null);break;case"focusout":cr=lr=or=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,dr(a,n,i);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":dr(a,n,i)}var w;if(En)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Rn?Pn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Cn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Rn&&(w=Gt()):(Wt="value"in(Ht=i)?Ht.value:Ht.textContent,Rn=!0)),0<(b=id(r,x)).length&&(x=new hn(x,e,null,n,i),a.push({event:x,listeners:b}),w?x.data=w:null!==(w=Dn(n))&&(x.data=w))),(w=Tn?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(An=!0,In);case"textInput":return(e=t.data)===In&&An?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!En&&Pn(e,t)?(e=Gt(),Kt=Wt=Ht=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=id(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),a.push({event:b,listeners:x}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Hu((i[Be]||null).action),a=r.submitter;a&&null!==(t=(t=a[Be]||null)?Hu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new nn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ju){var e=a?Wu(i,a):new FormData(i);to(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Wu(i,a):new FormData(i),to(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Yu(a,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ut(e,n))&&r.unshift(rd(e,i,s)),null!=(i=Ut(e,t))&&r.push(rd(e,i,s))),3===e.tag)return r;e=e.return}return[]}function sd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ad(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Ut(n,s))&&a.unshift(rd(n,c,l)):i||null!=(c=Ut(n,s))&&a.push(rd(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var od=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(od,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Tt(e,r,s);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&dd(e,t,"name",i.name,i,null),dd(e,t,"formEncType",i.formEncType,i,null),dd(e,t,"formMethod",i.formMethod,i,null),dd(e,t,"formTarget",i.formTarget,i,null)):(dd(e,t,"encType",i.encType,i,null),dd(e,t,"method",i.method,i,null),dd(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Dt);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ju("beforetoggle",e),Ju("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=It.get(n)||n,r)}}function hd(e,t,n,r,i,s){switch(n){case"style":Tt(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Dt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Be]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ju("error",e),Ju("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:dd(e,t,r,o,n,null)}}return s&&dd(e,t,"srcSet",n.srcSet,n,null),void(i&&dd(e,t,"src",n.src,n,null));case"input":Ju("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:dd(e,t,i,d,n,null)}}return void bt(e,r,l,c,u,o,s,!1);case"select":for(s in Ju("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:dd(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?xt(e,!!i,t,!1):null!=n&&xt(e,!!i,n,!0));case"textarea":for(o in Ju("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:dd(e,t,o,l,n,null)}return void St(e,i,s,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else dd(e,t,c,i,n,null);return;case"dialog":Ju("beforetoggle",e),Ju("toggle",e),Ju("cancel",e),Ju("close",e);break;case"iframe":case"object":Ju("load",e);break;case"video":case"audio":for(i=0;i<Qu.length;i++)Ju(Qu[i],e);break;case"image":Ju("error",e),Ju("load",e);break;case"details":Ju("toggle",e);break;case"embed":case"source":case"link":Ju("error",e),Ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:dd(e,t,u,i,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&hd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&dd(e,t,l,i,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,gd=null;function vd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var kd="function"===typeof setTimeout?setTimeout:void 0,Sd="function"===typeof clearTimeout?clearTimeout:void 0,_d="function"===typeof Promise?Promise:void 0,Ed="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof _d?function(e){return _d.resolve(null).then(e).catch(Nd)}:kd;function Nd(e){setTimeout(function(){throw e})}function Td(e){return"head"===e}function Cd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Wh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Vd(e.ownerDocument.documentElement);else if("head"===n){Vd(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[Qe]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}else"body"===n&&Vd(e.ownerDocument.body);n=i}while(n);Wh(t)}function Id(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ad(n),Xe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Od(e.nextSibling)))return null}return e}function Dd(e){return"$?"===e.data||"$~"===e.data}function Rd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Od(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var jd=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Od(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=vd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Vd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xe(e)}var Ud=new Map,zd=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qd=j.d;j.d={f:function(){var e=qd.f(),t=eu();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):qd.r(e)},D:function(e){qd.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){qd.C(e,t),Wd("preconnect",e,t)},L:function(e,t,n){qd.L(e,t,n);var r=Hd;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var s=i;switch(t){case"style":s=Gd(e);break;case"script":s=Yd(e)}Ud.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ud.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Qd(s))||"script"===t&&r.querySelector(Jd(s))||(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){qd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Yd(e)}if(!Ud.has(s)&&(e=f({rel:"modulepreload",href:e},t),Ud.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Jd(s)))return}fd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){qd.X(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,i=Yd(e),s=r.get(i);s||((s=n.querySelector(Jd(i)))||(e=f({src:e,async:!0},t),(t=Ud.get(i))&&th(e,t),et(s=n.createElement("script")),fd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){qd.S(e,t,n);var r=Hd;if(r&&e){var i=Ze(r).hoistableStyles,s=Gd(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Qd(s)))o.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ud.get(s))&&eh(e,n);var l=a=r.createElement("link");et(l),fd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){qd.M(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,i=Yd(e),s=r.get(i);s||((s=n.querySelector(Jd(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Ud.get(i))&&th(e,t),et(s=n.createElement("script")),fd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Hd="undefined"===typeof document?null:document;function Wd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),zd.has(i)||(zd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Kd(e,t,n,r){var i,s,o,l,c=(c=K.current)?Bd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Qd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ud.set(e,n),u||(i=c,s=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),fd(s,"link",o),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Gd(e){return'href="'+vt(e)+'"'}function Qd(e){return'link[rel="stylesheet"]['+e+"]"}function Xd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+vt(e)+'"]'}function Jd(e){return"script[async]"+e}function $d(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fd(r,"style",i),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Gd(n.href);var s=e.querySelector(Qd(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=Xd(n),(i=Ud.get(i))&&eh(r,i),et(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fd(s,"link",r),t.state.loading|=4,Zd(s,n.precedence,e),t.instance=s;case"script":return s=Yd(n.src),(i=e.querySelector(Jd(s)))?(t.instance=i,et(i),i):(r=n,(i=Ud.get(s))&&th(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),fd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,i=nh=new Map;i.set(n,r)}else(r=(i=nh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Qe]||s[ze]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ah=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,oh.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=oh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var dh={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function hh(e,t,n,r,i,s,a,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fh(e,t,n,r,i,s,a,o,l,c,u,d){return e=new hh(e,t,n,a,l,c,u,d,o),t=1,!0===s&&(t|=24),s=Vr(3,null,null,t),e.current=s,s.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},vs(s),e}function ph(e){return e?e=Mr:Mr}function mh(e,t,n,r,i,s){i=ph(i),null===r.context?r.context=i:r.pendingContext=i,(r=bs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ws(e,r,t))&&(Xc(n,0,t),xs(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function vh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function yh(e){if(13===e.tag||31===e.tag){var t=Or(e,67108864);null!==t&&Xc(t,0,67108864),vh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Gc(),n=Or(e,t=Le(t));null!==n&&Xc(n,0,t),vh(e,t)}}var wh=!0;function xh(e,t,n,r){var i=O.T;O.T=null;var s=j.p;try{j.p=2,Sh(e,t,n,r)}finally{j.p=s,O.T=i}}function kh(e,t,n,r){var i=O.T;O.T=null;var s=j.p;try{j.p=8,Sh(e,t,n,r)}finally{j.p=s,O.T=i}}function Sh(e,t,n,r){if(wh){var i=_h(r);if(null===i)nd(e,t,r,Eh,n),Lh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ih=Mh(Ih,e,t,n,r,i),!0;case"dragenter":return Ah=Mh(Ah,e,t,n,r,i),!0;case"mouseover":return Ph=Mh(Ph,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dh.set(s,Mh(Dh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rh.set(s,Mh(Rh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lh(e,r),4&t&&-1<jh.indexOf(e)){for(;null!==i;){var s=Je(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Ne(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-we(a);o.entanglements[1]|=l,a&=~l}Lu(s),0===(6&pc)&&(jc=le()+500,Mu(0,!1))}}break;case 31:case 13:null!==(o=Or(s,2))&&Xc(o,0,2),eu(),vh(s,2)}if(null===(s=_h(r))&&nd(e,t,r,Eh,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else nd(e,t,r,null,n)}}function _h(e){return Nh(e=Ot(e))}var Eh=null;function Nh(e){if(Eh=null,null!==(e=Ye(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Eh=e,null}function Th(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Ch=!1,Ih=null,Ah=null,Ph=null,Dh=new Map,Rh=new Map,Oh=[],jh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Ih=null;break;case"dragenter":case"dragleave":Ah=null;break;case"mouseover":case"mouseout":Ph=null;break;case"pointerover":case"pointerout":Dh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rh.delete(t.pointerId)}}function Mh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Je(t))&&yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fh(e){var t=Ye(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Ve(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Ve(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_h(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&yh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Uh(e,t,n){Vh(e)&&n.delete(t)}function zh(){Ch=!1,null!==Ih&&Vh(Ih)&&(Ih=null),null!==Ah&&Vh(Ah)&&(Ah=null),null!==Ph&&Vh(Ph)&&(Ph=null),Dh.forEach(Uh),Rh.forEach(Uh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ch||(Ch=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zh)))}var qh=null;function Hh(e){qh!==e&&(qh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Nh(r||n))continue;break}var s=Je(n);null!==s&&(e.splice(t,3),t-=3,to(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Wh(e){function t(t){return Bh(t,e)}null!==Ih&&Bh(Ih,e),null!==Ah&&Bh(Ah,e),null!==Ph&&Bh(Ph,e),Dh.forEach(t),Rh.forEach(t);for(var n=0;n<Oh.length;n++){var r=Oh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Oh.length&&null===(n=Oh[0]).blockedOn;)Fh(n),null===n.blockedOn&&Oh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Be]||null;if("function"===typeof s)a||Hh(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Be]||null)o=a.formAction;else if(null!==Nh(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Hh(n)}}}function Kh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Gh(e){this._internalRoot=e}function Qh(e){this._internalRoot=e}Qh.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));mh(t.current,Gc(),e,t,null,null)},Qh.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),eu(),t[qe]=null}},Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Oh.length&&0!==t&&t<Oh[n].priority;n++);Oh.splice(n,0,e),0===n&&Fh(e)}};var Xh=i.version;if("19.2.4"!==Xh)throw Error(a(527,Xh,"19.2.4"));j.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return d(i),e;if(s===r)return d(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{ve=Jh.inject(Yh),ye=Jh}catch(Zh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=Eo,s=No,l=To;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fh(e,1,!1,null,0,n,r,null,i,s,l,Kh),e[qe]=t.current,ed(e),new Gh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=Eo,l=No,c=To,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fh(e,1,!0,t,0,r,i,u,s,l,c,Kh)).context=ph(null),n=t.current,(i=bs(r=Le(r=Gc()))).callback=null,ws(n,i,r),n=r,t.current.lanes=n,De(t,n),Lu(t),e[qe]=t.current,ed(e),new Qh(t)},t.version="19.2.4"},672(e,t,n){var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.4"},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=w.prototype=new b;x.constructor=w,g(x,y.prototype),x.isPureReactComponent=!0;var k=Array.isArray;function S(){}var _={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function N(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return A((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+I(e,0):s,k(a)?(i="",null!=u&&(i=u.replace(C,"$&/")+"/"),A(a,t,i,"",function(e){return e})):null!=a&&(T(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+u,a=N(l.type,c,l.props)),t.push(a)),1;u=0;var d,f=""===s?".":s+":";if(k(e))for(var m=0;m<e.length;m++)u+=A(s=e[m],t,i,o=f+I(s,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,o=f+I(s,m++),a);else if("object"===o){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},O={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=O,t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!E.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return N(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return N(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),i=_.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(S,R)}catch(s){R(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useEffectEvent=function(e){return _.H.useEffectEvent(e)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.2.4"},43(e,t,n){e.exports=n(288)},579(e,t,n){e.exports=n(799)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,_||(_=!0,S());else{var t=r(u);null!==t&&D(k,t.startTime-e)}}var S,_=!1,E=-1,N=5,T=-1;function C(){return!!v||!(t.unstable_now()-T<N)}function I(){if(v=!1,_){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),p=!0;var s=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&D(k,l.startTime-e),n=!1}}break e}finally{h=null,f=s,p=!1}n=void 0}}finally{n?S():_=!1}}}if("function"===typeof w)S=function(){w(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=I,S=function(){P.postMessage(null)}}else S=function(){y(I,0)};function D(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,D(k,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,_||(_=!0,S()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853(e,t,n){e.exports=n(896)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=n(43),i=n(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()},h=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)};var f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],m=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:h}=e,m=u(e,p);return(0,r.createElement)("svg",c(c(c({ref:t},f),{},{width:i,height:i,stroke:n,strokeWidth:a?24*Number(s)/Number(i):s,className:d("lucide",o)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(m)&&{"aria-hidden":"true"}),m),[...h.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),g=["className"],v=(e,t)=>{const n=(0,r.forwardRef)((n,i)=>{let{className:s}=n,a=u(n,g);return(0,r.createElement)(m,c({ref:i,iconNode:t,className:d("lucide-".concat((o=h(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),s)},a));var o});return n.displayName=h(e),n},y=v("stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),b=v("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),w=v("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),x=v("pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),k=v("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),S=v("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),_=v("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),E=v("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),N=v("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),T=v("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),C=v("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),I=v("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),A=v("file-badge",[["path",{d:"M13 22h5a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.3",key:"cvl1xm"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m7.69 16.479 1.29 4.88a.5.5 0 0 1-.698.591l-1.843-.849a1 1 0 0 0-.879.001l-1.846.85a.5.5 0 0 1-.692-.593l1.29-4.88",key:"1ff7gj"}],["circle",{cx:"6",cy:"14",r:"3",key:"a1xfv6"}]]),P=v("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),D=v("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),R=v("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),O=v("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),j=v("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),L=v("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),M=v("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),F=v("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),V=v("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),U=v("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),z=v("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),B=v("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),q=v("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),H=v("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),W=v("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),K=v("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),G=v("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Q=v("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),X=v("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Y=v("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),J=v("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),$=v("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Z=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Z(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new te;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ne=function(e){return function(e){const t=Z(e);return ee.encodeByteArray(t,!0)}(e).replace(/\./g,"")},re=function(e){try{return ee.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ie(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const se=()=>{try{return ie().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/doctors_portal",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&re(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ae=e=>{var t;return null===(t=se())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},oe=()=>{var e;return null===(e=se())||void 0===e?void 0:e.config},le=e=>{var t;return null===(t=se())||void 0===t?void 0:t["_".concat(e)]};class ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function ue(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function de(e){return(await fetch(e,{credentials:"include"})).ok}const he={};let fe=!1;function pe(e,t){if("undefined"===typeof window||"undefined"===typeof document||!ue(window.location.host)||he[e]===t||he[e]||fe)return;function n(e){return"__firebase__banner__".concat(e)}he[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(he))he[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{fe=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function me(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ge(){var e;const t=null===(e=se())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function ve(){return!ge()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ye(){try{return"object"===typeof indexedDB}catch(e){return!1}}class be extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,we.prototype.create)}}class we{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(xe,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new be(n,s,t)}}const xe=/\{\$([^}]+)}/g;function ke(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Se(n)&&Se(s)){if(!ke(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Se(e){return null!==e&&"object"===typeof e}function _e(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ee(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Ne(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Te{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ce),void 0===r.error&&(r.error=Ce),void 0===r.complete&&(r.complete=Ce);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ce(){}function Ie(e){return e&&e._delegate?e._delegate:e}class Ae{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pe="[DEFAULT]";class De{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ce;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pe})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Pe?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;return this.component?this.component.multipleInstances?e:Pe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new De(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Oe=[];var je;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(je||(je={}));const Le={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},Me=je.INFO,Fe={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},Ve=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Fe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Ue{constructor(e){this.name=e,this._logLevel=Me,this._logHandler=Ve,this._userLogHandler=null,Oe.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Le[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...t),this._logHandler(this,je.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...t),this._logHandler(this,je.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,je.INFO,...t),this._logHandler(this,je.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,je.WARN,...t),this._logHandler(this,je.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,je.ERROR,...t),this._logHandler(this,je.ERROR,...t)}}let ze,Be;const qe=new WeakMap,He=new WeakMap,We=new WeakMap,Ke=new WeakMap,Ge=new WeakMap;let Qe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return He.get(e);if("objectStoreNames"===t)return e.objectStoreNames||We.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Je(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Xe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Be||(Be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply($e(this),n),Je(qe.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Je(e.apply($e(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call($e(this),t,...r);return We.set(s,t.sort?t.sort():[t]),Je(s)}}function Ye(e){return"function"===typeof e?Xe(e):(e instanceof IDBTransaction&&function(e){if(He.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});He.set(e,t)}(e),t=e,(ze||(ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Qe):e);var t}function Je(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Je(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&qe.set(t,e)}).catch(()=>{}),Ge.set(t,e),t}(e);if(Ke.has(e))return Ke.get(e);const t=Ye(e);return t!==e&&(Ke.set(e,t),Ge.set(t,e)),t}const $e=e=>Ge.get(e);const Ze=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],tt=new Map;function nt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(tt.get(t))return tt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=et.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ze.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return tt.set(t,s),s}Qe=(e=>c(c({},e),{},{get:(t,n,r)=>nt(t,n)||e.get(t,n,r),has:(t,n)=>!!nt(t,n)||e.has(t,n)}))(Qe);class rt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const it="@firebase/app",st="0.14.8",at=new Ue("@firebase/app"),ot="@firebase/app-compat",lt="@firebase/analytics-compat",ct="@firebase/analytics",ut="@firebase/app-check-compat",dt="@firebase/app-check",ht="@firebase/auth",ft="@firebase/auth-compat",pt="@firebase/database",mt="@firebase/data-connect",gt="@firebase/database-compat",vt="@firebase/functions",yt="@firebase/functions-compat",bt="@firebase/installations",wt="@firebase/installations-compat",xt="@firebase/messaging",kt="@firebase/messaging-compat",St="@firebase/performance",_t="@firebase/performance-compat",Et="@firebase/remote-config",Nt="@firebase/remote-config-compat",Tt="@firebase/storage",Ct="@firebase/storage-compat",It="@firebase/firestore",At="@firebase/ai",Pt="@firebase/firestore-compat",Dt="firebase",Rt="[DEFAULT]",Ot={[it]:"fire-core",[ot]:"fire-core-compat",[ct]:"fire-analytics",[lt]:"fire-analytics-compat",[dt]:"fire-app-check",[ut]:"fire-app-check-compat",[ht]:"fire-auth",[ft]:"fire-auth-compat",[pt]:"fire-rtdb",[mt]:"fire-data-connect",[gt]:"fire-rtdb-compat",[vt]:"fire-fn",[yt]:"fire-fn-compat",[bt]:"fire-iid",[wt]:"fire-iid-compat",[xt]:"fire-fcm",[kt]:"fire-fcm-compat",[St]:"fire-perf",[_t]:"fire-perf-compat",[Et]:"fire-rc",[Nt]:"fire-rc-compat",[Tt]:"fire-gcs",[Ct]:"fire-gcs-compat",[It]:"fire-fst",[Pt]:"fire-fst-compat",[At]:"fire-vertex","fire-js":"fire-js",[Dt]:"fire-js-all"},jt=new Map,Lt=new Map,Mt=new Map;function Ft(e,t){try{e.container.addComponent(t)}catch(n){at.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Vt(e){const t=e.name;if(Mt.has(t))return at.debug("There were multiple attempts to register component ".concat(t,".")),!1;Mt.set(t,e);for(const n of jt.values())Ft(n,e);for(const n of Lt.values())Ft(n,e);return!0}function Ut(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zt(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Bt=new we("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class qt{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ae("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}const Ht="12.9.0";function Wt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:Rt,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Bt.create("bad-app-name",{appName:String(i)});if(n||(n=oe()),!n)throw Bt.create("no-options");const s=jt.get(i);if(s){if(ke(n,s.options)&&ke(r,s.config))return s;throw Bt.create("duplicate-app",{appName:i})}const a=new Re(i);for(const l of Mt.values())a.addComponent(l);const o=new qt(n,r,a);return jt.set(i,o),o}function Kt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt;const t=jt.get(e);if(!t&&e===Rt&&oe())return Wt();if(!t)throw Bt.create("no-app",{appName:e});return t}function Gt(e,t,n){var r;let i=null!==(r=Ot[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void at.warn(e.join(" "))}Vt(new Ae("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Qt="firebase-heartbeat-store";let Xt=null;function Yt(){return Xt||(Xt=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Je(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Je(a.result),e.oldVersion,e.newVersion,Je(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Qt)}catch(n){console.warn(n)}}}).catch(e=>{throw Bt.create("idb-open",{originalErrorMessage:e.message})})),Xt}async function Jt(e,t){try{const n=(await Yt()).transaction(Qt,"readwrite"),r=n.objectStore(Qt);await r.put(t,$t(e)),await n.done}catch(n){if(n instanceof be)at.warn(n.message);else{const e=Bt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});at.warn(e.message)}}}function $t(e){return"".concat(e.name,"!").concat(e.options.appId)}class Zt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=en();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){at.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=en(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),nn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ne(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return at.warn(t),""}}}function en(){return(new Date).toISOString().substring(0,10)}class tn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ye()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Yt()).transaction(Qt),n=await t.objectStore(Qt).get($t(e));return await t.done,n}catch(t){if(t instanceof be)at.warn(t.message);else{const e=Bt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});at.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Jt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Jt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function nn(e){return ne(JSON.stringify({version:2,heartbeats:e})).length}var rn;rn="",Vt(new Ae("platform-logger",e=>new rt(e),"PRIVATE")),Vt(new Ae("heartbeat",e=>new Zt(e),"PRIVATE")),Gt(it,st,rn),Gt(it,st,"esm2020"),Gt("fire-js","");Gt("firebase","12.9.0","app");var sn,an,on="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ln={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,a=e.g[3];s=t+(a^n&(i^a))+r[0]+3614090360&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[3]+3250441966&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[4]+4118548399&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[7]+4249261313&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[8]+1770035416&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[11]+2304563134&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[12]+1804603682&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[15]+1236535329&4294967295,s=t+(i^a&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[11]+643717713&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[0]+3921069994&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[15]+3634488961&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[4]+3889429448&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[3]+4107603335&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[8]+1163531501&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[7]+1735328473&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^a)+r[5]+4294588738&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[11]+1839030562&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[1]+2763975236&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[7]+4139469664&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[13]+681279174&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[3]+3572445317&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[9]+3654602809&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[15]+530742520&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~a))+r[0]+4096336452&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[14]+2878612391&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[12]+1700485571&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[10]+4293915773&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[8]+1873313359&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[6]+2734768916&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[4]+4149444226&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[2]+718787259&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,a=0;for(;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function s(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return h(a(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);c.l(e)<=0&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||c.l(e)>0;)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const i=e.g.length-n,s=[];for(let r=0;r<i;r++)s[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=a(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let s=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return a(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,s=65535&this.i(i),a=e.i(t)>>>16,o=65535&e.i(t);n[2*i+2*t]+=s*o,p(n,2*i+2*t),n[2*i+2*t+1]+=r*o,p(n,2*i+2*t+1),n[2*i+2*t+1]+=s*a,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*a,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,an=ln.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=a(Math.pow(n,8));let i=o;for(let o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+s),n);s<8?(s=a(Math.pow(n,s)),i=i.j(s).add(a(e))):(i=i.j(r),i=i.add(a(e)))}return i},sn=ln.Integer=r}).apply("undefined"!==typeof on?on:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var cn,un,dn,hn,fn,pn,mn,gn,vn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},yn={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof vn&&vn];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},s=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){s.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(k)}};function k(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function S(){this.u=this.u,this.C=this.C}function _(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},_.prototype.h=function(){this.defaultPrevented=!0};var E=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function N(e){return/^[\s\xa0]*$/.test(e)}function T(e,t){_.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(T,_),T.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&T.Z.h.call(this)},T.prototype.h=function(){T.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var C="closure_listenable_"+(1e6*Math.random()|0),I=0;function A(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++I,this.da=this.fa=!1}function P(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function D(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function R(e){const t={};for(const n in e)t[n]=e[n];return t}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<O.length;t++)n=O[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){this.src=e,this.g={},this.h=0}function M(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(P(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}L.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const a=F(e,t,r,i);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new A(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var V="closure_lm_"+(1e6*Math.random()|0),U={};function z(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let s=0;s<t.length;s++)z(e,t[s],n,r,i);return null}return n=Y(n),e&&e[C]?e.J(t,n,a(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const o=a(i)?!!i.capture:!!i;let l=Q(e);if(l||(e[V]=l=new L(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)E||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)q(e,t[s],n,r,i);return null}return n=Y(n),e&&e[C]?e.K(t,n,a(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function H(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)H(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=Y(n),e&&e[C]?(e=e.i,(s=String(t).toString())in e.g&&((n=F(t=e.g[s],n,r,i))>-1&&(P(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[C])M(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(M(n,e),0==n.h&&(n.src=null,t[V]=null)):P(e)}}}function K(e){return e in U?U[e]:U[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new T(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function Q(e){return(e=e[V])instanceof L?e:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y(e){return"function"===typeof e?e:(e[X]||(e[X]=function(t){return e.handleEvent(t)}),e[X])}function J(){S.call(this),this.i=new L(this),this.M=this,this.G=null}function $(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new _(t,e);else if(t instanceof _)t.target=t.target||e;else{var i=t;j(t=new _(r,e),i)}let s,a;if(i=!0,n)for(a=n.length-1;a>=0;a--)s=t.g=n[a],i=Z(s,r,!0,t)&&i;if(s=t.g=e,i=Z(s,r,!0,t)&&i,i=Z(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)s=t.g=n[a],i=Z(s,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const a=t[s];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&M(e.i,a),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(J,S),J.prototype[C]=!0,J.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},J.prototype.N=function(){if(J.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)P(n[e]);delete e.g[t],e.h--}}this.G=null},J.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},J.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends S{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){S.call(this),this.h=e,this.g={}}u(ne,S);var re=[];function ie(e){D(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=s.JSON.stringify,ae=s.JSON.parse,oe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){_.call(this,"d")}function he(){_.call(this,"c")}u(de,_),u(he,_);var fe={},pe=null;function me(){return pe=pe||new J}function ge(e){_.call(this,fe.Ia,e)}function ve(e){const t=me();$(t,new ge(t))}function ye(e,t){_.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();$(t,new ye(t,e))}function we(e,t){_.call(this,fe.Ja,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function ke(){this.g=!0}function Se(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return se(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,_),fe.STAT_EVENT="statevent",u(ye,_),fe.Ja="timingevent",u(we,_),ke.prototype.ua=function(){this.g=!1},ke.prototype.info=function(){};var _e,Ee={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ne={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Te(){}function Ce(e){return encodeURIComponent(String(e))}function Ie(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ae(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}u(Te,le),Te.prototype.g=function(){return new XMLHttpRequest},_e=new Te;var De={},Re={};function Oe(e,t,n){e.M=1,e.A=st(et(t)),e.u=n,e.R=!0,je(e,null)}function je(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Pe,e.g=an(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let s=0;s<i.length;s++){const e=z(n,i[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?R(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var a="",o=s.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+l+"&":a+(e+"=redacted&")}}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Le(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Me(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?De:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,Ve(e,e.H)}function Ve(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=xe(l(e.aa,e),t)}function Ue(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function ze(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ue(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),qt(n)}Yt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=xe(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!N(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Xe(s,s.h),s.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((r=n).na=sn(r,r.L?r.ba:null,r.W),a.L){Ye(r.h,a);var o=a,c=r.O;c&&(o.H=c),o.D&&(Ue(o),Fe(o)),r.g=a}else Xt(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}Ae.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ft(e)?t.j():this.Y(e)},Ae.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ft(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Vt(this.g)))){this.K||4!=l||7==c||ve(),Ue(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Le(e))return e.g.la();const t=Vt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ft(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),ze(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(r)){var a=r;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,be(12),Be(this),ze(this);break e}Se(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Me(this,n),t==Re){4==l&&(this.m=4,be(14),e=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}if(t==De){this.m=4,be(15),Se(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Se(this.i,this.l,t,null),qe(this,t)}if(Le(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jt(o),o.P=!0,be(11))}}else Se(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),ze(this)}else Se(this.i,this.l,n,null),qe(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Ft(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(N(e[r]))continue;var n=Ie(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),ze(this)}}}catch(l){}},Ae.prototype.cancel=function(){this.K=!0,Be(this)},Ae.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),be(17)),Be(this),this.m=2,ze(this)):Ve(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Xe(e,t){e.g?e.g.add(t):e.h=t}function Ye(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Je(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}We.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var $e=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match($e))?(this.l=!1,tt(this,t[1]||"",!0),this.o=at(t[2]||""),this.g=at(t[3]||"",!0),nt(this,t[4]),this.h=at(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=at(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?at(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=ot(t,ht)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function st(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function at(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ot(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(ot(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ot(t,ct,!0),"@"),e.push(Ce(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ot(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ot(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return mt(e),t=xt(e,t),e.g.has(t)}function yt(e,t){mt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(xt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(xt(e,t),h(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function St(){this.g=new oe}function _t(e){this.i=e.Sb||null,this.h=e.ab||!1}function Et(e,t){J.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Nt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Tt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Ct(e)}function Ct(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function It(e){let t="";return D(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function At(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=It(n),"string"===typeof e?null!=n&&Ce(n):it(e,t,n))}function Pt(e){J.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=xt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,vt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ce(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ce(n[t])),e.push(r)}}return this.i=e.join("&")},u(_t,le),_t.prototype.g=function(){return new Et(this.i,this.h)},u(Et,J),(e=Et.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Ct(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Tt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ct(this)),this.g&&(this.readyState=3,Ct(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tt(this):Ct(this),3==this.readyState&&Nt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Tt(this))},e.Na=function(e){this.g&&(this.response=e,Tt(this))},e.ga=function(){this.g&&Tt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Et.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Pt,J);var Dt=/^https?$/i,Rt=["POST","PUT"];function Ot(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,jt(e),Mt(e)}function jt(e){e.A||(e.A=!0,$(e,"complete"),$(e,"error"))}function Lt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Ft(e))setTimeout(e.Ca.bind(e),0);else if($(e,"readystatechange"),4==Ft(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match($e)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!Dt.test(t?t.toLowerCase():"")}n=r}if(n)$(e,"complete"),$(e,"success");else{e.o=6;try{var a=Ft(e)>2?e.g.statusText:""}catch(o){a=""}e.l=a+" ["+e.ca()+"]",jt(e)}}finally{Mt(e)}}}function Mt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||$(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ft(e){return e.g?e.g.readyState:0}function Vt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ut(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zt(e){this.za=0,this.i=[],this.j=new ke,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ut("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ut("baseRetryDelayMs",5e3,e),this.Za=Ut("retryDelaySeedMs",1e4,e),this.Ta=Ut("forwardChannelMaxRetries",2,e),this.va=Ut("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new St,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new Ae(e,e.j,t)).M=2,t.A=st(et(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=an(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}rn(e)}function qt(e){e.g&&(Jt(e),e.g.cancel(),e.g=null)}function Ht(e){qt(e),e.v&&(s.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function Wt(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||x(),b||(y(),b=!0),w.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&At(r,e.u,e.o),n=new Ae(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Xe(e.h,n),Oe(n,r,t)}function Gt(e,t){e.H&&D(e.H,function(e,n){it(t,n,e)}),e.l&&D({},function(e,n){it(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var s=i[c].g;const n=i[c].map;if((s-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{s="req"+s+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;a(n)&&(r=se(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(Yn){throw e.push(s+"type="+encodeURIComponent("_badmap")),Yn}}catch(Yn){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Xt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||x(),b||(y(),b=!0),w.add(t,e),e.A=0}}function Yt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=xe(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function Jt(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function $t(e){e.g=new Ae(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&At(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=st(et(t)),n.u=null,n.R=!0,je(n,e)}function Zt(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),Jt(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Ye(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;$(r=me(),new we(r,n)),Wt(e)}else Xt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=xe(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Yt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||tt(r,"https"),st(r),t?function(e,t){const n=new ke;if(s.Image){const r=new Image;r.onload=c(kt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(kt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(kt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(kt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ke;const n=new AbortController,r=setTimeout(()=>{n.abort(),kt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?kt(0,0,!0,t):kt(0,0,!1,t)}).catch(()=>{clearTimeout(r),kt(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),Ht(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=Je(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function sn(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function an(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Pt(new _t({ab:n})):new Pt(e.ma)).Fa(e.L),t}function on(){}function ln(){}function bn(e,t){J.call(this),this.g=new zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!N(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!N(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new kn(this)}function wn(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function xn(){he.call(this),this.status=1}function kn(e){this.g=e}(e=Pt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_e.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ot(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Rt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(a){Ot(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,$(this,"complete"),$(this,"abort"),Mt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mt(this,!0)),Pt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Lt(this):this.Xa())},e.Xa=function(){Lt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ae(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=sn(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ae(this,this.j,e);let s=this.o;if(this.U&&(s?(s=R(s),j(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),s&&(this.R?t="headers="+Ce(It(s))+"&"+t:this.u&&At(n,this.u,s)),Xe(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Oe(i,n,null)):Oe(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,$t(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=xe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),qt(this),$t(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Yt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=on.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new bn(e,t)},u(bn,J),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Bt(this.g)},bn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=se(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&Wt(t)},bn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,bn.Z.N.call(this)},u(wn,de),u(xn,he),u(kn,on),kn.prototype.ra=function(){$(this.g,"a")},kn.prototype.qa=function(e){$(this.g,new wn(e))},kn.prototype.pa=function(e){$(this.g,new xn)},kn.prototype.oa=function(){$(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,gn=yn.createWebChannelTransport=function(){return new ln},mn=yn.getStatEventTarget=function(){return me()},pn=yn.Event=fe,fn=yn.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,hn=yn.ErrorCode=Ee,Ne.COMPLETE="complete",dn=yn.EventType=Ne,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",J.prototype.listen=J.prototype.J,un=yn.WebChannel=ce,yn.FetchXmlHttpFactory=_t,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,cn=yn.XhrIo=Pt}).apply("undefined"!==typeof vn?vn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});class bn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let wn="12.9.0";const xn=new Ue("@firebase/firestore");function kn(){return xn.logLevel}function Sn(e){if(xn.logLevel<=je.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Nn);xn.debug("Firestore (".concat(wn,"): ").concat(e),...i)}}function _n(e){if(xn.logLevel<=je.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Nn);xn.error("Firestore (".concat(wn,"): ").concat(e),...i)}}function En(e){if(xn.logLevel<=je.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Nn);xn.warn("Firestore (".concat(wn,"): ").concat(e),...i)}}function Nn(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Tn(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Cn(e,r,n)}function Cn(e,t,n){let r="FIRESTORE (".concat(wn,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw _n(r),new Error(r)}function In(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Cn(t,i,r)}function An(e,t){return e}const Pn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dn extends be{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Rn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class On{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class jn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bn.UNAUTHENTICATED))}shutdown(){}}class Ln{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Mn{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){In(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Rn,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Sn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Sn("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Rn)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Sn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(In("string"==typeof t.accessToken,31837,{l:t}),new On(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return In(null===e||"string"==typeof e,2055,{h:e}),new bn(e)}}class Fn{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Vn{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Fn(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Un{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zn{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){In(void 0===this.o,3512);const n=e=>{null!=e.error&&Sn("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Sn("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Sn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Sn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Un(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(In("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Un(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Bn(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class qn{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Bn(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Hn(e,t){return e<t?-1:e>t?1:0}function Wn(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Qn(n)===Qn(i)?Hn(n,i):Qn(n)?1:-1}return Hn(e.length,t.length)}const Kn=55296,Gn=57343;function Qn(e){const t=e.charCodeAt(0);return t>=Kn&&t<=Gn}function Xn(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Yn="__name__";class Jn{constructor(e,t,n){void 0===t?t=0:t>e.length&&Tn(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Tn(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Jn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Jn.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Hn(e.length,t.length)}static compareSegments(e,t){const n=Jn.isNumericId(e),r=Jn.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Jn.extractNumericId(e).compare(Jn.extractNumericId(t)):Wn(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sn.fromString(e.substring(4,e.length-2))}}class $n extends Jn{construct(e,t,n){return new $n(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Dn(Pn.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new $n(e)}static emptyPath(){return new $n([])}}const Zn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class er extends Jn{construct(e,t,n){return new er(e,t,n)}static isValidIdentifier(e){return Zn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Yn}static keyField(){return new er([Yn])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Dn(Pn.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Dn(Pn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Dn(Pn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Dn(Pn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new er(t)}static emptyPath(){return new er([])}}class tr{constructor(e){this.path=e}static fromPath(e){return new tr($n.fromString(e))}static fromName(e){return new tr($n.fromString(e).popFirst(5))}static empty(){return new tr($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tr(new $n(e.slice()))}}function nr(e,t,n){if(!n)throw new Dn(Pn.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function rr(e){if(!tr.isDocumentKey(e))throw new Dn(Pn.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ir(e){if(tr.isDocumentKey(e))throw new Dn(Pn.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function sr(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ar(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Tn(12329,{type:typeof e})}function or(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Dn(Pn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ar(e);throw new Dn(Pn.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function lr(e,t){const n={typeString:e};return t&&(n.value=t),n}function cr(e,t){if(!sr(e))throw new Dn(Pn.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(i&&typeof a!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&a!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new Dn(Pn.INVALID_ARGUMENT,n);return!0}const ur=-62135596800,dr=1e6;class hr{static now(){return hr.fromMillis(Date.now())}static fromDate(e){return hr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*dr);return new hr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Dn(Pn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Dn(Pn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ur)throw new Dn(Pn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Dn(Pn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dr}_compareTo(e){return this.seconds===e.seconds?Hn(this.nanoseconds,e.nanoseconds):Hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:hr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cr(e,hr._jsonSchema))return new hr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ur;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}hr._jsonSchemaVersion="firestore/timestamp/1.0",hr._jsonSchema={type:lr("string",hr._jsonSchemaVersion),seconds:lr("number"),nanoseconds:lr("number")};class fr{static fromTimestamp(e){return new fr(e)}static min(){return new fr(new hr(0,0))}static max(){return new fr(new hr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const pr=-1;class mr{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}mr.UNKNOWN_ID=-1;function gr(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=fr.fromTimestamp(1e9===r?new hr(n+1,0):new hr(n,r));return new yr(i,tr.empty(),t)}function vr(e){return new yr(e.readTime,e.key,pr)}class yr{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new yr(fr.min(),tr.empty(),pr)}static max(){return new yr(fr.max(),tr.empty(),pr)}}function br(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=tr.comparator(e.documentKey,t.documentKey),0!==n?n:Hn(e.largestBatchId,t.largestBatchId))}const wr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function kr(e){if(e.code!==Pn.FAILED_PRECONDITION||e.message!==wr)throw e;Sn("LocalStore","Unexpectedly lost primary lease")}class Sr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Tn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Sr((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Sr?t:Sr.resolve(t)}catch(e){return Sr.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Sr.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Sr.reject(t)}static resolve(e){return new Sr((t,n)=>{t(e)})}static reject(e){return new Sr((t,n)=>{n(e)})}static waitFor(e){return new Sr((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Sr.resolve(!1);for(const n of e)t=t.next(e=>e?Sr.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Sr((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Sr((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function _r(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Er(e){return"IndexedDbTransactionError"===e.name}class Nr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nr.ce=-1;const Tr=-1;function Cr(e){return null==e}function Ir(e){return 0===e&&1/e==-1/0}function Ar(e){return"number"==typeof e&&Number.isInteger(e)&&!Ir(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Pr="\x01";function Dr(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Or(t)),t=Rr(e.get(n),t);return Or(t)}function Rr(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Pr:n+="\x01\x11";break;default:n+=t}}return n}function Or(e){return e+Pr+"\x01"}const jr="remoteDocuments",Lr="owner",Mr="mutationQueues",Fr="mutations";const Vr="documentMutations",Ur="remoteDocumentsV14",zr="remoteDocumentGlobal",Br="targets",qr="targetDocuments",Hr="targetGlobal",Wr="collectionParents",Kr="clientMetadata",Gr="bundles",Qr="namedQueries",Xr="indexConfiguration",Yr="indexState",Jr="indexEntries",$r="documentOverlays",Zr="globals",ei=[Mr,Fr,Vr,jr,Br,Lr,Hr,qr,Kr,zr,Wr,Gr,Qr],ti=[Mr,Fr,Vr,Ur,Br,Lr,Hr,qr,Kr,zr,Wr,Gr,Qr,$r],ni=ti,ri=[...ni,Xr,Yr,Jr];function ii(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function si(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ai(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class oi{constructor(e,t){this.comparator=e,this.root=t||ci.EMPTY}insert(e,t){return new oi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(e){return new oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new li(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new li(this.root,e,this.comparator,!1)}getReverseIterator(){return new li(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new li(this.root,e,this.comparator,!0)}}class li{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ci{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ci.RED,this.left=null!=r?r:ci.EMPTY,this.right=null!=i?i:ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ci(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ci.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Tn(27949);return e+(this.isRed()?0:1)}}ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1,ci.EMPTY=new class{constructor(){this.size=0}get key(){throw Tn(57766)}get value(){throw Tn(16141)}get color(){throw Tn(16727)}get left(){throw Tn(29726)}get right(){throw Tn(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ci(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ui{constructor(e){this.comparator=e,this.data=new oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new di(this.data.getIterator())}getIteratorFrom(e){return new di(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ui))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ui(this.comparator);return t.data=e,t}}class di{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hi{constructor(e){this.fields=e,e.sort(er.comparator)}static empty(){return new hi([])}unionWith(e){let t=new ui(er.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new hi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xn(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class fi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new fi("Invalid base64 string: "+e):e}}(e);return new pi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new pi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pi.EMPTY_BYTE_STRING=new pi("");const mi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(e){if(In(!!e,39018),"string"==typeof e){let t=0;const n=mi.exec(e);if(In(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vi(e.seconds),nanos:vi(e.nanos)}}function vi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yi(e){return"string"==typeof e?pi.fromBase64String(e):pi.fromUint8Array(e)}const bi="server_timestamp",wi="__type__",xi="__previous_value__",ki="__local_write_time__";function Si(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[wi])||void 0===t?void 0:t.stringValue)===bi}function _i(e){const t=e.mapValue.fields[xi];return Si(t)?_i(t):t}function Ei(e){const t=gi(e.mapValue.fields[ki].timestampValue);return new hr(t.seconds,t.nanos)}class Ni{constructor(e,t,n,r,i,s,a,o,l,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c,this.apiKey=u}}const Ti="(default)";class Ci{constructor(e,t){this.projectId=e,this.database=t||Ti}static empty(){return new Ci("","")}get isDefaultDatabase(){return this.database===Ti}isEqual(e){return e instanceof Ci&&e.projectId===this.projectId&&e.database===this.database}}const Ii="__type__",Ai="__max__",Pi={mapValue:{fields:{__type__:{stringValue:Ai}}}},Di="__vector__",Ri="value";function Oi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Si(e)?4:Ji(e)?9007199254740991:Xi(e)?10:11:Tn(28295,{value:e})}function ji(e,t){if(e===t)return!0;const n=Oi(e);if(n!==Oi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ei(e).isEqual(Ei(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=gi(e.timestampValue),r=gi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yi(e.bytesValue).isEqual(yi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return vi(e.geoPointValue.latitude)===vi(t.geoPointValue.latitude)&&vi(e.geoPointValue.longitude)===vi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return vi(e.integerValue)===vi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=vi(e.doubleValue),r=vi(t.doubleValue);return n===r?Ir(n)===Ir(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xn(e.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ii(n)!==ii(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ji(n[i],r[i])))return!1;return!0}(e,t);default:return Tn(52216,{left:e})}}function Li(e,t){return void 0!==(e.values||[]).find(e=>ji(e,t))}function Mi(e,t){if(e===t)return 0;const n=Oi(e),r=Oi(t);if(n!==r)return Hn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Hn(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=vi(e.integerValue||e.doubleValue),r=vi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Fi(e.timestampValue,t.timestampValue);case 4:return Fi(Ei(e),Ei(t));case 5:return Wn(e.stringValue,t.stringValue);case 6:return function(e,t){const n=yi(e),r=yi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Hn(n[i],r[i]);if(0!==e)return e}return Hn(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Hn(vi(e.latitude),vi(t.latitude));return 0!==n?n:Hn(vi(e.longitude),vi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Vi(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Ri])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Ri])||void 0===r?void 0:r.arrayValue,u=Hn((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Vi(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Pi.mapValue&&t===Pi.mapValue)return 0;if(e===Pi.mapValue)return 1;if(t===Pi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Wn(r[a],s[a]);if(0!==e)return e;const t=Mi(n[r[a]],i[s[a]]);if(0!==t)return t}return Hn(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Tn(23264,{he:n})}}function Fi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Hn(e,t);const n=gi(e),r=gi(t),i=Hn(n.seconds,r.seconds);return 0!==i?i:Hn(n.nanos,r.nanos)}function Vi(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Mi(n[i],r[i]);if(e)return e}return Hn(n.length,r.length)}function Ui(e){return zi(e)}function zi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=gi(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return yi(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return tr.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=zi(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(zi(e.fields[i]));return n+"}"}(e.mapValue):Tn(61005,{value:e})}function Bi(e){switch(Oi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_i(e);return t?16+Bi(t):16;case 5:return 2*e.stringValue.length;case 6:return yi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Bi(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return si(e.fields,(e,n)=>{t+=e.length+Bi(n)}),t}(e.mapValue);default:throw Tn(13486,{value:e})}}function qi(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Hi(e){return!!e&&"integerValue"in e}function Wi(e){return!!e&&"arrayValue"in e}function Ki(e){return!!e&&"nullValue"in e}function Gi(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qi(e){return!!e&&"mapValue"in e}function Xi(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Ii])||void 0===t?void 0:t.stringValue)===Di}function Yi(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return si(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Yi(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Yi(e.arrayValue.values[n]);return t}return c({},e)}function Ji(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ai}class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Qi(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yi(t)}setAll(e){let t=er.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Yi(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Qi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Qi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){si(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new $i(Yi(this.value))}}function Zi(e){const t=[];return si(e.fields,(e,n)=>{const r=new er([e]);if(Qi(n)){const e=Zi(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new hi(t)}class es{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new es(e,0,fr.min(),fr.min(),fr.min(),$i.empty(),0)}static newFoundDocument(e,t,n,r){return new es(e,1,t,fr.min(),n,r,0)}static newNoDocument(e,t){return new es(e,2,t,fr.min(),fr.min(),$i.empty(),0)}static newUnknownDocument(e,t){return new es(e,3,t,fr.min(),fr.min(),$i.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof es&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new es(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ts{constructor(e,t){this.position=e,this.inclusive=t}}function ns(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?tr.comparator(tr.fromName(a.referenceValue),n.key):Mi(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function rs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ji(e.position[n],t.position[n]))return!1;return!0}class is{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ss(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class as{}class os extends as{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ms(e,t,n):"array-contains"===t?new bs(e,n):"in"===t?new ws(e,n):"not-in"===t?new xs(e,n):"array-contains-any"===t?new ks(e,n):new os(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new gs(e,n):new vs(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Mi(t,this.value)):null!==t&&Oi(this.value)===Oi(t)&&this.matchesComparison(Mi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ls extends as{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ls(e,t)}matches(e){return cs(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cs(e){return"and"===e.op}function us(e){return ds(e)&&cs(e)}function ds(e){for(const t of e.filters)if(t instanceof ls)return!1;return!0}function hs(e){if(e instanceof os)return e.field.canonicalString()+e.op.toString()+Ui(e.value);if(us(e))return e.filters.map(e=>hs(e)).join(",");{const t=e.filters.map(e=>hs(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function fs(e,t){return e instanceof os?function(e,t){return t instanceof os&&e.op===t.op&&e.field.isEqual(t.field)&&ji(e.value,t.value)}(e,t):e instanceof ls?function(e,t){return t instanceof ls&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&fs(n,t.filters[r]),!0)}(e,t):void Tn(19439)}function ps(e){return e instanceof os?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ui(e.value))}(e):e instanceof ls?function(e){return e.op.toString()+" {"+e.getFilters().map(ps).join(" ,")+"}"}(e):"Filter"}class ms extends os{constructor(e,t,n){super(e,t,n),this.key=tr.fromName(n.referenceValue)}matches(e){const t=tr.comparator(e.key,this.key);return this.matchesComparison(t)}}class gs extends os{constructor(e,t){super(e,"in",t),this.keys=ys("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vs extends os{constructor(e,t){super(e,"not-in",t),this.keys=ys("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ys(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>tr.fromName(e.referenceValue))}class bs extends os{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wi(t)&&Li(t.arrayValue,this.value)}}class ws extends os{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Li(this.value.arrayValue,t)}}class xs extends os{constructor(e,t){super(e,"not-in",t)}matches(e){if(Li(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Li(this.value.arrayValue,t)}}class ks extends os{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wi(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Li(this.value.arrayValue,e))}}class Ss{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Te=null}}function _s(e){return new Ss(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Es(e){const t=An(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>hs(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Cr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ui(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ui(e)).join(",")),t.Te=e}return t.Te}function Ns(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ss(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!fs(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rs(e.startAt,t.startAt)&&rs(e.endAt,t.endAt)}function Ts(e){return tr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Cs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Is(e,t,n,r,i,s,a,o){return new Cs(e,t,n,r,i,s,a,o)}function As(e){return new Cs(e)}function Ps(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ds(e){return null!==e.collectionGroup}function Rs(e){const t=An(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ui(er.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new is(r,n))}),e.has(er.keyField().canonicalString())||t.Ie.push(new is(er.keyField(),n))}return t.Ie}function Os(e){const t=An(e);return t.Ee||(t.Ee=js(t,Rs(e))),t.Ee}function js(e,t){if("F"===e.limitType)return _s(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new is(e.field,t)});const n=e.endAt?new ts(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ts(e.startAt.position,e.startAt.inclusive):null;return _s(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ls(e,t){const n=e.filters.concat([t]);return new Cs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ms(e,t,n){return new Cs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fs(e,t){return Ns(Os(e),Os(t))&&e.limitType===t.limitType}function Vs(e){return"".concat(Es(Os(e)),"|lt:").concat(e.limitType)}function Us(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>ps(e)).join(", "),"]")),Cr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ui(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ui(e)).join(",")),"Target(".concat(t,")")}(Os(e)),"; limitType=").concat(e.limitType,")")}function zs(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):tr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Rs(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ns(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Rs(e),t))&&!(e.endAt&&!function(e,t,n){const r=ns(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Rs(e),t))}(e,t)}function Bs(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qs(e){return(t,n)=>{let r=!1;for(const i of Rs(e)){const e=Hs(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Hs(e,t,n){const r=e.field.isKeyField()?tr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Mi(r,i):Tn(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Tn(19790,{direction:e.dir})}}class Ws{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ai(this.inner)}size(){return this.innerSize}}const Ks=new oi(tr.comparator);function Gs(){return Ks}const Qs=new oi(tr.comparator);function Xs(){let e=Qs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ys(e){let t=Qs;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Js(){return Zs()}function $s(){return Zs()}function Zs(){return new Ws(e=>e.toString(),(e,t)=>e.isEqual(t))}const ea=new oi(tr.comparator),ta=new ui(tr.comparator);function na(){let e=ta;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ra=new ui(Hn);function ia(){return ra}function sa(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ir(t)?"-0":t}}function aa(e){return{integerValue:""+e}}function oa(e,t){return Ar(t)?aa(t):sa(e,t)}class la{constructor(){this._=void 0}}function ca(e,t,n){return e instanceof ha?function(e,t){const n={fields:{[wi]:{stringValue:bi},[ki]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Si(t)&&(t=_i(t)),t&&(n.fields[xi]=t),{mapValue:n}}(n,t):e instanceof fa?pa(e,t):e instanceof ma?ga(e,t):function(e,t){const n=da(e,t),r=ya(n)+ya(e.Ae);return Hi(n)&&Hi(e.Ae)?aa(r):sa(e.serializer,r)}(e,t)}function ua(e,t,n){return e instanceof fa?pa(e,t):e instanceof ma?ga(e,t):n}function da(e,t){return e instanceof va?function(e){return Hi(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ha extends la{}class fa extends la{constructor(e){super(),this.elements=e}}function pa(e,t){const n=ba(t);for(const r of e.elements)n.some(e=>ji(e,r))||n.push(r);return{arrayValue:{values:n}}}class ma extends la{constructor(e){super(),this.elements=e}}function ga(e,t){let n=ba(t);for(const r of e.elements)n=n.filter(e=>!ji(e,r));return{arrayValue:{values:n}}}class va extends la{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ya(e){return vi(e.integerValue||e.doubleValue)}function ba(e){return Wi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class wa{constructor(e,t){this.field=e,this.transform=t}}class xa{constructor(e,t){this.version=e,this.transformResults=t}}class ka{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ka}static exists(e){return new ka(void 0,e)}static updateTime(e){return new ka(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sa(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class _a{}function Ea(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ja(e.key,ka.none()):new Aa(e.key,e.data,ka.none());{const n=e.data,r=$i.empty();let i=new ui(er.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Pa(e.key,r,new hi(i.toArray()),ka.none())}}function Na(e,t,n){e instanceof Aa?function(e,t,n){const r=e.value.clone(),i=Ra(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Pa?function(e,t,n){if(!Sa(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ra(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Da(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ta(e,t,n,r){return e instanceof Aa?function(e,t,n,r){if(!Sa(e.precondition,t))return n;const i=e.value.clone(),s=Oa(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Pa?function(e,t,n,r){if(!Sa(e.precondition,t))return n;const i=Oa(e.fieldTransforms,r,t),s=t.data;return s.setAll(Da(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Sa(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ca(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=da(r.transform,e||null);null!=i&&(null===n&&(n=$i.empty()),n.set(r.field,i))}return n||null}function Ia(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xn(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof fa&&t instanceof fa||e instanceof ma&&t instanceof ma?Xn(e.elements,t.elements,ji):e instanceof va&&t instanceof va?ji(e.Ae,t.Ae):e instanceof ha&&t instanceof ha}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Aa extends _a{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Pa extends _a{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Da(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ra(e,t,n){const r=new Map;In(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,ua(a,o,n[i]))}return r}function Oa(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,ca(e,s,t))}return r}class ja extends _a{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class La extends _a{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ma{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Na(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ta(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ta(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=$s();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Ea(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(fr.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),na())}isEqual(e){return this.batchId===e.batchId&&Xn(this.mutations,e.mutations,(e,t)=>Ia(e,t))&&Xn(this.baseMutations,e.baseMutations,(e,t)=>Ia(e,t))}}class Fa{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){In(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=ea;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Fa(e,t,n,r)}}class Va{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ua{constructor(e,t){this.count=e,this.unchangedNames=t}}var za,Ba;function qa(e){switch(e){case Pn.OK:return Tn(64938);case Pn.CANCELLED:case Pn.UNKNOWN:case Pn.DEADLINE_EXCEEDED:case Pn.RESOURCE_EXHAUSTED:case Pn.INTERNAL:case Pn.UNAVAILABLE:case Pn.UNAUTHENTICATED:return!1;case Pn.INVALID_ARGUMENT:case Pn.NOT_FOUND:case Pn.ALREADY_EXISTS:case Pn.PERMISSION_DENIED:case Pn.FAILED_PRECONDITION:case Pn.ABORTED:case Pn.OUT_OF_RANGE:case Pn.UNIMPLEMENTED:case Pn.DATA_LOSS:return!0;default:return Tn(15467,{code:e})}}function Ha(e){if(void 0===e)return _n("GRPC error has no .code"),Pn.UNKNOWN;switch(e){case za.OK:return Pn.OK;case za.CANCELLED:return Pn.CANCELLED;case za.UNKNOWN:return Pn.UNKNOWN;case za.DEADLINE_EXCEEDED:return Pn.DEADLINE_EXCEEDED;case za.RESOURCE_EXHAUSTED:return Pn.RESOURCE_EXHAUSTED;case za.INTERNAL:return Pn.INTERNAL;case za.UNAVAILABLE:return Pn.UNAVAILABLE;case za.UNAUTHENTICATED:return Pn.UNAUTHENTICATED;case za.INVALID_ARGUMENT:return Pn.INVALID_ARGUMENT;case za.NOT_FOUND:return Pn.NOT_FOUND;case za.ALREADY_EXISTS:return Pn.ALREADY_EXISTS;case za.PERMISSION_DENIED:return Pn.PERMISSION_DENIED;case za.FAILED_PRECONDITION:return Pn.FAILED_PRECONDITION;case za.ABORTED:return Pn.ABORTED;case za.OUT_OF_RANGE:return Pn.OUT_OF_RANGE;case za.UNIMPLEMENTED:return Pn.UNIMPLEMENTED;case za.DATA_LOSS:return Pn.DATA_LOSS;default:return Tn(39323,{code:e})}}(Ba=za||(za={}))[Ba.OK=0]="OK",Ba[Ba.CANCELLED=1]="CANCELLED",Ba[Ba.UNKNOWN=2]="UNKNOWN",Ba[Ba.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ba[Ba.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ba[Ba.NOT_FOUND=5]="NOT_FOUND",Ba[Ba.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ba[Ba.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ba[Ba.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ba[Ba.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ba[Ba.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ba[Ba.ABORTED=10]="ABORTED",Ba[Ba.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ba[Ba.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ba[Ba.INTERNAL=13]="INTERNAL",Ba[Ba.UNAVAILABLE=14]="UNAVAILABLE",Ba[Ba.DATA_LOSS=15]="DATA_LOSS";let Wa=null;function Ka(){return new TextEncoder}const Ga=new sn([4294967295,4294967295],0);function Qa(e){const t=Ka().encode(e),n=new an;return n.update(t),new Uint8Array(n.digest())}function Xa(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new sn([n,r],0),new sn([i,s],0)]}class Ya{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ja("Invalid padding: ".concat(t));if(n<0)throw new Ja("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Ja("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Ja("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=sn.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(sn.fromNumber(n)));return 1===r.compare(Ga)&&(r=new sn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Qa(e),[n,r]=Xa(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ya(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=Qa(e),[n,r]=Xa(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.be(e)}}be(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $a{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Za.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $a(fr.min(),r,new oi(Hn),Gs(),na())}}class Za{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Za(n,t,na(),na(),na())}}class eo{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.De=r}}class to{constructor(e,t){this.targetId=e,this.Ce=t}}class no{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pi.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ro{constructor(){this.ve=0,this.Fe=ao(),this.Me=pi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=na(),t=na(),n=na();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Tn(38017,{changeType:i})}}),new Za(this.Me,this.xe,e,t,n)}Ke(){this.Oe=!1,this.Fe=ao()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,In(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class io{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gs(),this.He=so(),this.Je=so(),this.Ze=new oi(Hn)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Tn(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(Ts(s))if(0===n){const e=new tr(s.path);this.et(t,e,es.newNoDocument(e,fr.min()))}else In(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null===(i=Wa)||void 0===i||i.lt(function(e,t,n,r,i){var s,a,o,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(s=null===d||void 0===d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(a=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=yi(n).toUint8Array()}catch(e){if(e instanceof fi)return En("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Ya(s,r,i)}catch(e){return En(e instanceof Ja?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Ts(i.target)){const t=new tr(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,es.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.Ke())}});let n=na();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new $a(e,t,this.Ze,this.je,n);return this.je=Gs(),this.He=so(),this.Je=so(),this.Ze=new oi(Hn),r}Ye(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,n),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new ro,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new ui(Hn),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new ui(Hn),this.He=this.He.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Sn("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ro),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function so(){return new oi(tr.comparator)}function ao(){return new oi(tr.comparator)}const oo={asc:"ASCENDING",desc:"DESCENDING"},lo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},co={and:"AND",or:"OR"};class uo{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ho(e,t){return e.useProto3Json||Cr(t)?t:{value:t}}function fo(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function po(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function mo(e,t){return fo(e,t.toTimestamp())}function go(e){return In(!!e,49232),fr.fromTimestamp(function(e){const t=gi(e);return new hr(t.seconds,t.nanos)}(e))}function vo(e,t){return yo(e,t).canonicalString()}function yo(e,t){const n=function(e){return new $n(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function bo(e){const t=$n.fromString(e);return In(Vo(t),10190,{key:t.toString()}),t}function wo(e,t){return vo(e.databaseId,t.path)}function xo(e,t){const n=bo(t);if(n.get(1)!==e.databaseId.projectId)throw new Dn(Pn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Dn(Pn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new tr(Eo(n))}function ko(e,t){return vo(e.databaseId,t)}function So(e){const t=bo(e);return 4===t.length?$n.emptyPath():Eo(t)}function _o(e){return new $n(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Eo(e){return In(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function No(e,t,n){return{name:wo(e,t),fields:n.value.mapValue.fields}}function To(e,t){let n;if(t instanceof Aa)n={update:No(e,t.key,t.value)};else if(t instanceof ja)n={delete:wo(e,t.key)};else if(t instanceof Pa)n={update:No(e,t.key,t.data),updateMask:Fo(t.fieldMask)};else{if(!(t instanceof La))return Tn(16599,{dt:t.type});n={verify:wo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ha)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fa)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ma)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof va)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Tn(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:mo(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Tn(27497)}(e,t.precondition)),n}function Co(e,t){return{documents:[ko(e,t.path)]}}function Io(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ko(e,i);const s=function(e){if(0!==e.length)return Mo(ls.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:jo(e.field),direction:Do(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=ho(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Ao(e){let t=So(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){In(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Po(e);return t instanceof ls&&us(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new is(Lo(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Cr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ts(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ts(n,t)}(n.endAt)),Is(t,i,a,s,o,"F",l,c)}function Po(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Lo(e.unaryFilter.field);return os.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Lo(e.unaryFilter.field);return os.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Lo(e.unaryFilter.field);return os.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Lo(e.unaryFilter.field);return os.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tn(61313);default:return Tn(60726)}}(e):void 0!==e.fieldFilter?function(e){return os.create(Lo(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tn(58110);default:return Tn(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ls.create(e.compositeFilter.filters.map(e=>Po(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Tn(1026)}}(e.compositeFilter.op))}(e):Tn(30097,{filter:e})}function Do(e){return oo[e]}function Ro(e){return lo[e]}function Oo(e){return co[e]}function jo(e){return{fieldPath:e.canonicalString()}}function Lo(e){return er.fromServerFormat(e.fieldPath)}function Mo(e){return e instanceof os?function(e){if("=="===e.op){if(Gi(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NAN"}};if(Ki(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gi(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NOT_NAN"}};if(Ki(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(e.field),op:Ro(e.op),value:e.value}}}(e):e instanceof ls?function(e){const t=e.getFilters().map(e=>Mo(e));return 1===t.length?t[0]:{compositeFilter:{op:Oo(e.op),filters:t}}}(e):Tn(54877,{filter:e})}function Fo(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Vo(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Uo(e){return!!e&&"function"==typeof e._toProto&&"ProtoValue"===e._protoValueType}class zo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:fr.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:fr.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:pi.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new zo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Bo{constructor(e){this.yt=e}}function qo(e){const t=Ao({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ms(t,t.limit,"L"):t}class Ho{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(vi(e.integerValue));else if("doubleValue"in e){const n=vi(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Ir(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=gi(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(yi(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Ji(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Xi(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):Tn(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Ri,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(vi(s)),this.Ot(i,t),this.Ct(r[i],t)}qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),tr.fromName(e).path.forEach(e=>{this.Ft(t,60),this.$t(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ho.Wt=new Ho;class Wo{constructor(){this.Sn=new Ko}addToCollectionParentIndex(e,t){return this.Sn.add(t),Sr.resolve()}getCollectionParents(e,t){return Sr.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Sr.resolve()}deleteFieldIndex(e,t){return Sr.resolve()}deleteAllFieldIndexes(e){return Sr.resolve()}createTargetIndexes(e,t){return Sr.resolve()}getDocumentsMatchingTarget(e,t){return Sr.resolve(null)}getIndexType(e,t){return Sr.resolve(0)}getFieldIndexes(e,t){return Sr.resolve([])}getNextCollectionGroupToUpdate(e){return Sr.resolve(null)}getMinOffset(e,t){return Sr.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,t){return Sr.resolve(yr.min())}updateCollectionGroup(e,t,n){return Sr.resolve()}updateIndexEntries(e,t){return Sr.resolve()}}class Ko{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ui($n.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ui($n.comparator)).toArray()}}new Uint8Array(0);const Go={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qo=41943040;class Xo{static withCacheSize(e){return new Xo(e,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Xo.DEFAULT_COLLECTION_PERCENTILE=10,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xo.DEFAULT=new Xo(Qo,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xo.DISABLED=new Xo(-1,0,0);class Yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Yo(0)}static ar(){return new Yo(-1)}}const Jo="LruGarbageCollector",$o=1048576;function Zo(e,t){let[n,r]=e,[i,s]=t;const a=Hn(n,i);return 0===a?Hn(r,s):a}class el{constructor(e){this.Pr=e,this.buffer=new ui(Zo),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Zo(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tl{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Ar(e){Sn(Jo,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Er(e)?Sn(Jo,"Ignoring IndexedDB error during garbage collection: ",e):await kr(e)}await this.Ar(3e5)})}}class nl{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Sr.resolve(Nr.ce);const n=new el(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.mr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Sn("LruGarbageCollector","Garbage collection skipped; disabled"),Sr.resolve(Go)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Sn("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Go):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Sn("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),kn()<=je.DEBUG&&Sn("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Sr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function rl(e,t){return new nl(e,t)}class il{constructor(){this.changes=new Ws(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,es.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Sr.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sl{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class al{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Ta(n.mutation,e,hi.empty(),hr.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,na()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:na();const r=Js();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Xs();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Js();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,na()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Gs();const s=Zs(),a=Zs();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Pa)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Ta(a.mutation,t,a.mutation.getFieldMask(),hr.now())):s.set(t.key,hi.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new sl(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Zs();let r=new oi((e,t)=>e-t),i=na();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||hi.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||na()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=$s();l.forEach(e=>{if(!i.has(e)){const r=Ea(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Sr.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return tr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ds(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Sr.resolve(Js());let a=pr,o=i;return s.next(t=>Sr.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Sr.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,na())).next(e=>({batchId:a,changes:Ys(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tr(t)).next(e=>{let t=Xs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Xs();return this.indexManager.getCollectionParents(e,i).next(a=>Sr.forEach(a,a=>{const o=function(e,t){return new Cs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,es.newInvalidDocument(r)))});let n=Xs();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Ta(s.mutation,r,hi.empty(),hr.now()),zs(t,r)&&(n=n.insert(e,r))}),n})}}class ol{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Sr.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:go(e.createTime)}}(t)),Sr.resolve()}getNamedQuery(e,t){return Sr.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,function(e){return{name:e.name,query:qo(e.bundledQuery),readTime:go(e.readTime)}}(t)),Sr.resolve()}}class ll{constructor(){this.overlays=new oi(tr.comparator),this.Lr=new Map}getOverlay(e,t){return Sr.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Js();return Sr.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.bt(e,t,r)}),Sr.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Lr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Lr.delete(n)),Sr.resolve()}getOverlaysForCollection(e,t,n){const r=Js(),i=t.length+1,s=new tr(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Sr.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new oi((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Js(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Js(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Sr.resolve(a)}bt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Lr.get(r.largestBatchId).delete(n.key);this.Lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Va(t,n));let i=this.Lr.get(t);void 0===i&&(i=na(),this.Lr.set(t,i)),this.Lr.set(t,i.add(n.key))}}class cl{constructor(){this.sessionToken=pi.EMPTY_BYTE_STRING}getSessionToken(e){return Sr.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Sr.resolve()}}class ul{constructor(){this.kr=new ui(dl.Kr),this.qr=new ui(dl.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const n=new dl(e,t);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new dl(e,t))}Qr(e,t){e.forEach(e=>this.removeReference(e,t))}Gr(e){const t=new tr(new $n([])),n=new dl(t,e),r=new dl(t,e+1),i=[];return this.qr.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new tr(new $n([])),n=new dl(t,e),r=new dl(t,e+1);let i=na();return this.qr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new dl(e,0),n=this.kr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class dl{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return tr.comparator(e.key,t.key)||Hn(e.Hr,t.Hr)}static Ur(e,t){return Hn(e.Hr,t.Hr)||tr.comparator(e.key,t.key)}}class hl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new ui(dl.Kr)}checkEmpty(e){return Sr.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ma(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Jr=this.Jr.add(new dl(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Sr.resolve(s)}lookupMutationBatch(e,t){return Sr.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return Sr.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Sr.resolve(0===this.mutationQueue.length?Tr:this.Yn-1)}getAllMutationBatches(e){return Sr.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new dl(t,0),r=new dl(t,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),Sr.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ui(Hn);return t.forEach(e=>{const t=new dl(e,0),r=new dl(e,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Sr.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;tr.isDocumentKey(i)||(i=i.child(""));const s=new dl(new tr(i),0);let a=new ui(Hn);return this.Jr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Hr)),!0)},s),Sr.resolve(this.Yr(a))}Yr(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){In(0===this.ei(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Jr;return Sr.forEach(t.mutations,r=>{const i=new dl(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Jr=n})}nr(e){}containsKey(e,t){const n=new dl(t,0),r=this.Jr.firstAfterOrEqual(n);return Sr.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Sr.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fl{constructor(e){this.ti=e,this.docs=new oi(tr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ti(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Sr.resolve(n?n.document.mutableCopy():es.newInvalidDocument(t))}getEntries(e,t){let n=Gs();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():es.newInvalidDocument(e))}),Sr.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Gs();const s=t.path,a=new tr(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||br(vr(a),n)<=0||(r.has(a.key)||zs(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Sr.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Tn(9500)}ni(e,t){return Sr.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new pl(this)}getSize(e){return Sr.resolve(this.size)}}class pl extends il{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(n)}),Sr.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class ml{constructor(e){this.persistence=e,this.ri=new Ws(e=>Es(e),Ns),this.lastRemoteSnapshotVersion=fr.min(),this.highestTargetId=0,this.ii=0,this.si=new ul,this.targetCount=0,this.oi=Yo._r()}forEachTarget(e,t){return this.ri.forEach((e,n)=>t(n)),Sr.resolve()}getLastRemoteSnapshotVersion(e){return Sr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Sr.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Sr.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ii&&(this.ii=t),Sr.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Yo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Sr.resolve()}updateTargetData(e,t){return this.lr(t),Sr.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Sr.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ri.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ri.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Sr.waitFor(i).next(()=>r)}getTargetCount(e){return Sr.resolve(this.targetCount)}getTargetData(e,t){const n=this.ri.get(t)||null;return Sr.resolve(n)}addMatchingKeys(e,t,n){return this.si.$r(t,n),Sr.resolve()}removeMatchingKeys(e,t,n){this.si.Qr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Sr.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Sr.resolve()}getMatchingKeysForTargetId(e,t){const n=this.si.jr(t);return Sr.resolve(n)}containsKey(e,t){return Sr.resolve(this.si.containsKey(t))}}class gl{constructor(e,t){this._i={},this.overlays={},this.ai=new Nr(0),this.ui=!1,this.ui=!0,this.ci=new cl,this.referenceDelegate=e(this),this.li=new ml(this),this.indexManager=new Wo,this.remoteDocumentCache=function(e){return new fl(e)}(e=>this.referenceDelegate.hi(e)),this.serializer=new Bo(t),this.Pi=new ol(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ll,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this._i[e.toKey()];return n||(n=new hl(t,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,n){Sn("MemoryPersistence","Starting transaction:",e);const r=new vl(this.ai.next());return this.referenceDelegate.Ti(),n(r).next(e=>this.referenceDelegate.Ii(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Sr.or(Object.values(this._i).map(n=>()=>n.containsKey(e,t)))}}class vl extends xr{constructor(e){super(),this.currentSequenceNumber=e}}class yl{constructor(e){this.persistence=e,this.Ri=new ul,this.Ai=null}static Vi(e){return new yl(e)}get di(){if(this.Ai)return this.Ai;throw Tn(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.di.delete(n.toString()),Sr.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.di.add(n.toString()),Sr.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Sr.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(e=>this.di.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.di.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Sr.forEach(this.di,n=>{const r=tr.fromPath(n);return this.mi(e,r).next(e=>{e||t.removeEntry(r,fr.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return Sr.or([()=>Sr.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class bl{constructor(e,t){this.persistence=e,this.fi=new Ws(e=>Dr(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=rl(this,t)}static Vi(e,t){return new bl(e,t)}Ti(){}Ii(e){return Sr.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}pr(e){let t=0;return this.mr(e,e=>{t++}).next(()=>t)}mr(e,t){return Sr.forEach(this.fi,(n,r)=>this.wr(e,n,r).next(e=>e?Sr.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ni(e,r=>this.wr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,fr.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Sr.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),Sr.resolve()}removeReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),Sr.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Sr.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bi(e.data.value)),t}wr(e,t,n){return Sr.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.fi.get(t);return Sr.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class wl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ts=n,this.Is=r}static Es(e,t){let n=na(),r=na();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new wl(e,t.fromCache,n,r)}}class xl{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kl{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=ve()?8:_r(me())>0?6:4}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.gs(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ps(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new xl;return this.ys(e,t,n).next(r=>{if(i.result=r,this.As)return this.ws(e,t,n,r.size)})}).next(()=>i.result)}ws(e,t,n,r){return n.documentReadCount<this.Vs?(kn()<=je.DEBUG&&Sn("QueryEngine","SDK will not create cache indexes for query:",Us(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Sr.resolve()):(kn()<=je.DEBUG&&Sn("QueryEngine","Query:",Us(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(kn()<=je.DEBUG&&Sn("QueryEngine","The SDK decides to create cache indexes for query:",Us(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Os(t))):Sr.resolve())}gs(e,t){if(Ps(t))return Sr.resolve(null);let n=Os(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Ms(t,null,"F"),n=Os(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=na(...r);return this.fs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.bs(t,r);return this.Ss(t,s,i,n.readTime)?this.gs(e,Ms(t,null,"F")):this.Ds(e,s,t,n)}))})))}ps(e,t,n,r){return Ps(t)||r.isEqual(fr.min())?Sr.resolve(null):this.fs.getDocuments(e,n).next(i=>{const s=this.bs(t,i);return this.Ss(t,s,n,r)?Sr.resolve(null):(kn()<=je.DEBUG&&Sn("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Us(t)),this.Ds(e,s,t,gr(r,pr)).next(e=>e))})}bs(e,t){let n=new ui(qs(e));return t.forEach((t,r)=>{zs(e,r)&&(n=n.add(r))}),n}Ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(e,t,n){return kn()<=je.DEBUG&&Sn("QueryEngine","Using full collection scan to execute query:",Us(t)),this.fs.getDocumentsMatchingQuery(e,t,yr.min(),n)}Ds(e,t,n,r){return this.fs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Sl="LocalStore";class _l{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new oi(Hn),this.Fs=new Ws(e=>Es(e),Ns),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new al(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}}function El(e,t,n,r){return new _l(e,t,n,r)}async function Nl(e,t){const n=An(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Os(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=na();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ns:e,removedBatchIds:i,addedBatchIds:s}))})})}function Tl(e){const t=An(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.li.getLastRemoteSnapshotVersion(e))}function Cl(e,t,n){let r=na(),i=na();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Gs();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(fr.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Sn(Sl,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Bs:r,Ls:i}})}function Il(e,t){const n=An(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Tr),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Al(e,t){const n=An(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.li.getTargetData(e,t).next(i=>i?(r=i,Sr.resolve(r)):n.li.allocateTargetId(e).next(i=>(r=new zo(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.li.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.vs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(e.targetId,e),n.Fs.set(t,e.targetId)),e})}async function Pl(e,t,n){const r=An(e),i=r.vs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Er(e))throw e;Sn(Sl,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.vs=r.vs.remove(t),r.Fs.delete(i.target)}function Dl(e,t,n){const r=An(e);let i=fr.min(),s=na();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=An(e),i=r.Fs.get(n);return void 0!==i?Sr.resolve(r.vs.get(i)):r.li.getTargetData(t,n)}(r,e,Os(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:fr.min(),n?s:na())).next(e=>(Rl(r,Bs(t),e),{documents:e,ks:s})))}function Rl(e,t,n){let r=e.Ms.get(t)||fr.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ms.set(t,r)}class Ol{constructor(){this.activeTargetIds=ia()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jl{constructor(){this.vo=new Ol,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,n){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Ol,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ll{Mo(e){}shutdown(){}}const Ml="ConnectivityMonitor";class Fl{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Sn(Ml,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Sn(Ml,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Vl=null;function Ul(){return null===Vl?Vl=268435456+Math.round(2147483648*Math.random()):Vl++,"0x"+Vl.toString(16)}const zl="RestConnection",Bl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ql{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo="projects/".concat(n,"/databases/").concat(r),this.$o=this.databaseId.database===Ti?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Wo(e,t,n,r,i){const s=Ul(),a=this.Qo(e,t.toUriEncodedString());Sn(zl,"Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(o,r,i);const{host:l}=new URL(a),c=ue(l);return this.zo(e,a,o,n,c).then(t=>(Sn(zl,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw En(zl,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}jo(e,t,n,r,i,s){return this.Wo(e,t,n,r,i)}Go(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+wn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Qo(e,t){const n=Bl[e];let r="".concat(this.qo,"/v1/").concat(t,":").concat(n);return this.databaseInfo.apiKey&&(r="".concat(r,"?key=").concat(encodeURIComponent(this.databaseInfo.apiKey))),r}terminate(){}}class Hl{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Wl="WebChannelConnection",Kl=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};class Gl extends ql{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Gl.c_){const e=mn();Kl(e,pn.STAT_EVENT,e=>{e.stat===fn.PROXY?Sn(Wl,"STAT_EVENT: detected buffering proxy"):e.stat===fn.NOPROXY&&Sn(Wl,"STAT_EVENT: detected no buffering proxy")}),Gl.c_=!0}}zo(e,t,n,r,i){const s=Ul();return new Promise((i,a)=>{const o=new cn;o.setWithCredentials(!0),o.listenOnce(dn.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case hn.NO_ERROR:const n=o.getResponseJson();Sn(Wl,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case hn.TIMEOUT:Sn(Wl,"RPC '".concat(e,"' ").concat(s," timed out")),a(new Dn(Pn.DEADLINE_EXCEEDED,"Request time out"));break;case hn.HTTP_ERROR:const r=o.getStatus();if(Sn(Wl,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pn).indexOf(t)>=0?t:Pn.UNKNOWN}(n.status);a(new Dn(e,n.message))}else a(new Dn(Pn.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Dn(Pn.UNAVAILABLE,"Connection failed."));break;default:Tn(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Sn(Wl,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);Sn(Wl,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Ul(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},o=this.longPollingOptions.timeoutSeconds;void 0!==o&&(a.longPollingTimeout=Math.round(1e3*o)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");Sn(Wl,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const c=s.createWebChannel(l,a);this.I_(c);let u=!1,d=!1;const h=new Hl({Ho:t=>{d?Sn(Wl,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(u||(Sn(Wl,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),u=!0),Sn(Wl,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Jo:()=>c.close()});return Kl(c,un.EventType.OPEN,()=>{d||(Sn(Wl,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),h.i_())}),Kl(c,un.EventType.CLOSE,()=>{d||(d=!0,Sn(Wl,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.o_(),this.E_(c))}),Kl(c,un.EventType.ERROR,t=>{d||(d=!0,En(Wl,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),h.o_(new Dn(Pn.UNAVAILABLE,"The operation could not be completed")))}),Kl(c,un.EventType.MESSAGE,t=>{if(!d){var n;const i=t.data[0];In(!!i,16349);const s=i,a=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Sn(Wl,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=za[e];if(void 0!==t)return Ha(t)}(t),i=a.message;"NOT_FOUND"===t&&i.includes("database")&&i.includes("does not exist")&&i.includes(this.databaseId.database)&&En("Database '".concat(this.databaseId.database,"' not found. Please check your project configuration.")),void 0===n&&(n=Pn.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,h.o_(new Dn(n,i)),c.close()}else Sn(Wl,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.__(i)}}),Gl.u_(),setTimeout(()=>{h.s_()},0),h}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,n){super.Go(e,t,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return gn()}}function Ql(e){return new Gl(e)}function Xl(){return"undefined"!=typeof document?document:null}function Yl(e){return new uo(e,!0)}Gl.c_=!1;class Jl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ci=e,this.timerId=t,this.R_=n,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Sn("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.d_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const $l="PersistentStream";class Zl{constructor(e,t,n,r,i,s,a,o){this.Ci=e,this.b_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jl(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Pn.RESOURCE_EXHAUSTED?(_n(t.toString()),_n("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Pn.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Dn(Pn.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.Yo(()=>{n(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.H_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Sn($l,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(Sn($l,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ec extends Zl{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Tn(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(In(void 0===t||"string"==typeof t,58123),pi.fromBase64String(t||"")):(In(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),pi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Pn.UNKNOWN:Ha(e.code);return new Dn(t,e.message||"")}(a);n=new no(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=xo(e,r.document.name),s=go(r.document.updateTime),a=r.document.createTime?go(r.document.createTime):fr.min(),o=new $i({mapValue:{fields:r.document.fields}}),l=es.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new eo(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=xo(e,r.document),s=r.readTime?go(r.readTime):fr.min(),a=es.newNoDocument(i,s),o=r.removedTargetIds||[];n=new eo([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=xo(e,r.document),s=r.removedTargetIds||[];n=new eo([],s,i,null)}else{if(!("filter"in t))return Tn(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ua(r,i),a=e.targetId;n=new to(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return fr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?fr.min():t.readTime?go(t.readTime):fr.min()}(e);return this.listener.J_(t,n)}Z_(e){const t={};t.database=_o(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ts(r)?{documents:Co(e,r)}:{query:Io(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=po(e,t.resumeToken);const r=ho(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(fr.min())>0){n.readTime=fo(e,t.snapshotVersion.toTimestamp());const r=ho(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tn(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.K_(t)}X_(e){const t={};t.database=_o(this.serializer),t.removeTarget=e,this.K_(t)}}class tc extends Zl{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return In(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,In(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){In(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(In(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?go(e.updateTime):go(t);return n.isEqual(fr.min())&&(n=go(t)),new xa(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=go(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=_o(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>To(this.serializer,e))};this.K_(t)}}class nc{}class rc extends nc{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Dn(Pn.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Wo(e,yo(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Pn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Dn(Pn.UNKNOWN,e.toString())})}jo(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.jo(e,yo(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Pn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Dn(Pn.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function ic(e,t,n,r){return new rc(e,t,n,r)}class sc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(_n(t),this.aa=!1):Sn("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const ac="RemoteStore";class oc{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(e=>{n.enqueueAndForget(async()=>{gc(this)&&(Sn(ac,"Restarting streams for network reachability change."),await async function(e){const t=An(e);t.Ea.add(4),await cc(t),t.Va.set("Unknown"),t.Ea.delete(4),await lc(t)}(this))})}),this.Va=new sc(n,r)}}async function lc(e){if(gc(e))for(const t of e.Ra)await t(!0)}async function cc(e){for(const t of e.Ra)await t(!1)}function uc(e,t){const n=An(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),mc(n)?pc(n):jc(n).O_()&&hc(n,t))}function dc(e,t){const n=An(e),r=jc(n);n.Ia.delete(t),r.O_()&&fc(n,t),0===n.Ia.size&&(r.O_()?r.L_():gc(n)&&n.Va.set("Unknown"))}function hc(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(fr.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}jc(e).Z_(t)}function fc(e,t){e.da.$e(t),jc(e).X_(t)}function pc(e){e.da=new io({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),jc(e).start(),e.Va.ua()}function mc(e){return gc(e)&&!jc(e).x_()&&e.Ia.size>0}function gc(e){return 0===An(e).Ea.size}function vc(e){e.da=void 0}async function yc(e){e.Va.set("Online")}async function bc(e){e.Ia.forEach((t,n)=>{hc(e,t)})}async function wc(e,t){vc(e),mc(e)?(e.Va.ha(t),pc(e)):e.Va.set("Unknown")}async function xc(e,t,n){if(e.Va.set("Online"),t instanceof no&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.da.removeTarget(r))}(e,t)}catch(n){Sn(ac,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await kc(e,n)}else if(t instanceof eo?e.da.Xe(t):t instanceof to?e.da.st(t):e.da.tt(t),!n.isEqual(fr.min()))try{const t=await Tl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.da.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(pi.EMPTY_BYTE_STRING,r.snapshotVersion)),fc(e,t);const i=new zo(r.target,t,n,r.sequenceNumber);hc(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Sn(ac,"Failed to raise snapshot:",t),await kc(e,t)}}async function kc(e,t,n){if(!Er(t))throw t;e.Ea.add(1),await cc(e),e.Va.set("Offline"),n||(n=()=>Tl(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Sn(ac,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await lc(e)})}function Sc(e,t){return t().catch(n=>kc(e,n,t))}async function _c(e){const t=An(e),n=Lc(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Tr;for(;Ec(t);)try{const e=await Il(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Nc(t,e)}catch(e){await kc(t,e)}Tc(t)&&Cc(t)}function Ec(e){return gc(e)&&e.Ta.length<10}function Nc(e,t){e.Ta.push(t);const n=Lc(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function Tc(e){return gc(e)&&!Lc(e).x_()&&e.Ta.length>0}function Cc(e){Lc(e).start()}async function Ic(e){Lc(e).ra()}async function Ac(e){const t=Lc(e);for(const n of e.Ta)t.ea(n.mutations)}async function Pc(e,t,n){const r=e.Ta.shift(),i=Fa.from(r,t,n);await Sc(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await _c(e)}async function Dc(e,t){t&&Lc(e).Y_&&await async function(e,t){if(function(e){return qa(e)&&e!==Pn.ABORTED}(t.code)){const n=e.Ta.shift();Lc(e).B_(),await Sc(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await _c(e)}}(e,t),Tc(e)&&Cc(e)}async function Rc(e,t){const n=An(e);n.asyncQueue.verifyOperationInProgress(),Sn(ac,"RemoteStore received new credentials");const r=gc(n);n.Ea.add(3),await cc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await lc(n)}async function Oc(e,t){const n=An(e);t?(n.Ea.delete(2),await lc(n)):t||(n.Ea.add(2),await cc(n),n.Va.set("Unknown"))}function jc(e){return e.ma||(e.ma=function(e,t,n){const r=An(e);return r.sa(),new ec(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:yc.bind(null,e),Yo:bc.bind(null,e),t_:wc.bind(null,e),J_:xc.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),mc(e)?pc(e):e.Va.set("Unknown")):(await e.ma.stop(),vc(e))})),e.ma}function Lc(e){return e.fa||(e.fa=function(e,t,n){const r=An(e);return r.sa(),new tc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Ic.bind(null,e),t_:Dc.bind(null,e),ta:Ac.bind(null,e),na:Pc.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await _c(e)):(await e.fa.stop(),e.Ta.length>0&&(Sn(ac,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Mc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Mc(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dn(Pn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fc(e,t){if(_n("AsyncQueue","".concat(t,": ").concat(e)),Er(e))return new Dn(Pn.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Vc{static emptySet(e){return new Vc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||tr.comparator(t.key,n.key):(e,t)=>tr.comparator(e.key,t.key),this.keyedMap=Xs(),this.sortedSet=new oi(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Vc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Uc{constructor(){this.ga=new oi(tr.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Tn(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class zc{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new zc(e,t,Vc.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Bc{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class qc{constructor(){this.queries=Hc(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=An(e),r=n.queries;n.queries=Hc(),r.forEach((e,n)=>{for(const r of n.ba)r.onError(t)})}(this,new Dn(Pn.ABORTED,"Firestore shutting down"))}}function Hc(){return new Ws(e=>Vs(e),Fs)}async function Wc(e,t){const n=An(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Sa()&&t.Da()&&(r=2):(s=new Bc,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Fc(e,"Initialization of query '".concat(Us(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.ba.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Xc(n)}async function Kc(e,t){const n=An(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.ba.indexOf(t);e>=0&&(s.ba.splice(e,1),0===s.ba.length?i=t.Da()?0:1:!s.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Gc(e,t){const n=An(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ba)e.Fa(i)&&(r=!0);t.wa=i}}r&&Xc(n)}function Qc(e,t,n){const r=An(e),i=r.queries.get(t);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(t)}function Xc(e){e.Ca.forEach(e=>{e.next()})}var Yc,Jc;(Jc=Yc||(Yc={})).Ma="default",Jc.Cache="cache";class $c{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new zc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=zc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yc.Cache}}class Zc{constructor(e){this.key=e}}class eu{constructor(e){this.key=e}}class tu{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=na(),this.mutatedKeys=na(),this.eu=qs(e),this.tu=new Vc(this.eu)}get nu(){return this.Za}ru(e,t){const n=t?t.iu:new Uc,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=zs(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Ss:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tn(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const a=t&&!r?this._u():[],o=0===this.Ya.size&&this.current&&!r?1:0,l=o!==this.Xa;return this.Xa=o,0!==s.length||l?{snapshot:new zc(this.query,e.tu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Uc,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Za=this.Za.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Za=this.Za.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=na(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Ya=this.Ya.add(e.key))});const t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new eu(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new Zc(n))}),t}cu(e){this.Za=e.ks,this.Ya=na();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return zc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Xa,this.hasCachedResults)}}const nu="SyncEngine";class ru{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class iu{constructor(e){this.key=e,this.hu=!1}}class su{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ws(e=>Vs(e),Fs),this.Iu=new Map,this.Eu=new Set,this.Ru=new oi(tr.comparator),this.Au=new Map,this.Vu=new ul,this.du={},this.mu=new Map,this.fu=Yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function au(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Tu(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await lu(r,t,n,!0),i}async function ou(e,t){const n=Tu(e);await lu(n,t,!0,!1)}async function lu(e,t,n,r){const i=await Al(e.localStore,Os(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await cu(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&uc(e.remoteStore,i),o}async function cu(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Ss&&(i=await Dl(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return xu(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const s=await Dl(e.localStore,t,!0),a=new tu(t,s.ks),o=a.ru(s.documents),l=Za.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);xu(e,n,c.au);const u=new ru(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function uu(e,t,n){const r=An(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!Fs(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dc(r.remoteStore,i.targetId),bu(r,i.targetId)}).catch(kr)):(bu(r,i.targetId),await Pl(r.localStore,i.targetId,!0))}async function du(e,t){const n=An(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dc(n.remoteStore,r.targetId))}async function hu(e,t){const n=An(e);try{const e=await function(e,t){const n=An(e),r=t.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.li.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.li.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(pi.EMPTY_BYTE_STRING,fr.min()).withLastLimboFreeSnapshotVersion(fr.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.li.updateTargetData(e,c))});let o=Gs(),l=na();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Cl(e,s,t.documentUpdates).next(e=>{o=e.Bs,l=e.Ls})),!r.isEqual(fr.min())){const t=n.li.getLastRemoteSnapshotVersion(e).next(t=>n.li.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Sr.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.vs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(In(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?In(r.hu,14607):e.removedDocuments.size>0&&(In(r.hu,42227),r.hu=!1))}),await _u(n,e,t)}catch(e){await kr(e)}}function fu(e,t,n){const r=An(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=An(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.ba)i.va(t)&&(r=!0)}),r&&Xc(n)}(r.eventManager,t),e.length&&r.Pu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function pu(e,t,n){const r=An(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new oi(tr.comparator);e=e.insert(s,es.newNoDocument(s,fr.min()));const n=na().add(s),i=new $a(fr.min(),new Map,new oi(Hn),e,n);await hu(r,i),r.Ru=r.Ru.remove(s),r.Au.delete(t),Su(r)}else await Pl(r.localStore,t,!1).then(()=>bu(r,t,n)).catch(kr)}async function mu(e,t){const n=An(e),r=t.batch.batchId;try{const e=await function(e,t){const n=An(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Sr.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);In(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=na();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);yu(n,r,null),vu(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _u(n,e)}catch(e){await kr(e)}}async function gu(e,t,n){const r=An(e);try{const e=await function(e,t){const n=An(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(In(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);yu(r,t,n),vu(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await _u(r,e)}catch(n){await kr(n)}}function vu(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function yu(e,t,n){const r=An(e);let i=r.du[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}function bu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(t=>{e.Vu.containsKey(t)||wu(e,t)})}function wu(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);null!==n&&(dc(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),Su(e))}function xu(e,t,n){for(const r of n)r instanceof Zc?(e.Vu.addReference(r.key,t),ku(e,r)):r instanceof eu?(Sn(nu,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||wu(e,r.key)):Tn(19791,{wu:r})}function ku(e,t){const n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(Sn(nu,"New document in limbo: "+n),e.Eu.add(r),Su(e))}function Su(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new tr($n.fromString(t)),r=e.fu.next();e.Au.set(r,new iu(n)),e.Ru=e.Ru.insert(n,r),uc(e.remoteStore,new zo(Os(As(n.path)),r,"TargetPurposeLimboResolution",Nr.ce))}}async function _u(e,t,n){const r=An(e),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=wl.Es(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Pu.J_(i),await async function(e,t){const n=An(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Sr.forEach(t,t=>Sr.forEach(t.Ts,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Sr.forEach(t.Is,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Er(e))throw e;Sn(Sl,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.vs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.vs=n.vs.insert(e,i)}}}(r.localStore,s))}async function Eu(e,t){const n=An(e);if(!n.currentUser.isEqual(t)){Sn(nu,"User change. New user:",t.toKey());const e=await Nl(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Dn(Pn.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await _u(n,e.Ns)}}function Nu(e,t){const n=An(e),r=n.Au.get(t);if(r&&r.hu)return na().add(r.key);{let e=na();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Tu(e){const t=An(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pu.bind(null,t),t.Pu.J_=Gc.bind(null,t.eventManager),t.Pu.yu=Qc.bind(null,t.eventManager),t}function Cu(e){const t=An(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mu.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gu.bind(null,t),t}class Iu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yl(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return El(this.persistence,new kl,e.initialUser,this.serializer)}Cu(e){return new gl(yl.Vi,this.serializer)}Du(e){return new jl}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Iu.provider={build:()=>new Iu};class Au extends Iu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){In(this.persistence.referenceDelegate instanceof bl,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new tl(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Xo.withCacheSize(this.cacheSizeBytes):Xo.DEFAULT;return new gl(e=>bl.Vi(e,t),this.serializer)}}class Pu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>fu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Eu.bind(null,this.syncEngine),await Oc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new qc}createDatastore(e){const t=Yl(e.databaseInfo.databaseId),n=Ql(e.databaseInfo);return ic(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new oc(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>fu(this.syncEngine,e,0),Fl.v()?new Fl:new Ll)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new su(e,t,n,r,i,s);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=An(e);Sn(ac,"RemoteStore shutting down."),t.Ea.add(5),await cc(t),t.Aa.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Pu.provider={build:()=>new Pu};class Du{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_n("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Ru="FirestoreClient";class Ou{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this._databaseInfo=r,this.user=bn.UNAUTHENTICATED,this.clientId=qn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Sn(Ru,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Sn(Ru,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Fc(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ju(e,t){e.asyncQueue.verifyOperationInProgress(),Sn(Ru,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Nl(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Lu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Mu(e);Sn(Ru,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Rc(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Rc(t.remoteStore,n)),e._onlineComponents=t}async function Mu(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Sn(Ru,"Using user provided OfflineComponentProvider");try{await ju(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Pn.FAILED_PRECONDITION||e.code===Pn.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;En("Error using user provided cache. Falling back to memory cache: "+n),await ju(e,new Iu)}}else Sn(Ru,"Using default OfflineComponentProvider"),await ju(e,new Au(void 0));return e._offlineComponents}async function Fu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Sn(Ru,"Using user provided OnlineComponentProvider"),await Lu(e,e._uninitializedComponentsProvider._online)):(Sn(Ru,"Using default OnlineComponentProvider"),await Lu(e,new Pu))),e._onlineComponents}function Vu(e){return Fu(e).then(e=>e.syncEngine)}async function Uu(e){const t=await Fu(e),n=t.eventManager;return n.onListen=au.bind(null,t.syncEngine),n.onUnlisten=uu.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ou.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=du.bind(null,t.syncEngine),n}function zu(e,t){const n=new Rn;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Cu(e);try{const e=await function(e,t){const n=An(e),r=hr.now(),i=t.reduce((e,t)=>e.add(t.key),na());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Gs(),l=na();return n.xs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=Ca(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Pa(e.key,t,Zi(t.value.mapValue),ka.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Ys(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.du[e.currentUser.toKey()];r||(r=new oi(Hn)),r=r.insert(t,n),e.du[e.currentUser.toKey()]=r}(r,e.batchId,n),await _u(r,e.changes),await _c(r.remoteStore)}catch(e){const t=Fc(e,"Failed to persist write");n.reject(t)}}(await Vu(e),t,n)),n.promise}function Bu(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const qu="ComponentProvider",Hu=new Map;function Wu(e,t,n,r,i){return new Ni(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Bu(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const Ku="firestore.googleapis.com",Gu=!0;class Qu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Dn(Pn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ku,this.ssl=Gu}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Gu;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Qo;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<$o)throw new Dn(Pn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Dn(Pn.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bu(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Dn(Pn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Dn(Pn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Dn(Pn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qu({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Dn(Pn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Dn(Pn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qu(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new jn;switch(e.type){case"firstParty":return new Vn(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Dn(Pn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Hu.get(e);t&&(Sn(qu,"Removing Datastore"),Hu.delete(e),t.terminate())}(this),Promise.resolve()}}function Yu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=or(e,Xu);const i=ue(t),s=e._getSettings(),a=c(c({},s),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);i&&(de("https://".concat(o)),pe("Firestore",!0)),s.host!==Ku&&s.host!==o&&En("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},s),{},{host:o,ssl:i,emulatorOptions:r});if(!ke(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=bn.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Dn(Pn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new bn(i)}e._authCredentials=new Ln(new On(t,n))}}class Ju{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ju(this.firestore,e,this._query)}}class $u{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $u(this.firestore,e,this._key)}toJSON(){return{type:$u._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(cr(t,$u._jsonSchema))return new $u(e,n||null,new tr($n.fromString(t.referencePath)))}}$u._jsonSchemaVersion="firestore/documentReference/1.0",$u._jsonSchema={type:lr("string",$u._jsonSchemaVersion),referencePath:lr("string")};class Zu extends Ju{constructor(e,t,n){super(e,t,As(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $u(this.firestore,null,new tr(e))}withConverter(e){return new Zu(this.firestore,e,this._path)}}function ed(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ie(e),1===arguments.length&&(t=qn.newId()),nr("doc","path",t),e instanceof Xu){const n=$n.fromString(t,...r);return rr(n),new $u(e,null,new tr(n))}{if(!(e instanceof $u||e instanceof Zu))throw new Dn(Pn.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($n.fromString(t,...r));return rr(n),new $u(e.firestore,e instanceof Zu?e.converter:null,new tr(n))}}const td="AsyncQueue";class nd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jl(this,"async_queue_retry"),this._c=()=>{const e=Xl();e&&Sn(td,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Xl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Xl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Rn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(0!==this.Yu.length){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Er(e))throw e;Sn(td,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,_n("INTERNAL UNHANDLED ERROR: ",rd(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Mc.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Tn(47125,{Pc:rd(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function rd(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class id extends Xu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new nd,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nd(e),this._firestoreClient=void 0,await e}}}function sd(e){if(e._terminated)throw new Dn(Pn.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ad(e),e._firestoreClient}function ad(e){var t,n,r,i;const s=e._freezeSettings(),a=Wu(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,null===(n=e._app)||void 0===n?void 0:n.options.apiKey,s);e._componentsProvider||null!==(r=s.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(i=s.localCache)&&void 0!==i&&i._onlineComponentProvider&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new Ou(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class od{constructor(e){this._byteString=e}static fromBase64String(e){try{return new od(pi.fromBase64String(e))}catch(e){throw new Dn(Pn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new od(pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:od._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cr(e,od._jsonSchema))return od.fromBase64String(e.bytes)}}od._jsonSchemaVersion="firestore/bytes/1.0",od._jsonSchema={type:lr("string",od._jsonSchemaVersion),bytes:lr("string")};class ld{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Dn(Pn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cd{constructor(e){this._methodName=e}}class ud{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Dn(Pn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Dn(Pn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Hn(this._lat,e._lat)||Hn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ud._jsonSchemaVersion}}static fromJSON(e){if(cr(e,ud._jsonSchema))return new ud(e.latitude,e.longitude)}}ud._jsonSchemaVersion="firestore/geoPoint/1.0",ud._jsonSchema={type:lr("string",ud._jsonSchemaVersion),latitude:lr("number"),longitude:lr("number")};class dd{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:dd._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cr(e,dd._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new dd(e.vectorValues);throw new Dn(Pn.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}dd._jsonSchemaVersion="firestore/vectorValue/1.0",dd._jsonSchema={type:lr("string",dd._jsonSchemaVersion),vectorValues:lr("object")};const hd=/^__.*__$/;class fd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Pa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Aa(e,this.data,t,this.fieldTransforms)}}class pd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Pa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function md(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tn(40011,{dataSource:e})}}class gd{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new gd(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Dd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(md(this.dataSource)&&hd.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class vd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Yl(e)}createContext(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new gd({dataSource:e,methodName:t,targetDoc:n,path:er.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yd(e){const t=e._freezeSettings(),n=Yl(e._databaseId);return new vd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bd(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.createContext(s.merge||s.mergeFields?2:0,t,n,i);Cd("Data must be an object, but it was:",a,r);const o=Nd(r,a);let l,c;if(s.merge)l=new hi(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Id(t,r,n);if(!a.contains(i))throw new Dn(Pn.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Rd(e,i)||e.push(i)}l=new hi(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new fd(new $i(o),l,c)}class wd extends cd{_toFieldTransform(e){if(2!==e.dataSource)throw 1===e.dataSource?e.createError("".concat(this._methodName,"() can only appear at the top level of your update data")):e.createError("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wd}}class xd extends cd{_toFieldTransform(e){return new wa(e.path,new ha)}isEqual(e){return e instanceof xd}}function kd(e,t,n,r){const i=e.createContext(1,t,n);Cd("Data must be an object, but it was:",i,r);const s=[],a=$i.empty();si(r,(e,r)=>{const o=Pd(t,e,n);r=Ie(r);const l=i.childContextForFieldPath(o);if(r instanceof wd)s.push(o);else{const e=Ed(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new hi(s);return new pd(a,o,i.fieldTransforms)}function Sd(e,t,n,r,i,s){const a=e.createContext(1,t,n),o=[Id(t,r,n)],l=[i];if(s.length%2!=0)throw new Dn(Pn.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(Id(t,s[h])),l.push(s[h+1]);const c=[],u=$i.empty();for(let h=o.length-1;h>=0;--h)if(!Rd(c,o[h])){const e=o[h];let t=l[h];t=Ie(t);const n=a.childContextForFieldPath(e);if(t instanceof wd)c.push(e);else{const r=Ed(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new hi(c);return new pd(u,d,a.fieldTransforms)}function _d(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ed(n,e.createContext(r?4:3,t))}function Ed(e,t){if(Td(e=Ie(e)))return Cd("Unsupported field value:",t,e),Nd(e,t);if(e instanceof cd)return function(e,t){if(!md(t.dataSource))throw t.createError("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.createError("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&4!==t.dataSource)throw t.createError("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ed(i,t.childContextForArray(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ie(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return oa(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=hr.fromDate(e);return{timestampValue:fo(t.serializer,n)}}if(e instanceof hr){const n=new hr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fo(t.serializer,n)}}if(e instanceof ud)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof od)return{bytesValue:po(t.serializer,e._byteString)};if(e instanceof $u){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.createError("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:vo(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof dd)return function(e,t){const n=e instanceof dd?e.toArray():e,r={fields:{[Ii]:{stringValue:Di},[Ri]:{arrayValue:{values:n.map(e=>{if("number"!=typeof e)throw t.createError("VectorValues must only contain numeric values.");return sa(t.serializer,e)})}}}};return{mapValue:r}}(e,t);if(Uo(e))return e._toProto(t.serializer);throw t.createError("Unsupported field value: ".concat(ar(e)))}(e,t)}function Nd(e,t){const n={};return ai(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):si(e,(e,r)=>{const i=Ed(r,t.childContextForField(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Td(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof hr||e instanceof ud||e instanceof od||e instanceof $u||e instanceof cd||e instanceof dd||Uo(e))}function Cd(e,t,n){if(!Td(n)||!sr(n)){const r=ar(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function Id(e,t,n){if((t=Ie(t))instanceof ld)return t._internalPath;if("string"==typeof t)return Pd(e,t);throw Dd("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ad=new RegExp("[~\\*/\\[\\]]");function Pd(e,t,n){if(t.search(Ad)>=0)throw Dd("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new ld(...t.split("."))._internalPath}catch(r){throw Dd("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Dd(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Dn(Pn.INVALID_ARGUMENT,o+e+l)}function Rd(e,t){return e.some(e=>e.isEqual(t))}class Od{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Tn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return si(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Ri].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>vi(e.doubleValue));return new dd(n)}convertGeoPoint(e){return new ud(vi(e.latitude),vi(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_i(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ei(e));default:return null}}convertTimestamp(e){const t=gi(e);return new hr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=$n.fromString(e);In(Vo(n),9688,{name:e});const r=new Ci(n.get(1),n.get(3)),i=new tr(n.popFirst(5));return r.isEqual(t)||_n("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}class jd extends Od{constructor(e){super(),this.firestore=e}convertBytes(e){return new od(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $u(this.firestore,null,t)}}function Ld(){return new xd("serverTimestamp")}const Md="@firebase/firestore",Fd="4.11.0";class Vd{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $u(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ud(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e,t;return null!==(e=null===(t=this._document)||void 0===t?void 0:t.data.clone().value.mapValue.fields)&&void 0!==e?e:void 0}get(e){if(this._document){const t=this._document.data.field(Id("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ud extends Vd{data(){return super.data()}}function zd(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Dn(Pn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bd{}class qd extends Bd{}class Hd extends qd{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Hd(e,t,n)}_apply(e){const t=this._parse(e);return Yd(e._query,t),new Ju(e.firestore,e.converter,Ls(e._query,t))}_parse(e){const t=yd(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Dn(Pn.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Xd(a,s);const t=[];for(const n of a)t.push(Qd(r,e,n));o={arrayValue:{values:t}}}else o=Qd(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Xd(a,s),o=_d(n,t,a,"in"===s||"not-in"===s);return os.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Wd extends Bd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wd(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:ls.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Yd(n,i),n=Ls(n,i)}(e._query,t),new Ju(e.firestore,e.converter,Ls(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Kd extends qd{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Kd(e,t,n)}_apply(e){return new Ju(e.firestore,e.converter,Ms(e._query,this._limit,this._limitType))}}function Gd(e){return function(e,t){if(t<=0)throw new Dn(Pn.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}("limit",e),Kd._create("limit",e,"F")}function Qd(e,t,n){if("string"==typeof(n=Ie(n))){if(""===n)throw new Dn(Pn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ds(t)&&-1!==n.indexOf("/"))throw new Dn(Pn.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child($n.fromString(n));if(!tr.isDocumentKey(r))throw new Dn(Pn.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return qi(e,new tr(r))}if(n instanceof $u)return qi(e,n._key);throw new Dn(Pn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ar(n),"."))}function Xd(e,t){if(!Array.isArray(e)||0===e.length)throw new Dn(Pn.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Yd(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Dn(Pn.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Dn(Pn.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Jd(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class $d{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zd extends Vd{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Id("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Dn(Pn.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Zd._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Zd._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zd._jsonSchema={type:lr("string",Zd._jsonSchemaVersion),bundleSource:lr("string","DocumentSnapshot"),bundleName:lr("string"),bundle:lr("string")};class eh extends Zd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class th{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $d(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new eh(this._firestore,this._userDataWriter,n.key,n,new $d(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Dn(Pn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new eh(e._firestore,e._userDataWriter,n.doc.key,n.doc,new $d(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new eh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $d(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:nh(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Dn(Pn.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=th._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qn.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tn(61501,{type:e})}}th._jsonSchemaVersion="firestore/querySnapshot/1.0",th._jsonSchema={type:lr("string",th._jsonSchemaVersion),bundleSource:lr("string","QuerySnapshot"),bundleName:lr("string"),bundle:lr("string")};function rh(e){e=or(e,$u);const t=or(e.firestore,id);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Rn;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Du({next:o=>{s.Nu(),t.enqueueAndForget(()=>Kc(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Dn(Pn.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Dn(Pn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new $c(As(n.path),s,{includeMetadataChanges:!0,Ka:!0});return Wc(e,a)}(await Uu(e),e.asyncQueue,t,n,r)),r.promise}(sd(t),e._key).then(n=>lh(t,e,n))}function ih(e){e=or(e,Ju);const t=or(e.firestore,id),n=sd(t),r=new jd(t);return zd(e._query),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Rn;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Du({next:n=>{s.Nu(),t.enqueueAndForget(()=>Kc(e,a)),n.fromCache&&"server"===r.source?i.reject(new Dn(Pn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new $c(n,s,{includeMetadataChanges:!0,Ka:!0});return Wc(e,a)}(await Uu(e),e.asyncQueue,t,n,r)),r.promise}(n,e._query).then(n=>new th(t,r,e,n))}function sh(e,t,n){e=or(e,$u);const r=or(e.firestore,id),i=Jd(e.converter,t,n);return oh(r,[bd(yd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ka.none())])}function ah(e,t,n){e=or(e,$u);const r=or(e.firestore,id),i=yd(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=Ie(t))||t instanceof ld?Sd(i,"updateDoc",e._key,t,n,o):kd(i,"updateDoc",e._key,t),oh(r,[s.toMutation(e._key,ka.exists(!0))])}function oh(e,t){return zu(sd(e),t)}function lh(e,t,n){const r=n.docs.get(t._key),i=new jd(e);return new Zd(e,i,t._key,r,new $d(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];wn=Ht,Vt(new Ae("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new id(new Mn(e.getProvider("auth-internal")),new zn(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Dn(Pn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ci(e.options.projectId,t)}(s,r),s);return i=c({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Gt(Md,Fd,e),Gt(Md,Fd,"esm2020")}();const ch=["providerId"],uh=["uid","auth","stsTokenManager"],dh=["providerId","signInMethod"];function hh(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fh=hh,ph=new we("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mh=new Ue("@firebase/auth");function gh(e){if(mh.logLevel<=je.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mh.error("Auth (".concat(Ht,"): ").concat(e),...n)}}function vh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw xh(e,...n)}function yh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xh(e,...n)}function bh(e,t,n){const r=c(c({},fh()),{},{[t]:n});return new we("auth","Firebase",r).create(t,{appName:e.name})}function wh(e){return bh(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ph.create(e,...n)}function kh(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw xh(t,...r)}}function Sh(e){const t="INTERNAL ASSERTION FAILED: "+e;throw gh(t),new Error(t)}function _h(e,t){e||Sh(t)}function Eh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Nh(){return"http:"===Th()||"https:"===Th()}function Th(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ch(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Nh()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ih{constructor(e,t){this.shortDelay=e,this.longDelay=t,_h(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(me())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Ch()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ah(e,t){_h(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ph{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Sh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Sh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Sh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dh={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rh=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Oh=new Ih(3e4,6e4);function jh(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function Lh(e,t,n,r){return Mh(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=_e(c({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&ue(e.emulatorConfig.host)&&(l.credentials="include"),Ph.fetch()(await Vh(e,e.config.apiHost,n,a),l)})}async function Mh(e,t,n){e._canInitEmulator=!1;const r=c(c({},Dh),t);try{const t=new zh(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Bh(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Bh(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Bh(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Bh(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw bh(e,o,a);vh(e,o)}}catch(i){if(i instanceof be)throw i;vh(e,"network-request-failed",{message:String(i)})}}async function Fh(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Lh(e,t,n,r,i);return"mfaPendingCredential"in s&&vh(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Vh(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,a=s.config.emulator?Ah(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Rh.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function Uh(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zh{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(yh(this.auth,"network-request-failed")),Oh.get())})}}function Bh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yh(e,t,r);return i.customData._tokenResponse=n,i}function qh(e){return void 0!==e&&void 0!==e.enterprise}class Hh{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Uh(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Wh(e,t){return Lh(e,"GET","/v2/recaptchaConfig",jh(e,t))}async function Kh(e,t){return Lh(e,"POST","/v1/accounts:lookup",t)}function Gh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Qh(e){return 1e3*Number(e)}function Xh(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const e=re(n);return e?JSON.parse(e):(gh("Failed to decode base64 JWT payload"),null)}catch(i){return gh("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Yh(e){const t=Xh(e);return kh(t,"internal-error"),kh("undefined"!==typeof t.exp,"internal-error"),kh("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Jh(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof be&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class $h{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Zh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gh(this.lastLoginAt),this.creationTime=Gh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ef(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Jh(e,Kh(n,{idToken:r}));kh(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?tf(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null!==o&&void 0!==o&&o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Zh(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function tf(e){return e.map(e=>{let{providerId:t}=e,n=u(e,ch);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class nf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){kh(e.idToken,"internal-error"),kh("undefined"!==typeof e.idToken,"internal-error"),kh("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Yh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){kh(0!==e.length,"internal-error");const t=Yh(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(kh(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Mh(e,{},async()=>{const n=_e({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Vh(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&ue(e.emulatorConfig.host)&&(o.credentials="include"),Ph.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new nf;return n&&(kh("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(kh("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(kh("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nf,this.toJSON())}_performRefresh(){return Sh("not implemented")}}function rf(e,t){kh("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class sf{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=u(e,uh);this.providerId="firebase",this.proactiveRefresh=new $h(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Zh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Jh(this,this.stsTokenManager.getToken(this.auth,e));return kh(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ie(e),r=await n.getIdToken(t),i=Xh(r);kh(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Gh(Qh(i.auth_time)),issuedAtTime:Gh(Qh(i.iat)),expirationTime:Gh(Qh(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ie(e);await ef(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(kh(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sf(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){kh(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ef(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zt(this.auth.app))return Promise.reject(wh(this.auth));const e=await this.getIdToken();return await Jh(this,async function(e,t){return Lh(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:k,stsTokenManager:S}=t;kh(b&&S,e,"internal-error");const _=nf.fromJSON(this.name,S);kh("string"===typeof b,e,"internal-error"),rf(d,e.name),rf(h,e.name),kh("boolean"===typeof w,e,"internal-error"),kh("boolean"===typeof x,e,"internal-error"),rf(f,e.name),rf(p,e.name),rf(m,e.name),rf(g,e.name),rf(v,e.name),rf(y,e.name);const E=new sf({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:_,createdAt:v,lastLoginAt:y});return k&&Array.isArray(k)&&(E.providerData=k.map(e=>c({},e))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new nf;r.updateFromServerResponse(t);const i=new sf({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ef(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];kh(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?tf(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),a=new nf;a.updateFromIdToken(n);const o=new sf({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Zh(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(o,l),o}}const af=new Map;function of(e){_h(e instanceof Function,"Expected a class definition");let t=af.get(e);return t?(_h(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,af.set(e,t),t)}class lf{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lf.type="NONE";const cf=lf;function uf(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class df{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=uf(this.userKey,r.apiKey,i),this.fullPersistenceKey=uf("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Kh(this.auth,{idToken:e}).catch(()=>{});return t?sf._fromGetAccountInfoResponse(this.auth,t,e):null}return sf._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new df(of(cf),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||of(cf);const s=uf(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await Kh(e,{idToken:t}).catch(()=>{});if(!r)break;n=await sf._fromGetAccountInfoResponse(e,r,t)}else n=sf._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new df(i,e,n)):new df(i,e,n)}}function hf(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gf(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ff(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yf(t))return"Blackberry";if(bf(t))return"Webos";if(pf(t))return"Safari";if((t.includes("chrome/")||mf(t))&&!t.includes("edge/"))return"Chrome";if(vf(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ff(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me();return/firefox\//i.test(e)}function pf(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:me()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me();return/crios\//i.test(e)}function gf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me();return/iemobile/i.test(e)}function vf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me();return/android/i.test(e)}function yf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me();return/blackberry/i.test(e)}function bf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me();return/webos/i.test(e)}function wf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function xf(){return function(){const e=me();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function kf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me();return wf(e)||vf(e)||bf(e)||yf(e)||/windows phone/i.test(e)||gf(e)}function Sf(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=hf(me());break;case"Worker":t="".concat(hf(me()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ht,"/").concat(r)}class _f{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Ef{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Nf{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cf(this),this.idTokenSubscription=new Cf(this),this.beforeStateQueue=new _f(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ph,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=of(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await df.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Kh(this,{idToken:e}),n=await sf._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zt(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,s;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,a=null===(s=n)||void 0===s?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==a||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return kh(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ef(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zt(this.app))return Promise.reject(wh(this));const t=e?Ie(e):null;return t&&kh(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&kh(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zt(this.app)?Promise.reject(wh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zt(this.app)?Promise.reject(wh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(of(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Lh(e,"GET","/v2/passwordPolicy",jh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ef(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new we("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Lh(e,"POST","/v2/accounts:revokeToken",jh(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&of(e)||this._popupRedirectResolver;kh(t,this,"argument-error"),this.redirectPersistenceManager=await df.create(this,[of(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(kh(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return kh(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(mh.logLevel<=je.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mh.warn("Auth (".concat(Ht,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Tf(e){return Ie(e)}class Cf{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Te(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return kh(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let If={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Af(e){return If.loadJS(e)}function Pf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Df{constructor(){this.enterprise=new Rf}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Rf{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Of="NO_RECAPTCHA";class jf{constructor(e){this.type="recaptcha-enterprise",this.auth=Tf(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;qh(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Of)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Df).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Wh(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Hh(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&qh(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=If.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Af(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Lf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new jf(e);let a;if(i)a=Of;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Mf(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Lf(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Lf(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const i=await Lf(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Lf(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Lf(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Ff(e){const t=Tf(e),n=await Wh(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Hh(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new jf(t).verify()}}function Vf(e,t,n){const r=Tf(e);kh(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=Uf(t),{host:a,port:o}=function(e){const t=Uf(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:zf(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:zf(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(s,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return kh(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void kh(ke(c,r.config.emulator)&&ke(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,ue(a)?(de("".concat(s,"//").concat(a).concat(l)),pe("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Uf(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zf(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Bf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Sh("not implemented")}_getIdTokenResponse(e){return Sh("not implemented")}_linkToIdToken(e,t){return Sh("not implemented")}_getReauthenticationResolver(e){return Sh("not implemented")}}async function qf(e,t){return Lh(e,"POST","/v1/accounts:signUp",t)}async function Hf(e,t){return Fh(e,"POST","/v1/accounts:signInWithPassword",jh(e,t))}class Wf extends Bf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Wf(e,t,"password")}static _fromEmailAndCode(e,t){return new Wf(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Mf(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Hf,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Fh(e,"POST","/v1/accounts:signInWithEmailLink",jh(e,t))}(e,{email:this._email,oobCode:this._password});default:vh(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Mf(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qf,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Fh(e,"POST","/v1/accounts:signInWithEmailLink",jh(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:vh(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Kf(e,t){return Fh(e,"POST","/v1/accounts:signInWithIdp",jh(e,t))}class Gf extends Bf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vh("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=u(t,dh);if(!n||!r)return null;const s=new Gf(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Kf(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Kf(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kf(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_e(t)}return e}}async function Qf(e,t){return Lh(e,"POST","/v1/accounts:sendVerificationCode",jh(e,t))}const Xf={USER_NOT_FOUND:"user-not-found"};class Yf extends Bf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Yf({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Yf({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Fh(e,"POST","/v1/accounts:signInWithPhoneNumber",jh(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Fh(e,"POST","/v1/accounts:signInWithPhoneNumber",jh(e,t));if(n.temporaryProof)throw Bh(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Fh(e,"POST","/v1/accounts:signInWithPhoneNumber",jh(e,c(c({},t),{},{operation:"REAUTH"})),Xf)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Yf({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Jf{constructor(e){var t,n,r,i,s,a;const o=Ee(Ne(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);kh(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.lang)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Ee(Ne(e)).link,n=t?Ee(Ne(t)).deep_link_id:null,r=Ee(Ne(e)).deep_link_id;return(r?Ee(Ne(r)).link:null)||r||n||t||e}(e);try{return new Jf(t)}catch(n){return null}}}class $f{constructor(){this.providerId=$f.PROVIDER_ID}static credential(e,t){return Wf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Jf.parseLink(t);return kh(n,"argument-error"),Wf._fromEmailAndCode(e,n.code,n.tenantId)}}$f.PROVIDER_ID="password",$f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$f.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Zf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ep extends Zf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tp extends ep{constructor(){super("facebook.com")}static credential(e){return Gf._fromParams({providerId:tp.PROVIDER_ID,signInMethod:tp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tp.credentialFromTaggedObject(e)}static credentialFromError(e){return tp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return tp.credential(t.oauthAccessToken)}catch(n){return null}}}tp.FACEBOOK_SIGN_IN_METHOD="facebook.com",tp.PROVIDER_ID="facebook.com";class np extends ep{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gf._fromParams({providerId:np.PROVIDER_ID,signInMethod:np.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return np.credentialFromTaggedObject(e)}static credentialFromError(e){return np.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return np.credential(n,r)}catch(i){return null}}}np.GOOGLE_SIGN_IN_METHOD="google.com",np.PROVIDER_ID="google.com";class rp extends ep{constructor(){super("github.com")}static credential(e){return Gf._fromParams({providerId:rp.PROVIDER_ID,signInMethod:rp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rp.credentialFromTaggedObject(e)}static credentialFromError(e){return rp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return rp.credential(t.oauthAccessToken)}catch(n){return null}}}rp.GITHUB_SIGN_IN_METHOD="github.com",rp.PROVIDER_ID="github.com";class ip extends ep{constructor(){super("twitter.com")}static credential(e,t){return Gf._fromParams({providerId:ip.PROVIDER_ID,signInMethod:ip.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ip.credentialFromTaggedObject(e)}static credentialFromError(e){return ip.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ip.credential(n,r)}catch(i){return null}}}async function sp(e,t){return Fh(e,"POST","/v1/accounts:signUp",jh(e,t))}ip.TWITTER_SIGN_IN_METHOD="twitter.com",ip.PROVIDER_ID="twitter.com";class ap{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await sf._fromIdTokenResponse(e,n,r),s=op(n);return new ap({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=op(n);return new ap({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function op(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class lp extends be{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,lp.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new lp(e,t,n,r)}}function cp(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw lp._fromErrorAndOperation(e,n,t,r);throw n})}async function up(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Jh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ap._forOperation(e,"link",r)}async function dp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(zt(r.app))return Promise.reject(wh(r));const i="reauthenticate";try{const s=await Jh(e,cp(r,i,t,e),n);kh(s.idToken,r,"internal-error");const a=Xh(s.idToken);kh(a,r,"internal-error");const{sub:o}=a;return kh(e.uid===o,r,"user-mismatch"),ap._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&vh(r,"user-mismatch"),s}}async function hp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(zt(e.app))return Promise.reject(wh(e));const r="signIn",i=await cp(e,r,t),s=await ap._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function fp(e,t){return Lh(e,"POST","/v2/accounts/mfaEnrollment:start",jh(e,t))}new WeakMap;const pp="__sak";class mp{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pp,"1"),this.storage.removeItem(pp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class gp extends mp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kf(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);xf()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gp.type="LOCAL";const vp=gp;function yp(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function bp(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class wp{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=bp(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return yp(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=bp(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=bp(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=yp(n);const i=setInterval(()=>{const e=yp(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}wp.type="COOKIE";class xp extends mp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xp.type="SESSION";const kp=xp;class Sp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Sp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Sp.receivers=[];class Ep{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=_p("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Np(){return window}function Tp(){return"undefined"!==typeof Np().WorkerGlobalScope&&"function"===typeof Np().importScripts}const Cp="firebaseLocalStorageDb",Ip="firebaseLocalStorage",Ap="fbase_key";class Pp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Dp(e,t){return e.transaction([Ip],t?"readwrite":"readonly").objectStore(Ip)}function Rp(){const e=indexedDB.open(Cp,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Ip,{keyPath:Ap})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Ip)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Cp);return new Pp(e).toPromise()}(),t(await Rp()))})})}async function Op(e,t,n){const r=Dp(e,!0).put({[Ap]:t,value:n});return new Pp(r).toPromise()}function jp(e,t){const n=Dp(e,!0).delete(t);return new Pp(n).toPromise()}class Lp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Rp()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sp._getInstance(Tp()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Ep(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rp();return await Op(e,pp,"1"),await jp(e,pp),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Op(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Dp(e,!1).get(t),r=await new Pp(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jp(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Dp(e,!1).getAll();return new Pp(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Lp.type="LOCAL";const Mp=Lp;function Fp(e,t){return Lh(e,"POST","/v2/accounts/mfaSignIn:start",jh(e,t))}Pf("rcb"),new Ih(3e4,6e4);const Vp="recaptcha";async function Up(e,t,n){if(!e._getRecaptchaConfig())try{await Ff(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){kh("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Mf(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Of){kh((null===n||void 0===n?void 0:n.type)===Vp,e,"argument-error");return fp(e,await zp(e,t,n))}return fp(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;kh("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;kh(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Mf(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Of){kh((null===n||void 0===n?void 0:n.type)===Vp,e,"argument-error");return Fp(e,await zp(e,t,n))}return Fp(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Mf(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Of){kh((null===n||void 0===n?void 0:n.type)===Vp,e,"argument-error");return Qf(e,await zp(e,t,n))}return Qf(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function zp(e,t,n){kh(n.type===Vp,e,"argument-error");const r=await n.verify();kh("string"===typeof r,e,"argument-error");const i=c({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Bp{constructor(e){this.providerId=Bp.PROVIDER_ID,this.auth=Tf(e)}verifyPhoneNumber(e,t){return Up(this.auth,e,Ie(t))}static credential(e,t){return Yf._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Bp.credentialFromTaggedObject(t)}static credentialFromError(e){return Bp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Yf._fromTokenResponse(n,r):null}}function qp(e,t){return t?of(t):(kh(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Bp.PROVIDER_ID="phone",Bp.PHONE_SIGN_IN_METHOD="phone";class Hp extends Bf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Kf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Kf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Wp(e){return hp(e.auth,new Hp(e),e.bypassAuthState)}function Kp(e){const{auth:t,user:n}=e;return kh(n,t,"internal-error"),dp(n,new Hp(e),e.bypassAuthState)}async function Gp(e){const{auth:t,user:n}=e;return kh(n,t,"internal-error"),up(n,new Hp(e),e.bypassAuthState)}class Qp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wp;case"linkViaPopup":case"linkViaRedirect":return Gp;case"reauthViaPopup":case"reauthViaRedirect":return Kp;default:vh(this.auth,"internal-error")}}resolve(e){_h(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_h(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xp=new Ih(2e3,1e4);class Yp extends Qp{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Yp.currentPopupAction&&Yp.currentPopupAction.cancel(),Yp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return kh(e,this.auth,"internal-error"),e}async onExecution(){_h(1===this.filter.length,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(yh(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(yh(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yh(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Xp.get())};e()}}Yp.currentPopupAction=null;const Jp=new Map;class $p extends Qp{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Jp.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=tm(t),r=em(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Jp.set(this.auth._key(),e)}return this.bypassAuthState||Jp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Zp(e,t){Jp.set(e._key(),t)}function em(e){return of(e._redirectPersistence)}function tm(e){return uf("pendingRedirect",e.config.apiKey,e.name)}async function nm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(zt(e.app))return Promise.reject(wh(e));const r=Tf(e),i=qp(r,t),s=new $p(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class rm{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sm(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!sm(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(yh(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(im(e))}saveEventToCache(e){this.cachedEventUids.add(im(e)),this.lastProcessedEventTime=Date.now()}}function im(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function sm(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const am=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,om=/^https?/;async function lm(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Lh(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(cm(r))return}catch(n){}vh(e,"unauthorized-domain")}function cm(e){const t=Eh(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!om.test(n))return!1;if(am.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const um=new Ih(3e4,6e4);function dm(){const e=Np().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function hm(e){return new Promise((t,n)=>{var r,i;function s(){dm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dm(),n(yh(e,"network-request-failed"))},timeout:um.get()})}if(null!==(r=Np().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Np().gapi)||void 0===i||!i.load){const t=Pf("iframefcb");return Np()[t]=()=>{gapi.load?s():n(yh(e,"network-request-failed"))},Af("".concat(If.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw fm=null,e})}let fm=null;const pm=new Ih(5e3,15e3),mm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vm(e){const t=e.config;kh(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ah(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ht},i=gm.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(_e(r).slice(1))}async function ym(e){const t=await function(e){return fm=fm||hm(e),fm}(e),n=Np().gapi;return kh(n,e,"internal-error"),t.open({where:document.body,url:vm(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mm,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=yh(e,"network-request-failed"),s=Np().setTimeout(()=>{r(i)},pm.get());function a(){Np().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const bm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function xm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=c(c({},bm),{},{width:r.toString(),height:i.toString(),top:s,left:a}),u=me().toLowerCase();n&&(o=mf(u)?"_blank":n),ff(u)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return wf(arguments.length>0&&void 0!==arguments[0]?arguments[0]:me())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new wm(null);const h=window.open(t||"",o,d);kh(h,e,"popup-blocked");try{h.focus()}catch(f){}return new wm(h)}const km="__/auth/handler",Sm="emulator/auth/handler",_m=encodeURIComponent("fac");async function Em(e,t,n,r,i,s){kh(e.config.authDomain,e,"auth-domain-config-required"),kh(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ht,eventId:i};if(t instanceof Zf){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof ep){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(_m,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(km);return Ah(t,Sm)}(e),"?").concat(_e(o).slice(1)).concat(c)}const Nm="webStorageSupport";const Tm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kp,this._completeRedirectFn=nm,this._overrideRedirectResult=Zp}async _openPopup(e,t,n,r){var i;_h(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return xm(e,await Em(e,t,n,Eh(),r),_p())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Np().location.href=e}(await Em(e,t,n,Eh(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(_h(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await ym(e),n=new rm(e);return t.register("authEvent",t=>{kh(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Nm,{type:Nm},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Nm];void 0!==i&&t(!!i),vh(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lm(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kf()||pf()||wf()}};var Cm="@firebase/auth",Im="1.12.0";class Am{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){kh(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Pm=le("authIdTokenMaxAge")||300;let Dm=null;var Rm;If={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=yh("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Rm="Browser",Vt(new Ae("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;kh(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Rm,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sf(Rm)},c=new Nf(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(of);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Vt(new Ae("auth-internal",e=>(e=>new Am(e))(Tf(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Gt(Cm,Im,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Rm)),Gt(Cm,Im,"esm2020");var Om=n(579);const jm=Wt({apiKey:"AIzaSyBT93hmr81TT_-KltaYxcYwms_xKxg3c1I",authDomain:"medivend-a3d51.firebaseapp.com",projectId:"medivend-a3d51",storageBucket:"medivend-a3d51.firebasestorage.app",messagingSenderId:"743343498567",appId:"1:743343498567:web:2d50fb42346f31350d1862"}),Lm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt();const t=Ut(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ut(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ke(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;vh(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Tm,persistence:[Mp,vp,kp]}),r=le("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Pm)return;const r=null===t||void 0===t?void 0:t.token;Dm!==r&&(Dm=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Ie(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Ie(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=ae("auth");return s&&Vf(n,"http://".concat(s)),n}(jm),Mm=function(e,t){const n="object"==typeof e?e:Kt(),r="string"==typeof e?e:t||Ti,i=Ut(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=ae(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Yu(i,...e)}return i}(jm),Fm="medivend-local",Vm=[{id:1,name:"Amoxicillin",dosage:"500mg Cap",price:15},{id:2,name:"Paracetamol",dosage:"500mg Tab",price:5},{id:3,name:"Ibuprofen",dosage:"200mg Tab",price:8},{id:4,name:"Cetirizine",dosage:"10mg Tab",price:12.5},{id:5,name:"Omeprazole",dosage:"20mg Cap",price:25},{id:6,name:"Metformin",dosage:"500mg Tab",price:10},{id:7,name:"Vitamin C",dosage:"500mg Tab",price:7},{id:8,name:"Azithromycin",dosage:"500mg Tab",price:85}];function Um(){var e;const[t,n]=(0,r.useState)("auth"),[i,s]=(0,r.useState)(null),[a,o]=(0,r.useState)(null),[l,u]=(0,r.useState)(Vm),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)({name:"",age:"",sex:"Male"}),[m,g]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async function(e){var t;if(zt(e.app))return Promise.reject(wh(e));const n=Tf(e);if(await n._initializationPromise,null!==(t=n.currentUser)&&void 0!==t&&t.isAnonymous)return new ap({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await sp(n,{returnSecureToken:!0}),i=await ap._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i})(Lm).catch(e=>console.error("Auth failed:",e));const e=function(e,t,n,r){return Ie(e).onAuthStateChanged(t,n,r)}(Lm,()=>{});return()=>e()},[]);const v=async e=>{const t={id:e.id||Date.now(),name:e.name,dosage:e.dosage,price:parseFloat(e.price)},n=[...l,t];if(u(n),i&&i.email)try{const e=ed(Mm,"artifacts",Fm,"public","data","doctors",i.email);await ah(e,{savedInventory:n})}catch(r){console.error("Failed to save inventory:",r)}},C=()=>{s(null),o(null),p({name:"",age:"",sex:"Male"}),g([]),n("auth")},I=e=>{n(e)};return(0,Om.jsxs)("div",{className:"h-[100dvh] font-sans overflow-hidden flex flex-col ".concat(d?"bg-slate-900 text-slate-100":"bg-white text-slate-800"),children:[(0,Om.jsx)("style",{children:"\n          /* Modern Input Field Style */\n          .input-modern {\n             background-color: ".concat(d?"#1e293b":"#f9fafb",";\n             border: 1px solid ").concat(d?"#334155":"#e5e7eb",";\n             color: ").concat(d?"#f1f5f9":"#1e293b",";\n             transition: all 0.2s ease;\n          }\n          .input-modern:focus {\n             background-color: ").concat(d?"#0f172a":"white",";\n             border-color: #6366f1; /* Indigo-500 */\n             box-shadow: 0 0 0 4px rgba(99,102,241,0.1);\n          }\n\n          @media print {\n            @page {\n              size: auto; \n              margin: 0.5in;\n            }\n            .no-print {\n              display: none !important;\n            }\n            \n            nav, .mobile-nav-bar {\n              display: none !important;\n            }\n\n            body, html, #root {\n              background: white !important;\n              margin: 0 !important;\n              padding: 0 !important;\n              height: auto !important;\n              overflow: visible !important;\n            }\n            \n            .printable-wrapper {\n              display: flex !important;\n              flex-direction: column !important;\n              min-height: 90vh !important;\n              width: 100% !important;\n              margin: 0 !important;\n              padding: 0 !important;\n              box-shadow: none !important;\n              border: none !important;\n            }\n\n            .printable-content {\n              flex: 1 0 auto !important;\n              padding-bottom: 20px !important;\n            }\n\n            .printable-footer {\n              flex-shrink: 0 !important;\n              margin-top: auto !important;\n              width: 100% !important;\n              page-break-inside: avoid !important;\n              padding-top: 10px !important;\n              border-top: 1px solid #e2e8f0 !important;\n            }\n\n            .printable-wrapper h1 { font-size: 18pt !important; line-height: 1.2 !important; margin-bottom: 5px !important; }\n            .printable-wrapper p, .printable-wrapper span { font-size: 10pt !important; }\n            .printable-wrapper .text-xs { font-size: 8pt !important; }\n            .printable-wrapper .text-sm { font-size: 9pt !important; }\n            .printable-wrapper .text-lg { font-size: 11pt !important; }\n            .printable-wrapper .text-4xl { font-size: 20pt !important; }\n\n            .printable-wrapper table td,\n            .printable-wrapper table th {\n              padding-top: 4px !important;\n              padding-bottom: 4px !important;\n              font-size: 10pt !important;\n            }\n            \n            .rx-watermark {\n               font-size: 8rem !important;\n               color: #94a3b8 !important;\n               opacity: 0.3 !important;\n               -webkit-print-color-adjust: exact !important;\n               print-color-adjust: exact !important;\n            }\n            \n            .print-min-h-reset {\n              min-height: auto !important;\n            }\n          }\n        ")}),"auth"===t&&(0,Om.jsx)(zm,{onAuthSuccess:async e=>{s(e),e.savedInventory&&Array.isArray(e.savedInventory)&&e.savedInventory.length>0?u(e.savedInventory):u(Vm);try{const t=ed(Mm,"artifacts",Fm,"public","data","doctors",e.email);await ah(t,{lastLogin:Ld()})}catch(t){console.log("Login timestamp update note:",t.message)}"active"!==e.status||e.clinicDetails?"active"===e.status?n("dashboard"):n("auth"):n("onboarding")},db:Mm,appId:Fm}),"onboarding"===t&&(0,Om.jsx)(Bm,{onComplete:async e=>{const t=c(c({},i),{},{clinicDetails:e});s(t);try{const t=ed(Mm,"artifacts",Fm,"public","data","doctors",i.email);await sh(t,{clinicDetails:e},{merge:!0})}catch(r){console.error("Error saving clinic details:",r)}n("dashboard")},user:i}),["dashboard","prescription","history","settings","medicines"].includes(t)&&(0,Om.jsxs)("div",{className:"flex h-full overflow-hidden print:bg-white print:block ".concat(d?"bg-[#0B0F19]":"bg-white"),children:[(0,Om.jsxs)("aside",{className:"no-print w-72 flex-col hidden md:flex border-r shadow-2xl z-30 relative overflow-hidden transition-colors duration-300 ".concat(d?"bg-[#0B0F19] text-slate-300 border-white/5":"bg-white text-slate-600 border-slate-200"),children:[(0,Om.jsxs)("div",{className:"relative z-10 p-6 flex items-center gap-3 border-b ".concat(d?"border-white/5":"border-slate-100"),children:[(0,Om.jsx)("div",{className:"bg-gradient-to-tr from-indigo-500 to-blue-600 p-2.5 rounded-xl shadow-lg shadow-indigo-500/20 ring-1 ring-white/10",children:(0,Om.jsx)(y,{className:"w-6 h-6 text-white"})}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h1",{className:"font-bold text-lg tracking-wide ".concat(d?"text-white":"text-slate-900"),children:"MediVend"}),(0,Om.jsx)("p",{className:"text-[10px] uppercase font-bold text-indigo-500 tracking-wider",children:"Doctor Portal"})]})]}),(0,Om.jsxs)("nav",{className:"relative z-10 flex-1 p-4 space-y-2 overflow-y-auto",children:[(0,Om.jsx)("div",{className:"px-3 mb-2 mt-2 text-[10px] font-extrabold uppercase tracking-widest opacity-70",children:"Clinical Workspace"}),(0,Om.jsx)(Qm,{active:"dashboard"===t,onClick:()=>n("dashboard"),icon:(0,Om.jsx)(b,{className:"w-5 h-5"}),label:"Prescription Writer",isDarkMode:d}),(0,Om.jsx)(Qm,{active:"history"===t,onClick:()=>n("history"),icon:(0,Om.jsx)(w,{className:"w-5 h-5"}),label:"Patient History",isDarkMode:d}),(0,Om.jsx)("div",{className:"px-3 mt-8 mb-2 text-[10px] font-extrabold uppercase tracking-widest opacity-70",children:"Management"}),(0,Om.jsx)(Qm,{active:"medicines"===t,onClick:()=>n("medicines"),icon:(0,Om.jsx)(x,{className:"w-5 h-5"}),label:"Medicine List",isDarkMode:d}),(0,Om.jsx)("div",{className:"px-3 mt-8 mb-2 text-[10px] font-extrabold uppercase tracking-widest opacity-70",children:"System"}),(0,Om.jsx)(Qm,{active:"settings"===t,onClick:()=>n("settings"),icon:(0,Om.jsx)(k,{className:"w-5 h-5"}),label:"Account Settings",isDarkMode:d})]}),(0,Om.jsxs)("div",{className:"relative z-10 p-4 border-t ".concat(d?"bg-[#05080F] border-white/5":"bg-slate-50 border-slate-200"),children:[(0,Om.jsxs)("div",{className:"flex items-center gap-3 mb-4 p-3 rounded-xl border transition-colors ".concat(d?"bg-white/5 border-white/5 hover:bg-white/10":"bg-white border-slate-200 hover:border-indigo-200"),children:[(0,Om.jsx)("div",{className:"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold text-sm shadow-md",children:(null===i||void 0===i||null===(e=i.name)||void 0===e?void 0:e.charAt(0))||"D"}),(0,Om.jsxs)("div",{className:"overflow-hidden",children:[(0,Om.jsx)("p",{className:"text-sm font-semibold truncate ".concat(d?"text-white":"text-slate-800"),children:null===i||void 0===i?void 0:i.name}),(0,Om.jsx)("p",{className:"text-xs opacity-70 truncate",children:null===i||void 0===i?void 0:i.email})]})]}),(0,Om.jsxs)("button",{onClick:C,className:"flex w-full items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-slate-400 hover:bg-rose-500/10 hover:text-rose-500 transition-all text-sm font-medium group",children:[(0,Om.jsx)(S,{className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform"})," Sign Out"]})]})]}),(0,Om.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden relative print:block ".concat(d?"bg-[#0B0F19]":"bg-white"),children:[(0,Om.jsxs)("header",{className:"no-print border-b flex items-center justify-between px-4 md:px-8 shadow-md z-20 shrink-0 sticky top-0 transition-colors ".concat(d?"bg-[#0B0F19] border-white/5":"bg-white border-slate-200"),children:[(0,Om.jsx)("div",{children:(0,Om.jsx)("h2",{className:"text-lg md:text-xl font-bold tracking-tight capitalize flex items-center gap-2 ".concat(d?"text-white":"text-slate-800"),children:"dashboard"===t?(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)(b,{className:"w-5 h-5 text-indigo-500"})," Prescription Writer"]}):"medicines"===t?(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)(x,{className:"w-5 h-5 text-emerald-500"})," Medicine List"]}):"history"===t?(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)(w,{className:"w-5 h-5 text-indigo-500"})," Patient History"]}):"prescription"===t?(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)(_,{className:"w-5 h-5 text-indigo-500"})," Prescription Preview"]}):(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)(k,{className:"w-5 h-5 text-slate-400"})," Account Settings"]})})}),(0,Om.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Om.jsx)("button",{onClick:()=>h(!d),className:"p-2 rounded-full transition-all ".concat(d?"bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white":"bg-slate-100 hover:bg-slate-200 text-slate-500 hover:text-slate-900"),title:"Toggle Theme",children:d?(0,Om.jsx)(E,{className:"w-4 h-4 text-amber-400"}):(0,Om.jsx)(N,{className:"w-4 h-4 text-indigo-500"})}),(0,Om.jsxs)("div",{className:"text-xs md:text-sm font-medium flex items-center gap-2 px-3 py-1.5 rounded-full border ".concat(d?"bg-white/5 border-white/10 text-slate-300":"bg-slate-50 border-slate-200 text-slate-600"),children:[(0,Om.jsx)(T,{className:"w-3.5 h-3.5 text-indigo-500"})," ",(0,Om.jsx)("span",{className:d?"text-slate-200 font-semibold":"text-slate-900 font-semibold",children:(new Date).toLocaleDateString()})]})]})]}),(0,Om.jsxs)("main",{className:"flex-1 overflow-hidden relative bg-transparent print:bg-white print:overflow-visible pb-20 md:pb-0 print:pb-0",children:["dashboard"===t&&(0,Om.jsx)(qm,{user:i,onGenerate:e=>{o(e),n("prescription")},medicineList:l,onAddCustomMedicine:v,isDarkMode:d,patient:f,setPatient:p,items:m,setItems:g}),"history"===t&&(0,Om.jsx)(Km,{user:i,isDarkMode:d}),"medicines"===t&&(0,Om.jsx)(Wm,{medicines:l,onAdd:v,onDelete:async e=>{if(window.confirm("Are you sure you want to delete this medicine?")){const n=l.filter(t=>t.id!==e);if(u(n),i&&i.email)try{const e=ed(Mm,"artifacts",Fm,"public","data","doctors",i.email);await ah(e,{savedInventory:n})}catch(t){console.error("Failed to save inventory deletion:",t)}}},isDarkMode:d}),"settings"===t&&(0,Om.jsx)(Gm,{user:i,onUpdateUser:e=>{s(e)},isDarkMode:d}),"prescription"===t&&(0,Om.jsx)(Hm,{data:a,doctor:i,onBack:()=>n("dashboard"),onNew:async()=>{if(a)try{const e=ed(Mm,"artifacts",Fm,"public","data","prescriptions",a.id),t={id:a.id,date:a.date,status:"issued",patient:a.patient,items:a.items,grandTotal:a.grandTotal,doctorName:i.name,doctorLicense:i.license,doctorEmail:i.email,clinicDetails:i.clinicDetails,createdAt:Ld()};await sh(e,t),p({name:"",age:"",sex:"Male"}),g([]),o(null),n("dashboard")}catch(e){console.error("Failed to upload prescription:",e),alert("Error saving prescription. Please check connection.")}}})]}),(0,Om.jsxs)("nav",{className:"mobile-nav-bar md:hidden no-print fixed bottom-0 left-0 right-0 border-t flex justify-around px-2 py-3 z-50 shadow-[0_-4px_20px_-1px_rgba(0,0,0,0.1)] pb-safe transition-colors ".concat(d?"bg-[#0B0F19] border-white/10":"bg-white border-slate-200"),children:[(0,Om.jsx)(Xm,{active:"dashboard"===t,onClick:()=>n("dashboard"),icon:(0,Om.jsx)(b,{}),label:"Writer",isDarkMode:d}),(0,Om.jsx)(Xm,{active:"history"===t,onClick:()=>I("history"),icon:(0,Om.jsx)(w,{}),label:"History",isDarkMode:d}),(0,Om.jsx)(Xm,{active:"medicines"===t,onClick:()=>I("medicines"),icon:(0,Om.jsx)(x,{}),label:"Meds List",isDarkMode:d}),(0,Om.jsx)(Xm,{active:"settings"===t,onClick:()=>I("settings"),icon:(0,Om.jsx)(k,{}),label:"Account",isDarkMode:d}),(0,Om.jsxs)("button",{onClick:C,className:"flex flex-col items-center gap-1 p-2 rounded-xl transition-all duration-300 relative text-slate-400 hover:text-rose-500",children:[(0,Om.jsx)(S,{className:"w-6 h-6"}),(0,Om.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wide",children:"Log Out"})]})]})]})]})]})}function zm(e){let{onAuthSuccess:t,db:n,appId:i}=e;const[s,a]=(0,r.useState)(!0),[o,l]=(0,r.useState)({name:"",email:"",password:"",license:""}),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),[g,v]=(0,r.useState)(0),[b,x]=(0,r.useState)(0);(0,r.useEffect)(()=>{let e;return b>0?e=setInterval(()=>{x(e=>e-1)},1e3):g>=5&&(v(0),d("")),()=>clearInterval(e)},[b,g]);return(0,Om.jsxs)("div",{className:"flex h-screen w-full bg-[#0B0F19] font-sans text-slate-900 overflow-hidden relative",children:[(0,Om.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-900/40 via-[#0B0F19] to-black opacity-90"}),(0,Om.jsxs)("div",{className:"w-full lg:w-1/2 h-full flex flex-col justify-center items-center p-6 md:p-12 relative z-10 overflow-y-auto",children:[(0,Om.jsxs)("div",{className:"w-full max-w-md bg-white p-10 rounded-3xl shadow-2xl border-4 border-slate-200/20 animate-in fade-in slide-in-from-bottom-8 duration-700 relative overflow-hidden ring-1 ring-white/10 mb-6",children:[(0,Om.jsxs)("div",{className:"text-center mb-8 relative z-10",children:[(0,Om.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-tr from-indigo-600 to-blue-600 rounded-2xl shadow-lg shadow-indigo-500/30 mb-6 transform transition-transform hover:scale-105 ring-4 ring-white",children:(0,Om.jsx)(y,{className:"w-8 h-8 text-white"})}),(0,Om.jsx)("h2",{className:"text-3xl font-extrabold tracking-tight text-slate-900 mb-2",children:s?"Welcome Back":"Join MediVend"}),(0,Om.jsx)("p",{className:"text-slate-500 text-sm",children:s?"Enter your credentials to access your dashboard.":"Start your digital prescription journey today."})]}),p&&(0,Om.jsxs)("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-xl text-amber-800 text-sm flex items-start gap-3 animate-in fade-in",children:[(0,Om.jsx)(C,{className:"w-5 h-5 shrink-0 mt-0.5"}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("p",{className:"font-bold",children:"Account Pending Approval"}),(0,Om.jsxs)("p",{className:"mt-1 opacity-90",children:["Your account (",p,") has been created. Please wait for Super Admin verification."]})]})]}),(0,Om.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b>0)return;d(""),m(null),f(!0);const r=o.email.toLowerCase().trim();try{const e=ed(n,"artifacts",i,"public","data","doctors",r);if(s){const n=await rh(e);if(n.exists()){const e=n.data();if(e.password===o.password)"active"===e.status?(t(e),v(0)):"pending"===e.status?m(r):d("Account rejected or disabled.");else{const e=g+1;v(e),e>=5?(x(10),d("Maximum attempts reached. Please wait 10 seconds.")):d("Incorrect password. ".concat(5-e," attempts remaining."))}}else{const e=g+1;v(e),e>=5?(x(10),d("Maximum attempts reached. Please wait 10 seconds.")):d("No account found. ".concat(5-e," attempts remaining."))}}else{if((await rh(e)).exists())d("Account already exists. Please log in.");else{const t={name:o.name,email:r,password:o.password,license:o.license,status:"pending",clinicDetails:null,createdAt:Ld()};await sh(e,t),m(r),a(!0)}}}catch(l){if("test@doctor.com"===o.email&&"123"===o.password)return void t({name:"Dr. John Doe",email:"test@doctor.com",password:"123",license:"PRC-1234567",status:"active",clinicDetails:{name:"City Central",address:"123 Main St",contactNumber:"12345",ptr:"1",s2:"2"}});d("Connection error. Ensure you are connected to the internet.")}f(!1)},className:"space-y-5 relative z-10",children:[!s&&(0,Om.jsxs)("div",{className:"space-y-5 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[(0,Om.jsxs)("div",{className:"relative group",children:[(0,Om.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Full Name"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Om.jsx)(I,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),(0,Om.jsx)("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 input-modern rounded-xl outline-none placeholder-slate-400 font-medium",placeholder:"Dr. John Doe",value:o.name,onChange:e=>l(c(c({},o),{},{name:e.target.value}))})]})]}),(0,Om.jsxs)("div",{className:"relative group",children:[(0,Om.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Medical License"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Om.jsx)(A,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),(0,Om.jsx)("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 input-modern rounded-xl outline-none placeholder-slate-400 font-medium",placeholder:"PRC-XXXXXX",value:o.license,onChange:e=>l(c(c({},o),{},{license:e.target.value}))})]})]})]}),(0,Om.jsxs)("div",{className:"relative group",children:[(0,Om.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Email Address"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Om.jsx)(P,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),(0,Om.jsx)("input",{required:!0,type:"email",className:"w-full pl-10 pr-4 py-3 input-modern rounded-xl outline-none placeholder-slate-400 font-medium",placeholder:"doctor@hospital.com",value:o.email,onChange:e=>l(c(c({},o),{},{email:e.target.value}))})]})]}),(0,Om.jsxs)("div",{className:"relative group",children:[(0,Om.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Password"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Om.jsx)(D,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),(0,Om.jsx)("input",{required:!0,type:"password",className:"w-full pl-10 pr-4 py-3 input-modern rounded-xl outline-none placeholder-slate-400 font-medium",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:o.password,onChange:e=>l(c(c({},o),{},{password:e.target.value}))})]})]}),u&&(0,Om.jsxs)("div",{className:"p-3 rounded-xl bg-red-50 text-red-600 text-sm font-medium border border-red-100 flex items-center gap-2 animate-in slide-in-from-top-2",children:[(0,Om.jsx)(C,{className:"w-4 h-4"})," ",u]}),(0,Om.jsx)("button",{type:"submit",disabled:h||b>0,className:"w-full bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-indigo-600/30 disabled:opacity-70 disabled:cursor-not-allowed transition-all transform active:scale-[0.98] flex justify-center items-center",children:h?(0,Om.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):b>0?"Try again in ".concat(b,"s"):(0,Om.jsxs)(Om.Fragment,{children:[s?"Sign In":"Create Account"," ",(0,Om.jsx)(R,{className:"w-4 h-4 ml-2"})]})})]}),(0,Om.jsx)("div",{className:"mt-8 text-center relative z-10",children:(0,Om.jsxs)("p",{className:"text-sm text-slate-600",children:[s?"Don't have an account?":"Already have an account?",(0,Om.jsx)("button",{onClick:()=>{a(!s),d(""),m(null),l({name:"",email:"",password:"",license:""})},className:"ml-2 text-indigo-600 font-bold hover:text-indigo-700 transition-colors hover:underline",children:s?"Sign up for free":"Log in"})]})})]}),(0,Om.jsxs)("div",{className:"w-full max-w-md relative z-10 animate-in fade-in slide-in-from-bottom-4 delay-100",children:[(0,Om.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-[10px] text-slate-400 bg-white/5 p-4 rounded-2xl border border-white/5 backdrop-blur-md",children:[(0,Om.jsxs)("div",{className:"p-2 rounded-lg bg-white/5 border border-white/5",children:[(0,Om.jsxs)("div",{className:"flex items-center gap-2 mb-1 text-indigo-300 font-bold uppercase tracking-wider",children:[(0,Om.jsx)(O,{className:"w-3 h-3"})," App License"]}),(0,Om.jsx)("p",{className:"font-mono text-slate-300",children:"MV-WEB-2026-001"})]}),(0,Om.jsxs)("div",{className:"p-2 rounded-lg bg-white/5 border border-white/5",children:[(0,Om.jsxs)("div",{className:"flex items-center gap-2 mb-1 text-emerald-300 font-bold uppercase tracking-wider",children:[(0,Om.jsx)(j,{className:"w-3 h-3"})," FDA License"]}),(0,Om.jsx)("p",{className:"font-mono text-slate-300",children:"CDRR-NCR-DI-882"})]}),(0,Om.jsxs)("div",{className:"col-span-2 p-2 rounded-lg bg-white/5 border border-white/5 flex justify-between items-center",children:[(0,Om.jsxs)("div",{className:"flex items-center gap-2 text-amber-300 font-bold uppercase tracking-wider",children:[(0,Om.jsx)(L,{className:"w-3 h-3"})," Customer Service"]}),(0,Om.jsxs)("p",{className:"font-mono text-slate-300 flex items-center gap-2 font-bold",children:[(0,Om.jsx)(M,{className:"w-3 h-3"})," 09273523900"]})]})]}),(0,Om.jsx)("div",{className:"mt-4 text-center text-xs text-slate-500/50",children:(0,Om.jsx)("p",{children:"\xa9 2026 MediVend Systems. Secure & Compliant."})})]})]}),(0,Om.jsxs)("div",{className:"hidden lg:flex w-1/2 bg-[#0B0F19] relative overflow-hidden items-center justify-center border-l border-white/5",children:[(0,Om.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-900/40 via-[#0B0F19] to-black opacity-90"}),(0,Om.jsx)("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-[0.03]"}),(0,Om.jsxs)("div",{className:"relative z-10 p-12 text-white max-w-lg",children:[(0,Om.jsxs)("div",{className:"mb-8 inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 text-indigo-300 text-xs font-bold uppercase tracking-wider shadow-lg backdrop-blur-md",children:[(0,Om.jsx)(F,{className:"w-3 h-3"})," Professional Healthcare Suite"]}),(0,Om.jsxs)("h1",{className:"text-5xl font-bold mb-6 leading-tight tracking-tight text-white drop-shadow-sm",children:["Digital Prescriptions ",(0,Om.jsx)("br",{})," ",(0,Om.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-blue-400",children:"Reimagined."})]}),(0,Om.jsx)("p",{className:"text-lg text-slate-400 mb-10 leading-relaxed font-light",children:"Generate secure, trackable prescriptions in seconds. Seamlessly integrated with MediVend kiosks for instant patient fulfillment."}),(0,Om.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Om.jsxs)("div",{className:"bg-white/5 p-5 rounded-2xl border border-white/5 backdrop-blur-sm hover:bg-white/10 transition-colors duration-300",children:[(0,Om.jsx)(_,{className:"w-8 h-8 text-emerald-400 mb-3"}),(0,Om.jsx)("h3",{className:"font-bold text-white text-sm",children:"Instant Printing"}),(0,Om.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"One-click PDF generation"})]}),(0,Om.jsxs)("div",{className:"bg-white/5 p-5 rounded-2xl border border-white/5 backdrop-blur-sm hover:bg-white/10 transition-colors duration-300",children:[(0,Om.jsx)(V,{className:"w-8 h-8 text-blue-400 mb-3"}),(0,Om.jsx)("h3",{className:"font-bold text-white text-sm",children:"QR Validation"}),(0,Om.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Secure dispensing verification"})]}),(0,Om.jsxs)("div",{className:"bg-white/5 p-5 rounded-2xl border border-white/5 backdrop-blur-sm hover:bg-white/10 transition-colors duration-300",children:[(0,Om.jsx)(O,{className:"w-8 h-8 text-amber-400 mb-3"}),(0,Om.jsx)("h3",{className:"font-bold text-white text-sm",children:"FDA Compliant"}),(0,Om.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Meets all regulatory standards"})]}),(0,Om.jsxs)("div",{className:"bg-white/5 p-5 rounded-2xl border border-white/5 backdrop-blur-sm hover:bg-white/10 transition-colors duration-300",children:[(0,Om.jsx)(w,{className:"w-8 h-8 text-purple-400 mb-3"}),(0,Om.jsx)("h3",{className:"font-bold text-white text-sm",children:"Smart History"}),(0,Om.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Track patient records easily"})]})]})]})]})]})}function Bm(e){let{onComplete:t,user:n}=e;const[i,s]=(0,r.useState)({name:"",address:"",contactNumber:"",ptr:"",s2:""});return(0,Om.jsx)("div",{className:"min-h-screen bg-[#0B0F19] flex items-center justify-center p-4",children:(0,Om.jsxs)("div",{className:"bg-white w-full max-w-2xl p-8 rounded-2xl shadow-xl border border-slate-200",children:[(0,Om.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Clinic Setup"}),(0,Om.jsx)("p",{className:"text-slate-500 mb-6 text-sm",children:"Please provide your clinic details for the prescription header."}),(0,Om.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(i)},className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,Om.jsxs)("div",{className:"md:col-span-2",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Clinic Name"}),(0,Om.jsx)("input",{required:!0,type:"text",className:"w-full px-4 py-3 input-modern rounded-xl outline-none",placeholder:"e.g. City General Hospital",value:i.name,onChange:e=>s(c(c({},i),{},{name:e.target.value}))})]}),(0,Om.jsxs)("div",{className:"md:col-span-2",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Address"}),(0,Om.jsx)("input",{required:!0,type:"text",className:"w-full px-4 py-3 input-modern rounded-xl outline-none",placeholder:"Complete Address",value:i.address,onChange:e=>s(c(c({},i),{},{address:e.target.value}))})]}),(0,Om.jsxs)("div",{className:"md:col-span-2",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Contact Number"}),(0,Om.jsx)("input",{required:!0,type:"text",className:"w-full px-4 py-3 input-modern rounded-xl outline-none",placeholder:"Tel / Mobile",value:i.contactNumber,onChange:e=>s(c(c({},i),{},{contactNumber:e.target.value}))})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"PTR No."}),(0,Om.jsx)("input",{required:!0,type:"text",className:"w-full px-4 py-3 input-modern rounded-xl outline-none",placeholder:"PTR-XXXXX",value:i.ptr,onChange:e=>s(c(c({},i),{},{ptr:e.target.value}))})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"S2 License (Optional)"}),(0,Om.jsx)("input",{type:"text",className:"w-full px-4 py-3 input-modern rounded-xl outline-none",placeholder:"S2-XXXXX",value:i.s2,onChange:e=>s(c(c({},i),{},{s2:e.target.value}))})]}),(0,Om.jsx)("div",{className:"md:col-span-2 mt-4",children:(0,Om.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-lg shadow-md transition-all",children:"Save & Continue"})})]})]})})}function qm(e){var t,n;let{user:i,onGenerate:s,medicineList:a,onAddCustomMedicine:o,isDarkMode:l,patient:u,setPatient:d,items:h,setItems:f}=e;const[p,m]=(0,r.useState)(""),[g,v]=(0,r.useState)(null),[y,w]=(0,r.useState)(1),[k,S]=(0,r.useState)(""),[E,N]=(0,r.useState)(""),[T,C]=(0,r.useState)(0),[A,P]=(0,r.useState)(!1),[D,R]=(0,r.useState)(!1),[O,j]=(0,r.useState)("editor"),[L,M]=(0,r.useState)(null),F=a.filter(e=>e.name.toLowerCase().includes(p.toLowerCase())),V=e=>{v(e),m(e.name),N(e.dosage),C(e.price),P(!1)},G=()=>{M(null),v(null),m(""),w(1),S(""),N(""),C(0)};return(0,Om.jsxs)("div",{className:"flex flex-col md:flex-row h-full w-full overflow-hidden relative bg-transparent",children:[(0,Om.jsxs)("div",{className:"md:hidden no-print flex border-b shrink-0 sticky top-0 z-30 ".concat(l?"bg-[#1e293b] border-slate-700":"bg-white border-slate-200"),children:[(0,Om.jsxs)("button",{onClick:()=>j("editor"),className:"flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 ".concat("editor"===O?"text-indigo-500 border-b-2 border-indigo-500 bg-indigo-50/10":l?"text-slate-400":"text-slate-500"),children:[(0,Om.jsx)(b,{className:"w-4 h-4"})," Editor"]}),(0,Om.jsxs)("button",{onClick:()=>j("preview"),className:"flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 ".concat("preview"===O?"text-indigo-500 border-b-2 border-indigo-500 bg-indigo-50/10":l?"text-slate-400":"text-slate-500"),children:[(0,Om.jsx)(U,{className:"w-4 h-4"})," Live Preview"]})]}),(0,Om.jsxs)("div",{className:"md:block w-full md:w-3/5 p-4 md:p-8 overflow-y-auto border-r h-full ".concat("editor"===O?"block":"hidden"," ").concat(l?"bg-slate-900 border-slate-700":"bg-white border-slate-200"),children:[(0,Om.jsxs)("div",{className:"p-4 md:p-6 rounded-2xl border shadow-sm mb-6 ".concat(l?"bg-slate-800 border-slate-700":"bg-white border-slate-200"),children:[(0,Om.jsxs)("h3",{className:"font-bold mb-4 flex items-center gap-2 ".concat(l?"text-slate-100":"text-slate-800"),children:[(0,Om.jsx)("div",{className:"p-1.5 rounded-lg ".concat(l?"bg-indigo-900/50":"bg-indigo-100"),children:(0,Om.jsx)(I,{className:"w-4 h-4 text-indigo-600"})}),"Patient Details"]}),(0,Om.jsxs)("div",{className:"grid grid-cols-12 gap-4",children:[(0,Om.jsxs)("div",{className:"col-span-12 md:col-span-7",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Full Name"}),(0,Om.jsx)("input",{type:"text",className:"w-full px-4 py-3 input-modern rounded-xl outline-none transition-all",placeholder:"Enter patient name",value:u.name,onChange:e=>d(c(c({},u),{},{name:e.target.value}))})]}),(0,Om.jsxs)("div",{className:"col-span-6 md:col-span-2",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Age"}),(0,Om.jsx)("input",{type:"number",min:"1",className:"w-full px-4 py-3 input-modern rounded-xl outline-none transition-all",placeholder:"00",value:u.age,onChange:e=>{const t=e.target.value;(""===t||parseInt(t)>=1)&&d(c(c({},u),{},{age:t}))}})]}),(0,Om.jsxs)("div",{className:"col-span-6 md:col-span-3",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Sex"}),(0,Om.jsxs)("select",{className:"w-full px-4 py-3 input-modern rounded-xl outline-none transition-all",value:u.sex,onChange:e=>d(c(c({},u),{},{sex:e.target.value})),children:[(0,Om.jsx)("option",{children:"Male"}),(0,Om.jsx)("option",{children:"Female"})]})]})]})]}),(0,Om.jsxs)("div",{className:"p-4 md:p-6 rounded-2xl border shadow-sm min-h-[400px] ".concat(l?"bg-slate-800 border-slate-700":"bg-white border-slate-200"),children:[(0,Om.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Om.jsxs)("h3",{className:"font-bold flex items-center gap-2 ".concat(l?"text-slate-100":"text-slate-800"),children:[(0,Om.jsx)("div",{className:"p-1.5 rounded-lg ".concat(l?"bg-emerald-900/30":"bg-emerald-100"),children:(0,Om.jsx)(x,{className:"w-4 h-4 text-emerald-600"})}),L?"Edit Medicine":"Prescribe Medicine"]}),(0,Om.jsxs)("button",{onClick:()=>R(!0),className:"text-xs font-bold px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1 ".concat(l?"text-indigo-400 bg-indigo-900/30 hover:bg-indigo-900/50":"text-indigo-600 hover:text-indigo-700 bg-indigo-50 hover:bg-indigo-100"),children:[(0,Om.jsx)(z,{className:"w-3 h-3"})," Custom Item"]})]}),(0,Om.jsx)("div",{className:"p-4 md:p-5 rounded-xl border mb-6 relative group focus-within:border-indigo-300 focus-within:shadow-md transition-all ".concat(l?"bg-slate-900/50 border-slate-700":"bg-slate-50/50 border-slate-200"," ").concat(L?"ring-2 ring-indigo-500/20":""),children:(0,Om.jsxs)("div",{className:"grid grid-cols-12 gap-4",children:[(0,Om.jsxs)("div",{className:"col-span-12 md:col-span-8 relative",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Medicine Name"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)(B,{className:"w-4 h-4 absolute left-3 top-3.5 text-slate-400"}),(0,Om.jsx)("input",{type:"text",className:"w-full pl-9 pr-3 py-3 border rounded-xl text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(l?"bg-slate-800 border-slate-600 text-white placeholder-slate-500":"bg-white border-slate-200 text-slate-900"),placeholder:"Search database...",value:p,onChange:e=>{m(e.target.value),P(!0),e.target.value||v(null)},onFocus:()=>P(!0)})]}),A&&p&&!g&&(0,Om.jsx)("div",{className:"absolute z-50 w-full mt-2 border rounded-xl shadow-xl max-h-60 overflow-y-auto overflow-hidden animate-in fade-in zoom-in-95 duration-200 ".concat(l?"bg-slate-800 border-slate-700":"bg-white border-slate-100"),children:0===F.length?(0,Om.jsxs)("div",{onClick:()=>R(!0),className:"p-4 text-sm cursor-pointer font-medium flex items-center gap-2 ".concat(l?"text-indigo-400 hover:bg-slate-700":"text-indigo-600 hover:bg-indigo-50"),children:[(0,Om.jsx)(z,{className:"w-4 h-4"}),' Add "',p,'" as custom medicine']}):F.map(e=>(0,Om.jsxs)("div",{onClick:()=>V(e),className:"p-3 cursor-pointer border-b last:border-0 transition-colors ".concat(l?"hover:bg-slate-700 border-slate-700":"hover:bg-slate-50 border-slate-50"),children:[(0,Om.jsx)("div",{className:"font-medium text-sm ".concat(l?"text-white":"text-slate-900"),children:e.name}),(0,Om.jsxs)("div",{className:"text-xs text-slate-500 flex justify-between mt-1",children:[(0,Om.jsx)("span",{className:"px-2 py-0.5 rounded ".concat(l?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"),children:e.dosage}),(0,Om.jsxs)("span",{className:"font-bold text-emerald-600",children:["\u20b1",e.price.toFixed(2)]})]})]},e.id))})]}),(0,Om.jsxs)("div",{className:"col-span-6 md:col-span-4",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Quantity"}),(0,Om.jsx)("input",{type:"number",min:"1",className:"w-full px-3 py-3 border rounded-xl text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(l?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"),value:y,onChange:e=>w(e.target.value)})]}),(0,Om.jsxs)("div",{className:"col-span-6 md:col-span-4",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Dosage"}),(0,Om.jsx)("input",{type:"text",className:"w-full px-3 py-3 border rounded-xl text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(l?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"),placeholder:"e.g. 500mg",value:E,onChange:e=>N(e.target.value),disabled:!g})]}),(0,Om.jsxs)("div",{className:"col-span-6 md:col-span-4",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Unit Price (\u20b1)"}),(0,Om.jsx)("input",{type:"number",min:"0",step:"0.25",className:"w-full px-3 py-3 border rounded-xl text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(l?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"),value:T,onChange:e=>C(e.target.value),disabled:!g})]}),(0,Om.jsxs)("div",{className:"col-span-12 md:col-span-4",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Instructions"}),(0,Om.jsx)("input",{type:"text",className:"w-full px-3 py-3 border rounded-xl text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(l?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"),placeholder:"e.g. 1 tab after meals",value:k,onChange:e=>S(e.target.value)})]}),(0,Om.jsxs)("div",{className:"col-span-12 flex gap-3",children:[L&&(0,Om.jsx)("button",{onClick:G,className:"flex-1 py-3.5 rounded-xl text-sm font-bold shadow-sm transition-all flex items-center justify-center gap-2 ".concat(l?"bg-slate-700 text-white hover:bg-slate-600":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:"Cancel"}),(0,Om.jsx)("button",{onClick:()=>{if(!g)return;const e=parseFloat(T)||0,t=parseInt(y)||1,n=c(c({},g),{},{uniqueId:L||Date.now(),quantity:t,dosage:E,price:e,instructions:k||"As directed by physician",totalPrice:e*t});L?(f(h.map(e=>e.uniqueId===L?n:e)),M(null)):f([...h,n]),v(null),m(""),w(1),S(""),N(""),C(0)},disabled:!g,className:"flex-[2] py-3.5 rounded-xl text-sm font-bold shadow-lg transition-all flex items-center justify-center gap-2 transform active:scale-[0.98] ".concat(g?L?"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-blue-500/20":"bg-gradient-to-r from-slate-900 to-slate-800 text-white hover:shadow-slate-500/20":"bg-slate-200 text-slate-400 cursor-not-allowed shadow-none"),children:L?(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)(q,{className:"w-4 h-4"})," Update Item"]}):(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)(z,{className:"w-4 h-4"})," Add to List"]})})]})]})}),(0,Om.jsx)("div",{className:"space-y-3 pb-8",children:0===h.length?(0,Om.jsxs)("div",{className:"text-center py-16 border-2 border-dashed rounded-2xl ".concat(l?"border-slate-700 bg-slate-800/50 text-slate-500":"border-slate-200 bg-slate-50/30 text-slate-400"),children:[(0,Om.jsx)("div",{className:"mb-2 font-medium",children:"No medicines added yet"}),(0,Om.jsx)("div",{className:"text-xs opacity-70",children:"Search above to begin building the prescription"})]}):h.map((e,t)=>(0,Om.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl border shadow-sm transition-all group ".concat(L===e.uniqueId?"border-blue-500 ring-1 ring-blue-500/20":l?"bg-slate-800 border-slate-700 hover:border-indigo-500/50":"bg-white border-slate-100 hover:border-indigo-200 hover:shadow-md"),children:[(0,Om.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Om.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm border shrink-0 transition-colors ".concat(l?"bg-slate-700 border-slate-600 text-slate-300 group-hover:bg-indigo-900/50 group-hover:text-indigo-400":"bg-slate-100 border-slate-200 text-slate-500 group-hover:bg-indigo-50 group-hover:text-indigo-600"),children:t+1}),(0,Om.jsxs)("div",{className:"min-w-0",children:[(0,Om.jsx)("div",{className:"font-bold truncate ".concat(l?"text-slate-100":"text-slate-800"),children:e.name}),(0,Om.jsxs)("div",{className:"text-sm text-slate-500 flex gap-2 items-center flex-wrap mt-0.5",children:[(0,Om.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] uppercase font-bold tracking-wide border ".concat(l?"bg-indigo-900/30 text-indigo-300 border-indigo-900/50":"bg-blue-50 text-blue-700 border-blue-100"),children:e.dosage}),(0,Om.jsxs)("span",{className:"px-2 py-0.5 rounded text-[10px] uppercase font-bold tracking-wide border ".concat(l?"bg-emerald-900/30 text-emerald-400 border-emerald-900/50":"bg-emerald-50 text-emerald-700 border-emerald-100"),children:["\u20b1",e.price.toFixed(2)]})]}),(0,Om.jsx)("div",{className:"text-xs text-slate-400 italic mt-1 truncate max-w-[200px]",children:e.instructions})]})]}),(0,Om.jsxs)("div",{className:"text-right flex items-center gap-2 shrink-0",children:[(0,Om.jsxs)("div",{className:"mr-2",children:[(0,Om.jsxs)("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Qty: ",e.quantity]}),(0,Om.jsxs)("div",{className:"font-bold text-lg ".concat(l?"text-white":"text-slate-900"),children:["\u20b1",e.totalPrice.toFixed(2)]})]}),(0,Om.jsx)("button",{onClick:()=>(e=>{M(e.uniqueId),v(e),m(e.name),w(e.quantity),N(e.dosage),C(e.price),S(e.instructions),window.scrollTo({top:0,behavior:"smooth"})})(e),className:"p-2 rounded-lg transition-colors ".concat(l?"text-blue-400 hover:bg-blue-900/20":"text-blue-500 hover:bg-blue-50"),children:(0,Om.jsx)(H,{className:"w-5 h-5"})}),(0,Om.jsx)("button",{onClick:()=>{return t=e.uniqueId,L===t&&G(),void f(h.filter(e=>e.uniqueId!==t));var t},className:"p-2 rounded-lg transition-colors ".concat(l?"text-slate-500 hover:text-rose-400 hover:bg-rose-900/20":"text-slate-300 hover:text-rose-500 hover:bg-rose-50"),children:(0,Om.jsx)(W,{className:"w-5 h-5"})})]})]},e.uniqueId))})]})]}),(0,Om.jsxs)("div",{className:"md:flex flex-col no-print w-full md:w-2/5 md:border-l h-full ".concat("preview"===O?"flex":"hidden"," ").concat(l?"bg-[#0B0F19] border-slate-700":"bg-white border-slate-200"),children:[(0,Om.jsx)("div",{className:"p-4 md:p-6 border-b ".concat(l?"bg-[#0B0F19] border-slate-700":"bg-white border-slate-200"),children:(0,Om.jsxs)("h3",{className:"font-bold text-lg flex items-center gap-2 ".concat(l?"text-white":"text-slate-800"),children:[(0,Om.jsx)(K,{className:"w-5 h-5 text-indigo-500"})," Live Preview"]})}),(0,Om.jsx)("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 flex justify-center ".concat(l?"bg-[#0B0F19]":"bg-slate-50"),children:(0,Om.jsxs)("div",{className:"bg-white text-slate-800 w-full max-w-md shadow-2xl border border-slate-200 p-6 md:p-10 min-h-[600px] text-sm relative transition-all duration-500 ease-in-out transform hover:scale-[1.01] ring-1 ring-black/5",children:[(0,Om.jsx)("div",{className:"absolute inset-0 bg-white opacity-50 pointer-events-none mix-blend-multiply"}),(0,Om.jsxs)("div",{className:"border-b-2 border-slate-900 pb-6 mb-8 relative z-10",children:[(0,Om.jsx)("h1",{className:"text-xl md:text-2xl font-serif font-bold uppercase tracking-widest text-slate-900",children:(null===i||void 0===i||null===(t=i.clinicDetails)||void 0===t?void 0:t.name)||"Clinic Name"}),(0,Om.jsx)("p",{className:"text-xs text-slate-600 whitespace-pre-line mt-2 font-serif",children:(null===i||void 0===i||null===(n=i.clinicDetails)||void 0===n?void 0:n.address)||"Clinic Address"}),(0,Om.jsx)("div",{className:"flex justify-between items-end mt-6 pt-4 border-t border-slate-100",children:(0,Om.jsxs)("div",{className:"text-xs space-y-1 font-serif text-slate-800",children:[(0,Om.jsxs)("p",{children:[(0,Om.jsx)("span",{className:"font-bold text-slate-400 uppercase tracking-wider text-[10px]",children:"Patient:"})," ",(0,Om.jsx)("span",{className:"text-base font-semibold",children:u.name||"___________"})]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("span",{className:"font-bold text-slate-400 uppercase tracking-wider text-[10px]",children:"Age/Sex:"})," ",u.age||"__"," / ",u.sex]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("span",{className:"font-bold text-slate-400 uppercase tracking-wider text-[10px]",children:"Date:"})," ",(new Date).toLocaleDateString()]})]})})]}),(0,Om.jsxs)("div",{className:"font-serif relative z-10",children:[(0,Om.jsx)("div",{className:"text-5xl font-bold text-slate-200 mb-6 italic font-serif",children:"Rx"}),(0,Om.jsx)("div",{className:"space-y-6",children:0===h.length?(0,Om.jsx)("p",{className:"text-slate-300 italic text-center py-20",children:"List is empty..."}):h.map((e,t)=>(0,Om.jsxs)("div",{className:"border-b border-slate-100 pb-3 mb-2 last:border-0",children:[(0,Om.jsxs)("div",{className:"flex justify-between font-bold text-slate-900 text-lg",children:[(0,Om.jsxs)("span",{children:[e.name," ",(0,Om.jsx)("span",{className:"text-sm font-normal text-slate-500 ml-2",children:e.dosage})]}),(0,Om.jsxs)("span",{children:["#",e.quantity]})]}),(0,Om.jsxs)("div",{className:"text-sm italic text-slate-600 pl-4 mt-1",children:["Sig: ",e.instructions]})]},e.uniqueId))})]}),(0,Om.jsxs)("div",{className:"absolute bottom-8 left-8 right-8 border-t border-slate-900 pt-4 flex justify-between items-end z-10",children:[(0,Om.jsx)("div",{className:"text-[9px] text-slate-400 font-sans w-1/2 leading-tight",children:(0,Om.jsx)("p",{children:"This prescription is digitally verified. Valid for dispensing at any MediVend Kiosk or licensed pharmacy."})}),(0,Om.jsxs)("div",{className:"text-center w-40",children:[(0,Om.jsx)("div",{className:"h-0.5 bg-slate-900 w-full mb-2"}),(0,Om.jsx)("p",{className:"font-bold uppercase text-slate-900 text-xs tracking-wide",children:null===i||void 0===i?void 0:i.name}),(0,Om.jsxs)("div",{className:"text-[9px] uppercase text-slate-500 font-bold tracking-widest",children:["Lic No: ",null===i||void 0===i?void 0:i.license]})]})]})]})}),(0,Om.jsxs)("div",{className:"p-4 md:p-6 border-t pb-24 md:pb-6 z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.2)] ".concat(l?"bg-[#0B0F19] border-slate-700":"bg-white border-slate-200"),children:[(0,Om.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Om.jsx)("span",{className:"text-slate-400 font-medium text-sm uppercase tracking-wide",children:"Total Estimated Cost"}),(0,Om.jsxs)("span",{className:"text-3xl font-bold tracking-tight ".concat(l?"text-white":"text-slate-900"),children:["\u20b1",h.reduce((e,t)=>e+t.totalPrice,0).toFixed(2)]})]}),(0,Om.jsxs)("button",{onClick:()=>{if(!u.name||0===h.length)return;const e=h.reduce((e,t)=>e+t.totalPrice,0),t="RX-".concat(Math.floor(1e6*Math.random()));s({id:t,date:(new Date).toLocaleDateString(),patient:u,items:h,grandTotal:e,qrValue:JSON.stringify({app:"medivend",id:t,ver:"1"})})},disabled:0===h.length||!u.name,className:"w-full bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-indigo-900/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-3 text-lg active:scale-[0.98]",children:[(0,Om.jsx)(_,{className:"w-6 h-6"})," Generate Prescription"]})]})]}),D&&(0,Om.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-900/60 p-4 backdrop-blur-sm animate-in fade-in zoom-in duration-200",children:(0,Om.jsx)(Ym,{onClose:()=>R(!1),onAdd:e=>{const t={id:Date.now(),name:e.name,dosage:e.dosage,price:parseFloat(e.price)};o(t),V(t),R(!1)},initialName:p})})]})}function Hm(e){var t,n,r,i;let{data:s,doctor:a,onBack:o,onNew:l}=e;const c="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=".concat(encodeURIComponent(s.qrValue));return(0,Om.jsxs)("div",{className:"flex flex-col h-full bg-slate-100 overflow-hidden print:bg-white print:overflow-visible",children:[(0,Om.jsxs)("div",{className:"no-print bg-white border-b border-slate-200 px-4 md:px-8 py-4 flex flex-col md:flex-row justify-between items-center shadow-sm shrink-0 gap-4 md:gap-0",children:[(0,Om.jsxs)("button",{onClick:o,className:"text-slate-500 hover:text-slate-800 font-medium flex items-center gap-2 transition-colors self-start md:self-auto",children:[(0,Om.jsx)(b,{className:"w-4 h-4"})," ",(0,Om.jsx)("span",{className:"hidden md:inline",children:"Back to Editor"})," ",(0,Om.jsx)("span",{className:"md:hidden",children:"Back"})]}),(0,Om.jsxs)("div",{className:"flex items-center gap-3 self-end md:self-auto w-full md:w-auto justify-end",children:[(0,Om.jsxs)("div",{className:"text-xs md:text-sm text-slate-500 mr-2 md:mr-4 hidden sm:block",children:["ID: ",(0,Om.jsx)("span",{className:"font-mono font-bold text-slate-800",children:s.id})]}),(0,Om.jsxs)("button",{onClick:l,className:"bg-white border border-indigo-200 text-indigo-600 hover:bg-indigo-50 px-4 py-2.5 rounded-xl flex items-center gap-2 font-bold shadow-sm transition-all active:scale-95 text-sm md:text-base whitespace-nowrap",children:[(0,Om.jsx)(z,{className:"w-4 h-4"})," New Rx"]}),(0,Om.jsxs)("button",{onClick:()=>window.print(),className:"bg-white border border-slate-300 text-slate-700 hover:bg-slate-50 px-4 py-2.5 rounded-xl flex items-center gap-2 font-bold shadow-sm transition-all active:scale-95 text-sm md:text-base",children:[(0,Om.jsx)(G,{className:"w-4 h-4"})," ",(0,Om.jsx)("span",{className:"hidden sm:inline",children:"PDF"})]}),(0,Om.jsxs)("button",{onClick:()=>window.print(),className:"bg-slate-900 hover:bg-slate-800 text-white px-5 py-2.5 rounded-xl flex items-center gap-2 font-bold shadow-lg shadow-slate-900/20 transition-all active:scale-95 text-sm md:text-base",children:[(0,Om.jsx)(_,{className:"w-4 h-4"})," Print"]})]})]}),(0,Om.jsx)("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 flex justify-center print:p-0 print:block",children:(0,Om.jsxs)("div",{className:"printable-wrapper bg-white w-full max-w-2xl shadow-2xl p-6 md:p-12 relative text-slate-900 font-serif border border-slate-100",children:[(0,Om.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-0",children:(0,Om.jsx)("div",{className:"rx-watermark text-[8rem] md:text-[10rem] font-bold text-slate-200/50 font-sans italic select-none",children:"Rx"})}),(0,Om.jsxs)("div",{className:"printable-content relative z-10",children:[(0,Om.jsxs)("div",{className:"border-b-4 border-slate-900 pb-6 mb-8 flex justify-between items-start",children:[(0,Om.jsxs)("div",{className:"flex-1",children:[(0,Om.jsx)("h1",{className:"text-2xl md:text-3xl font-bold uppercase tracking-widest text-slate-900 leading-tight",children:(null===a||void 0===a||null===(t=a.clinicDetails)||void 0===t?void 0:t.name)||"Clinic Name"}),(0,Om.jsxs)("div",{className:"mt-2 text-sm text-slate-600 font-sans space-y-0.5",children:[(0,Om.jsx)("p",{children:null===a||void 0===a||null===(n=a.clinicDetails)||void 0===n?void 0:n.address}),(0,Om.jsxs)("p",{children:["Tel: ",null===a||void 0===a||null===(r=a.clinicDetails)||void 0===r?void 0:r.contactNumber]}),(0,Om.jsxs)("p",{children:["PTR: ",null===a||void 0===a||null===(i=a.clinicDetails)||void 0===i?void 0:i.ptr]})]})]}),(0,Om.jsxs)("div",{className:"text-right ml-4",children:[(0,Om.jsx)("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-white border-2 border-slate-900 p-1 inline-block",children:(0,Om.jsx)("img",{src:c,alt:"Rx QR",className:"w-full h-full object-cover"})}),(0,Om.jsx)("p",{className:"text-[10px] font-mono mt-1 text-slate-500 tracking-wider font-bold",children:s.id})]})]}),(0,Om.jsxs)("div",{className:"mb-8 font-sans grid grid-cols-2 gap-y-2 text-sm border-b border-slate-200 pb-6",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("span",{className:"font-bold text-slate-500 uppercase text-xs",children:"Patient Name"}),(0,Om.jsx)("br",{}),(0,Om.jsx)("span",{className:"text-lg font-semibold",children:s.patient.name})]}),(0,Om.jsxs)("div",{className:"text-right",children:[(0,Om.jsx)("span",{className:"font-bold text-slate-500 uppercase text-xs",children:"Date Issued"}),(0,Om.jsx)("br",{}),(0,Om.jsx)("span",{className:"text-lg font-semibold",children:s.date})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("span",{className:"font-bold text-slate-500 uppercase text-xs",children:"Age / Sex"}),(0,Om.jsx)("br",{}),(0,Om.jsxs)("span",{children:[s.patient.age," / ",s.patient.sex]})]}),(0,Om.jsxs)("div",{className:"text-right",children:[(0,Om.jsx)("span",{className:"font-bold text-slate-500 uppercase text-xs",children:"Physician"}),(0,Om.jsx)("br",{}),(0,Om.jsx)("span",{className:"uppercase font-bold",children:null===a||void 0===a?void 0:a.name})]})]}),(0,Om.jsx)("div",{className:"min-h-[400px] print-min-h-reset relative",children:(0,Om.jsxs)("table",{className:"w-full text-left border-collapse relative z-10",children:[(0,Om.jsx)("thead",{children:(0,Om.jsxs)("tr",{className:"border-b-2 border-slate-900 text-[10px] font-bold uppercase text-slate-900 tracking-wider font-sans bg-slate-50/50",children:[(0,Om.jsx)("th",{className:"py-2 px-1",children:"Medicine Description"}),(0,Om.jsx)("th",{className:"py-2 px-1 text-center",children:"Dosage"}),(0,Om.jsx)("th",{className:"py-2 px-1 text-center",children:"Qty"}),(0,Om.jsx)("th",{className:"py-2 px-1 text-right",children:"Instructions"})]})}),(0,Om.jsx)("tbody",{className:"font-sans text-sm",children:s.items.map(e=>(0,Om.jsxs)("tr",{className:"border-b border-slate-100",children:[(0,Om.jsx)("td",{className:"py-4 px-1 align-top font-bold text-lg text-slate-900",children:e.name}),(0,Om.jsx)("td",{className:"py-4 px-1 align-top text-center text-slate-600 font-medium",children:e.dosage}),(0,Om.jsxs)("td",{className:"py-4 px-1 align-top text-center font-bold text-lg",children:["#",e.quantity]}),(0,Om.jsx)("td",{className:"py-4 px-1 align-top text-right italic text-slate-600 max-w-[200px]",children:e.instructions})]},e.uniqueId))})]})})]}),(0,Om.jsxs)("div",{className:"printable-footer flex justify-between items-end bg-white relative z-10",children:[(0,Om.jsx)("div",{className:"text-[10px] text-slate-400 font-sans w-1/2 leading-snug italic",children:(0,Om.jsx)("p",{children:"This document is digitally signed. Valid for dispensing at any MediVend Kiosk or licensed pharmacy."})}),(0,Om.jsxs)("div",{className:"text-center w-64",children:[(0,Om.jsx)("div",{className:"h-[2px] bg-slate-900 w-full mb-2"}),(0,Om.jsx)("p",{className:"font-bold uppercase text-sm text-slate-900 tracking-tighter",children:null===a||void 0===a?void 0:a.name}),(0,Om.jsxs)("p",{className:"text-[10px] uppercase text-slate-500 font-bold tracking-widest",children:["Lic No. ",null===a||void 0===a?void 0:a.license]})]})]})]})})]})}function Wm(e){let{medicines:t,onAdd:n,onDelete:i,isDarkMode:s}=e;const[a,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(""),u=t.filter(e=>e.name.toLowerCase().includes(l.toLowerCase()));return(0,Om.jsxs)("div",{className:"p-4 md:p-8 h-full overflow-y-auto ".concat(s?"bg-slate-900":"bg-white"),children:[(0,Om.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,Om.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,Om.jsxs)("div",{className:"relative w-full sm:w-auto",children:[(0,Om.jsx)(B,{className:"w-4 h-4 absolute left-3 top-3.5 text-slate-400"}),(0,Om.jsx)("input",{type:"text",className:"w-full sm:w-64 pl-9 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(s?"bg-slate-800 border-slate-700 text-white placeholder-slate-500":"bg-white border-slate-200 placeholder-slate-400"),placeholder:"Search inventory...",value:l,onChange:e=>c(e.target.value)})]}),(0,Om.jsxs)("button",{onClick:()=>o(!0),className:"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-indigo-600/20 flex items-center justify-center gap-2 transition-all active:scale-95",children:[(0,Om.jsx)(z,{className:"w-5 h-5"})," Add Medicine"]})]}),(0,Om.jsxs)("div",{className:"rounded-2xl shadow-sm border overflow-hidden ".concat(s?"bg-slate-800 border-slate-700":"bg-white border-slate-200"),children:[(0,Om.jsxs)("table",{className:"w-full text-left hidden md:table",children:[(0,Om.jsx)("thead",{children:(0,Om.jsxs)("tr",{className:"border-b text-xs uppercase font-bold tracking-wider ".concat(s?"bg-slate-900 border-slate-700 text-slate-400":"bg-slate-50 border-slate-200 text-slate-500"),children:[(0,Om.jsx)("th",{className:"px-6 py-4",children:"Medicine Name"}),(0,Om.jsx)("th",{className:"px-6 py-4",children:"Dosage"}),(0,Om.jsx)("th",{className:"px-6 py-4",children:"Unit Price"}),(0,Om.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,Om.jsx)("tbody",{className:"divide-y ".concat(s?"divide-slate-700":"divide-slate-100"),children:0===u.length?(0,Om.jsx)("tr",{children:(0,Om.jsx)("td",{colSpan:"4",className:"p-12 text-center text-slate-400",children:"No medicines found."})}):u.map(e=>(0,Om.jsxs)("tr",{className:"transition-colors ".concat(s?"hover:bg-slate-700":"hover:bg-slate-50"),children:[(0,Om.jsx)("td",{className:"px-6 py-4 font-bold ".concat(s?"text-slate-100":"text-slate-800"),children:e.name}),(0,Om.jsx)("td",{className:"px-6 py-4 text-sm ".concat(s?"text-slate-400":"text-slate-600"),children:(0,Om.jsx)("span",{className:"px-2.5 py-1 rounded text-xs border font-medium ".concat(s?"bg-indigo-900/30 text-indigo-300 border-indigo-900/50":"bg-indigo-50 text-indigo-700 border-indigo-100"),children:e.dosage})}),(0,Om.jsxs)("td",{className:"px-6 py-4 text-sm font-bold text-emerald-600",children:["\u20b1",e.price.toFixed(2)]}),(0,Om.jsx)("td",{className:"px-6 py-4 text-right",children:(0,Om.jsx)("button",{onClick:()=>i(e.id),className:"p-2 rounded-lg transition-colors ".concat(s?"text-slate-500 hover:text-rose-400 hover:bg-rose-900/20":"text-slate-400 hover:text-rose-600 hover:bg-rose-50"),title:"Delete",children:(0,Om.jsx)(W,{className:"w-4 h-4"})})})]},e.id))})]}),(0,Om.jsx)("div",{className:"md:hidden divide-y ".concat(s?"divide-slate-700":"divide-slate-100"),children:0===u.length?(0,Om.jsx)("div",{className:"p-8 text-center text-slate-400",children:"No medicines found."}):u.map(e=>(0,Om.jsxs)("div",{className:"p-4 flex flex-col gap-3 transition-colors ".concat(s?"hover:bg-slate-700":"hover:bg-slate-50"),children:[(0,Om.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("div",{className:"font-bold text-lg ".concat(s?"text-slate-100":"text-slate-800"),children:e.name}),(0,Om.jsx)("div",{className:"text-sm mt-2 inline-block px-2 py-0.5 rounded border font-medium ".concat(s?"bg-indigo-900/30 text-indigo-300 border-indigo-900/50":"text-slate-500 bg-indigo-50 text-indigo-700 border-indigo-100"),children:e.dosage})]}),(0,Om.jsxs)("div",{className:"text-lg font-bold text-emerald-600",children:["\u20b1",e.price.toFixed(2)]})]}),(0,Om.jsxs)("button",{onClick:()=>i(e.id),className:"mt-2 w-full flex items-center justify-center gap-2 py-3 rounded-xl font-bold active:scale-95 transition-all border ".concat(s?"text-rose-400 bg-rose-900/10 border-rose-900/30 hover:bg-rose-900/30":"text-rose-600 bg-rose-50 hover:bg-rose-100 border-rose-100"),children:[(0,Om.jsx)(W,{className:"w-4 h-4"})," Remove Item"]})]},e.id))})]})]}),a&&(0,Om.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-900/60 p-4 backdrop-blur-sm animate-in fade-in zoom-in duration-200",children:(0,Om.jsx)(Ym,{onClose:()=>o(!1),onAdd:e=>{n(e),o(!1)}})})]})}function Km(e){let{user:t,isDarkMode:n}=e;const[i,s]=(0,r.useState)([]),[a,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{const e=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Bd&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Wd).length,n=e.filter(e=>e instanceof Hd).length;if(t>1||t>0&&n>0)throw new Dn(Pn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}(function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ie(e),nr("collection","path",t),e instanceof Xu){const n=$n.fromString(t,...r);return ir(n),new Zu(e,null,n)}{if(!(e instanceof $u||e instanceof Zu))throw new Dn(Pn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($n.fromString(t,...r));return ir(n),new Zu(e.firestore,null,n)}}(Mm,"artifacts",Fm,"public","data","prescriptions"),function(e,t,n){const r=t,i=Id("where",e);return Hd._create(i,r,n)}("doctorEmail","==",t.email),Gd(50)),n=(await ih(e)).docs.map(e=>c({id:e.id},e.data()));n.sort((e,t)=>{var n,r;return new Date(1e3*(null===(n=t.createdAt)||void 0===n?void 0:n.seconds))-new Date(1e3*(null===(r=e.createdAt)||void 0===r?void 0:r.seconds))}),s(n)}catch(e){console.error(e)}o(!1)})()},[t.email]);const l=e=>{window.confirm("Are you sure you want to remove this record from your view?\n\n\u26a0\ufe0f NOTE: This ONLY hides it from this list to reduce clutter. The prescription record stays saved in the database.")&&s(t=>t.filter(t=>t.id!==e))};return(0,Om.jsx)("div",{className:"p-4 md:p-8 h-full overflow-y-auto ".concat(n?"bg-slate-900":"bg-white"),children:(0,Om.jsxs)("div",{className:"max-w-6xl mx-auto rounded-2xl shadow-sm border overflow-hidden ".concat(n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"),children:[(0,Om.jsxs)("div",{className:"p-6 border-b flex justify-between items-center ".concat(n?"border-slate-700":"border-slate-100"),children:[(0,Om.jsx)("span",{className:"text-sm font-bold uppercase tracking-widest ".concat(n?"text-slate-300":"text-slate-800"),children:"Recent Activity"}),i.length>0&&(0,Om.jsxs)("button",{onClick:()=>{window.confirm("Are you sure you want to clear ALL records from this view?\n\n\u26a0\ufe0f NOTE: This acts as a 'Clear History' for your screen only. All prescription records remain safe in the database.")&&s([])},className:"text-xs font-bold px-3 py-1.5 rounded-lg border transition-all flex items-center gap-2 ".concat(n?"border-rose-900/30 text-rose-400 hover:bg-rose-900/20":"border-rose-100 text-rose-600 hover:bg-rose-50"),children:[(0,Om.jsx)(W,{className:"w-3.5 h-3.5"})," Clear View"]})]}),(0,Om.jsxs)("table",{className:"w-full text-left text-sm hidden md:table",children:[(0,Om.jsx)("thead",{className:"border-b text-[10px] font-bold uppercase tracking-wider ".concat(n?"bg-slate-900 border-slate-700 text-slate-400":"bg-slate-50 border-slate-200 text-slate-500"),children:(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("th",{className:"px-6 py-4",children:"Date Issued"}),(0,Om.jsx)("th",{className:"px-6 py-4",children:"Patient Name"}),(0,Om.jsx)("th",{className:"px-6 py-4 text-right",children:"Amount"}),(0,Om.jsx)("th",{className:"px-6 py-4 text-center",children:"Action"})]})}),(0,Om.jsx)("tbody",{className:"divide-y ".concat(n?"divide-slate-700":"divide-slate-100"),children:a?(0,Om.jsx)("tr",{children:(0,Om.jsx)("td",{colSpan:"4",className:"p-12 text-center text-slate-400 italic",children:"Syncing..."})}):0===i.length?(0,Om.jsx)("tr",{children:(0,Om.jsx)("td",{colSpan:"4",className:"p-12 text-center text-slate-400 italic",children:"No recent activity found in this session."})}):i.map(e=>(0,Om.jsxs)("tr",{className:"transition-colors ".concat(n?"hover:bg-slate-700":"hover:bg-slate-50"),children:[(0,Om.jsx)("td",{className:"px-6 py-4 ".concat(n?"text-slate-400":"text-slate-500"),children:e.date}),(0,Om.jsx)("td",{className:"px-6 py-4 font-bold ".concat(n?"text-slate-100":"text-slate-800"),children:e.patient.name}),(0,Om.jsxs)("td",{className:"px-6 py-4 text-right font-bold text-emerald-600",children:["\u20b1",e.grandTotal.toFixed(2)]}),(0,Om.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Om.jsx)("button",{onClick:()=>l(e.id),className:"p-2 rounded-lg transition-colors ".concat(n?"text-slate-500 hover:text-rose-400 hover:bg-rose-900/20":"text-slate-400 hover:text-rose-600 hover:bg-rose-50"),title:"Hide from list",children:(0,Om.jsx)(W,{className:"w-4 h-4"})})})]},e.id))})]}),(0,Om.jsx)("div",{className:"md:hidden divide-y ".concat(n?"divide-slate-700":"divide-slate-100"),children:a?(0,Om.jsx)("div",{className:"p-8 text-center text-slate-400 italic",children:"Syncing..."}):0===i.length?(0,Om.jsx)("div",{className:"p-8 text-center text-slate-400 italic",children:"No recent activity found."}):i.map(e=>(0,Om.jsxs)("div",{className:"p-4 flex items-center justify-between transition-colors ".concat(n?"hover:bg-slate-700":"hover:bg-slate-50"),children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("div",{className:"font-bold ".concat(n?"text-slate-100":"text-slate-800"),children:e.patient.name}),(0,Om.jsx)("div",{className:"text-xs mt-1 ".concat(n?"text-slate-400":"text-slate-500"),children:e.date})]}),(0,Om.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Om.jsxs)("span",{className:"font-bold text-emerald-600",children:["\u20b1",e.grandTotal.toFixed(2)]}),(0,Om.jsx)("button",{onClick:()=>l(e.id),className:"p-3 rounded-lg transition-colors border ".concat(n?"text-rose-400 border-rose-900/30 bg-rose-900/10 active:bg-rose-900/30":"text-rose-600 border-rose-100 bg-rose-50 active:bg-rose-100"),title:"Hide",children:(0,Om.jsx)(W,{className:"w-5 h-5"})})]})]},e.id))})]})})}function Gm(e){var t,n,i,s,a;let{user:o,onUpdateUser:l,isDarkMode:u}=e;const[d,h]=(0,r.useState)("profile"),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null),[v,y]=(0,r.useState)({name:o.name||"",license:o.license||"",email:o.email||""}),[b,w]=(0,r.useState)({name:(null===(t=o.clinicDetails)||void 0===t?void 0:t.name)||"",address:(null===(n=o.clinicDetails)||void 0===n?void 0:n.address)||"",contactNumber:(null===(i=o.clinicDetails)||void 0===i?void 0:i.contactNumber)||"",ptr:(null===(s=o.clinicDetails)||void 0===s?void 0:s.ptr)||"",s2:(null===(a=o.clinicDetails)||void 0===a?void 0:a.s2)||""}),[x,k]=(0,r.useState)({current:"",new:"",confirm:""}),S=function(e){g({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>g(null),3e3)};return(0,Om.jsx)("div",{className:"p-4 md:p-8 h-full overflow-y-auto ".concat(u?"bg-slate-900":"bg-white"),children:(0,Om.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Om.jsxs)("div",{className:"mb-8",children:[(0,Om.jsx)("h1",{className:"text-2xl font-bold ".concat(u?"text-white":"text-slate-800"),children:"Settings"}),(0,Om.jsx)("p",{className:"text-slate-500",children:"Manage your account and clinic preferences."})]}),(0,Om.jsxs)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 no-scrollbar",children:[(0,Om.jsxs)("button",{onClick:()=>h("profile"),className:"px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-all whitespace-nowrap ".concat("profile"===d?"bg-indigo-600 text-white shadow-md":u?"bg-slate-800 text-slate-400 border border-slate-700 hover:bg-slate-700":"bg-white text-slate-500 border border-slate-200 hover:bg-slate-50"),children:[(0,Om.jsx)(I,{className:"w-4 h-4"})," My Profile"]}),(0,Om.jsxs)("button",{onClick:()=>h("clinic"),className:"px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-all whitespace-nowrap ".concat("clinic"===d?"bg-indigo-600 text-white shadow-md":u?"bg-slate-800 text-slate-400 border border-slate-700 hover:bg-slate-700":"bg-white text-slate-500 border border-slate-200 hover:bg-slate-50"),children:[(0,Om.jsx)(Q,{className:"w-4 h-4"})," Clinic Details"]}),(0,Om.jsxs)("button",{onClick:()=>h("security"),className:"px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-all whitespace-nowrap ".concat("security"===d?"bg-indigo-600 text-white shadow-md":u?"bg-slate-800 text-slate-400 border border-slate-700 hover:bg-slate-700":"bg-white text-slate-500 border border-slate-200 hover:bg-slate-50"),children:[(0,Om.jsx)(D,{className:"w-4 h-4"})," Security"]})]}),(0,Om.jsxs)("div",{className:"rounded-2xl border shadow-sm p-6 md:p-8 relative overflow-hidden ".concat(u?"bg-slate-800 border-slate-700":"bg-white border-slate-200"),children:[m&&(0,Om.jsx)("div",{className:"absolute top-0 left-0 right-0 p-3 text-center text-sm font-bold ".concat("error"===m.type?"bg-red-50 text-red-600":"bg-emerald-50 text-emerald-600"),children:m.message}),"profile"===d&&(0,Om.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[(0,Om.jsxs)("div",{className:"flex items-center gap-4 border-b pb-6 ".concat(u?"border-slate-700":"border-slate-100"),children:[(0,Om.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold ".concat(u?"bg-indigo-900/50 text-indigo-400":"bg-indigo-100 text-indigo-600"),children:v.name.charAt(0)}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h3",{className:"font-bold text-lg ".concat(u?"text-white":"text-slate-800"),children:"Personal Information"}),(0,Om.jsx)("p",{className:"text-slate-500 text-sm",children:"Update your public profile information."})]})]}),(0,Om.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"Full Name"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)(I,{className:"w-4 h-4 absolute left-3 top-3.5 text-slate-400"}),(0,Om.jsx)("input",{className:"w-full pl-9 pr-3 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(u?"bg-slate-900 border-slate-600 text-white placeholder-slate-500":"bg-white border-slate-200 text-slate-900"),value:v.name,onChange:e=>y(c(c({},v),{},{name:e.target.value})),placeholder:"Dr. Full Name"})]})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"Email Address"}),(0,Om.jsxs)("div",{className:"relative opacity-60 cursor-not-allowed",children:[(0,Om.jsx)(P,{className:"w-4 h-4 absolute left-3 top-3.5 text-slate-400"}),(0,Om.jsx)("input",{disabled:!0,className:"w-full pl-9 pr-3 py-3 border rounded-xl shadow-inner ".concat(u?"bg-slate-700 border-slate-600 text-slate-300":"bg-slate-50 border-slate-200"),value:v.email})]})]}),(0,Om.jsxs)("div",{className:"md:col-span-2",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"License Number"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)(A,{className:"w-4 h-4 absolute left-3 top-3.5 text-slate-400"}),(0,Om.jsx)("input",{className:"w-full pl-9 pr-3 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(u?"bg-slate-900 border-slate-600 text-white placeholder-slate-500":"bg-white border-slate-200 text-slate-900"),value:v.license,onChange:e=>y(c(c({},v),{},{license:e.target.value})),placeholder:"PRC-XXXXXX"})]})]})]}),(0,Om.jsx)("div",{className:"pt-4 flex justify-end",children:(0,Om.jsx)("button",{onClick:async()=>{p(!0);try{const e=ed(Mm,"artifacts",Fm,"public","data","doctors",o.email);await ah(e,{name:v.name,license:v.license}),l(c(c({},o),v)),S("Profile updated successfully.")}catch(e){S(e.message,"error")}p(!1)},disabled:f,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2.5 rounded-xl font-bold shadow-lg shadow-indigo-600/20 disabled:opacity-70 transition-all active:scale-95",children:f?"Saving...":"Save Profile"})})]}),"clinic"===d&&(0,Om.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[(0,Om.jsxs)("div",{className:"border-b pb-6 ".concat(u?"border-slate-700":"border-slate-100"),children:[(0,Om.jsx)("h3",{className:"font-bold text-lg ".concat(u?"text-white":"text-slate-800"),children:"Clinic Information"}),(0,Om.jsx)("p",{className:"text-slate-500 text-sm",children:"This information appears on your prescription header."})]}),(0,Om.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,Om.jsxs)("div",{className:"md:col-span-2",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"Clinic / Hospital Name"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)(Q,{className:"w-4 h-4 absolute left-3 top-3.5 text-slate-400"}),(0,Om.jsx)("input",{className:"w-full pl-9 pr-3 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(u?"bg-slate-900 border-slate-600 text-white placeholder-slate-500":"bg-white border-slate-200 text-slate-900"),value:b.name,onChange:e=>w(c(c({},b),{},{name:e.target.value})),placeholder:"e.g. St. Luke's Medical Center"})]})]}),(0,Om.jsxs)("div",{className:"md:col-span-2",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"Full Address"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)(X,{className:"w-4 h-4 absolute left-3 top-3.5 text-slate-400"}),(0,Om.jsx)("input",{className:"w-full pl-9 pr-3 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(u?"bg-slate-900 border-slate-600 text-white placeholder-slate-500":"bg-white border-slate-200 text-slate-900"),value:b.address,onChange:e=>w(c(c({},b),{},{address:e.target.value})),placeholder:"Unit, Building, Street, City"})]})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"Contact Number"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)(M,{className:"w-4 h-4 absolute left-3 top-3.5 text-slate-400"}),(0,Om.jsx)("input",{className:"w-full pl-9 pr-3 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(u?"bg-slate-900 border-slate-600 text-white placeholder-slate-500":"bg-white border-slate-200 text-slate-900"),value:b.contactNumber,onChange:e=>w(c(c({},b),{},{contactNumber:e.target.value})),placeholder:"(02) 8-7000"})]})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"PTR Number"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)(K,{className:"w-4 h-4 absolute left-3 top-3.5 text-slate-400"}),(0,Om.jsx)("input",{className:"w-full pl-9 pr-3 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(u?"bg-slate-900 border-slate-600 text-white placeholder-slate-500":"bg-white border-slate-200 text-slate-900"),value:b.ptr,onChange:e=>w(c(c({},b),{},{ptr:e.target.value})),placeholder:"PTR-XXXXXX"})]})]}),(0,Om.jsxs)("div",{className:"md:col-span-2",children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"S2 License (Optional)"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)(O,{className:"w-4 h-4 absolute left-3 top-3.5 text-slate-400"}),(0,Om.jsx)("input",{className:"w-full pl-9 pr-3 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(u?"bg-slate-900 border-slate-600 text-white placeholder-slate-500":"bg-white border-slate-200 text-slate-900"),value:b.s2,onChange:e=>w(c(c({},b),{},{s2:e.target.value})),placeholder:"S2-XXXXXX"})]})]})]}),(0,Om.jsx)("div",{className:"pt-4 flex justify-end",children:(0,Om.jsx)("button",{onClick:async()=>{p(!0);try{const e=ed(Mm,"artifacts",Fm,"public","data","doctors",o.email);await ah(e,{clinicDetails:b}),l(c(c({},o),{},{clinicDetails:b})),S("Clinic details updated successfully.")}catch(e){S(e.message,"error")}p(!1)},disabled:f,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2.5 rounded-xl font-bold shadow-lg shadow-indigo-600/20 disabled:opacity-70 transition-all active:scale-95",children:f?"Saving...":"Update Clinic"})})]}),"security"===d&&(0,Om.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[(0,Om.jsxs)("div",{className:"border-b pb-6 ".concat(u?"border-slate-700":"border-slate-100"),children:[(0,Om.jsx)("h3",{className:"font-bold text-lg ".concat(u?"text-white":"text-slate-800"),children:"Security Settings"}),(0,Om.jsx)("p",{className:"text-slate-500 text-sm",children:"Update your password to keep your account safe."})]}),(0,Om.jsxs)("div",{className:"max-w-md mx-auto space-y-5 py-4",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"Current Password"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)(D,{className:"w-4 h-4 absolute left-3 top-3.5 text-slate-400"}),(0,Om.jsx)("input",{type:"password",className:"w-full pl-9 pr-3 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(u?"bg-slate-900 border-slate-600 text-white placeholder-slate-500":"bg-white border-slate-200 text-slate-900"),value:x.current,onChange:e=>k(c(c({},x),{},{current:e.target.value})),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"New Password"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)(Y,{className:"w-4 h-4 absolute left-3 top-3.5 text-slate-400"}),(0,Om.jsx)("input",{type:"password",className:"w-full pl-9 pr-3 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(u?"bg-slate-900 border-slate-600 text-white placeholder-slate-500":"bg-white border-slate-200 text-slate-900"),value:x.new,onChange:e=>k(c(c({},x),{},{new:e.target.value})),placeholder:"New secure password"})]})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"Confirm New Password"}),(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)(J,{className:"w-4 h-4 absolute left-3 top-3.5 text-slate-400"}),(0,Om.jsx)("input",{type:"password",className:"w-full pl-9 pr-3 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ".concat(u?"bg-slate-900 border-slate-600 text-white placeholder-slate-500":"bg-white border-slate-200 text-slate-900"),value:x.confirm,onChange:e=>k(c(c({},x),{},{confirm:e.target.value})),placeholder:"Repeat new password"})]})]}),(0,Om.jsx)("div",{className:"pt-2",children:(0,Om.jsx)("button",{onClick:async()=>{if(x.new===x.confirm)if(x.current===o.password){p(!0);try{const e=ed(Mm,"artifacts",Fm,"public","data","doctors",o.email);await ah(e,{password:x.new}),l(c(c({},o),{},{password:x.new})),k({current:"",new:"",confirm:""}),S("Password changed successfully.")}catch(e){S(e.message,"error")}p(!1)}else S("Current password is incorrect.","error");else S("New passwords do not match.","error")},disabled:f||!x.current||!x.new,className:"w-full bg-slate-900 hover:bg-slate-800 text-white px-6 py-3 rounded-xl font-bold shadow-lg disabled:opacity-70 transition-all active:scale-95",children:f?"Updating...":"Change Password"})})]})]})]})]})})}function Qm(e){let{active:t,onClick:n,icon:i,label:s,isDarkMode:a}=e;return(0,Om.jsxs)("button",{onClick:n,className:"flex w-full items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ".concat(t?"bg-indigo-500/10 text-indigo-500 ring-1 ring-indigo-500/20 shadow-sm":a?"text-slate-400 hover:bg-white/5 hover:text-white":"text-slate-500 hover:bg-slate-50 hover:text-slate-900"),children:[t&&(0,Om.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-indigo-500 rounded-r-full shadow-[0_0_10px_2px_rgba(99,102,241,0.5)]"}),r.cloneElement(i,{className:"w-5 h-5 transition-colors ".concat(t?"text-indigo-500":a?"group-hover:text-white":"group-hover:text-slate-900")}),(0,Om.jsx)("span",{className:"font-bold text-xs uppercase tracking-widest",children:s}),t&&(0,Om.jsx)($,{className:"w-4 h-4 ml-auto opacity-50 text-indigo-500"})]})}function Xm(e){let{active:t,onClick:n,icon:i,label:s,isDarkMode:a}=e;return(0,Om.jsxs)("button",{onClick:n,className:"flex flex-col items-center gap-1 p-2 rounded-xl transition-all duration-300 relative ".concat(t?"text-indigo-500 -translate-y-1":a?"text-slate-400 hover:text-slate-300":"text-slate-400 hover:text-slate-600"),children:[t&&(0,Om.jsx)("div",{className:"absolute -top-2 w-8 h-1 bg-indigo-500 rounded-full shadow-[0_2px_8px_rgba(99,102,241,0.4)]"}),r.cloneElement(i,{className:"w-6 h-6 ".concat(t?"fill-current opacity-100":"opacity-70")}),(0,Om.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wide",children:s})]})}function Ym(e){let{onClose:t,onAdd:n,initialName:i}=e;const[s,a]=(0,r.useState)({name:i||"",dosage:"",price:""});return(0,Om.jsxs)("div",{className:"bg-white rounded-2xl p-8 w-full max-w-sm shadow-2xl border border-slate-100 animate-in fade-in zoom-in-95 duration-200",children:[(0,Om.jsx)("h3",{className:"font-bold mb-4 uppercase tracking-widest text-sm text-slate-500",children:"Add Custom Item"}),(0,Om.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s.name&&n(s)},className:"space-y-4",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Medicine Name"}),(0,Om.jsx)("input",{required:!0,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all",placeholder:"Enter name",value:s.name,onChange:e=>a(c(c({},s),{},{name:e.target.value}))})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Dosage"}),(0,Om.jsx)("input",{required:!0,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all",placeholder:"e.g. 500mg Tab",value:s.dosage,onChange:e=>a(c(c({},s),{},{dosage:e.target.value}))})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Unit Price (\u20b1)"}),(0,Om.jsx)("input",{required:!0,type:"number",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all",placeholder:"0.00",value:s.price,onChange:e=>a(c(c({},s),{},{price:e.target.value}))})]}),(0,Om.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,Om.jsx)("button",{type:"button",onClick:t,className:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-600 font-bold py-3 rounded-xl transition-colors",children:"Cancel"}),(0,Om.jsx)("button",{type:"submit",className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl shadow-lg shadow-indigo-600/20 transition-all active:scale-95",children:"Add Item"})]})]})]})}i.createRoot(document.getElementById("root")).render((0,Om.jsx)(r.StrictMode,{children:(0,Om.jsx)(Um,{})}))})();
//# sourceMappingURL=main.d4a654d7.js.map